(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function La(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $r={},Sr={};Sr.byteLength=Y0;Sr.toByteArray=X0;Sr.fromByteArray=tf;var Xe=[],Fe=[],K0=typeof Uint8Array<"u"?Uint8Array:Array,oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dt=0,Z0=oi.length;Dt<Z0;++Dt)Xe[Dt]=oi[Dt],Fe[oi.charCodeAt(Dt)]=Dt;Fe[45]=62;Fe[95]=63;function ja(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function Y0(e){var t=ja(e),n=t[0],r=t[1];return(n+r)*3/4-r}function J0(e,t,n){return(t+n)*3/4-n}function X0(e){var t,n=ja(e),r=n[0],i=n[1],s=new K0(J0(e,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)t=Fe[e.charCodeAt(c)]<<18|Fe[e.charCodeAt(c+1)]<<12|Fe[e.charCodeAt(c+2)]<<6|Fe[e.charCodeAt(c+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=t&255;return i===2&&(t=Fe[e.charCodeAt(c)]<<2|Fe[e.charCodeAt(c+1)]>>4,s[o++]=t&255),i===1&&(t=Fe[e.charCodeAt(c)]<<10|Fe[e.charCodeAt(c+1)]<<4|Fe[e.charCodeAt(c+2)]>>2,s[o++]=t>>8&255,s[o++]=t&255),s}function Q0(e){return Xe[e>>18&63]+Xe[e>>12&63]+Xe[e>>6&63]+Xe[e&63]}function ef(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(Q0(r));return i.join("")}function tf(e){for(var t,n=e.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(ef(e,o,o+s>a?a:o+s));return r===1?(t=e[n-1],i.push(Xe[t>>2]+Xe[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Xe[t>>10]+Xe[t>>4&63]+Xe[t<<2&63]+"=")),i.join("")}var ys={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ys.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,d=c>>1,l=-7,h=n?i-1:0,b=n?-1:1,m=e[t+h];for(h+=b,s=m&(1<<-l)-1,m>>=-l,l+=a;l>0;s=s*256+e[t+h],h+=b,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+e[t+h],h+=b,l-=8);if(s===0)s=1-d;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-d}return(m?-1:1)*o*Math.pow(2,s-r)};ys.write=function(e,t,n,r,i,s){var o,a,c,d=s*8-i-1,l=(1<<d)-1,h=l>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,g=r?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=b/c:t+=b*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+m]=a&255,m+=g,a/=256,i-=8);for(o=o<<i|a,d+=i;d>0;e[n+m]=o&255,m+=g,o/=256,d-=8);e[n+m-g]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Sr,n=ys,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(p,u),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const u=new Uint8Array(p);return Object.setPrototypeOf(u,a.prototype),u}function a(p,u,f){if(typeof p=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(p)}return c(p,u,f)}a.poolSize=8192;function c(p,u,f){if(typeof p=="string")return b(p,u);if(ArrayBuffer.isView(p))return g(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Ze(p,ArrayBuffer)||p&&Ze(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(p,SharedArrayBuffer)||p&&Ze(p.buffer,SharedArrayBuffer)))return w(p,u,f);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,u,f);const x=B(p);if(x)return x;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,u,f){return c(p,u,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function l(p,u,f){return d(p),p<=0?o(p):u!==void 0?typeof f=="string"?o(p).fill(u,f):o(p).fill(u):o(p)}a.alloc=function(p,u,f){return l(p,u,f)};function h(p){return d(p),o(p<0?0:A(p)|0)}a.allocUnsafe=function(p){return h(p)},a.allocUnsafeSlow=function(p){return h(p)};function b(p,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const f=P(p,u)|0;let y=o(f);const x=y.write(p,u);return x!==f&&(y=y.slice(0,x)),y}function m(p){const u=p.length<0?0:A(p.length)|0,f=o(u);for(let y=0;y<u;y+=1)f[y]=p[y]&255;return f}function g(p){if(Ze(p,Uint8Array)){const u=new Uint8Array(p);return w(u.buffer,u.byteOffset,u.byteLength)}return m(p)}function w(p,u,f){if(u<0||p.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');let y;return u===void 0&&f===void 0?y=new Uint8Array(p):f===void 0?y=new Uint8Array(p,u):y=new Uint8Array(p,u,f),Object.setPrototypeOf(y,a.prototype),y}function B(p){if(a.isBuffer(p)){const u=A(p.length)|0,f=o(u);return f.length===0||p.copy(f,0,0,u),f}if(p.length!==void 0)return typeof p.length!="number"||si(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function A(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function T(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,f){if(Ze(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),Ze(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(u)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;let y=u.length,x=f.length;for(let E=0,$=Math.min(y,x);E<$;++E)if(u[E]!==f[E]){y=u[E],x=f[E];break}return y<x?-1:x<y?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);let y;if(f===void 0)for(f=0,y=0;y<u.length;++y)f+=u[y].length;const x=a.allocUnsafe(f);let E=0;for(y=0;y<u.length;++y){let $=u[y];if(Ze($,Uint8Array))E+$.length>x.length?(a.isBuffer($)||($=a.from($)),$.copy(x,E)):Uint8Array.prototype.set.call(x,$,E);else if(a.isBuffer($))$.copy(x,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=$.length}return x};function P(p,u){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Ze(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const f=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&f===0)return 0;let x=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return ii(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Io(p).length;default:if(x)return y?-1:ii(p).length;u=(""+u).toLowerCase(),x=!0}}a.byteLength=P;function v(p,u,f){let y=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return"";for(p||(p="utf8");;)switch(p){case"hex":return j(this,u,f);case"utf8":case"utf-8":return X(this,u,f);case"ascii":return G(this,u,f);case"latin1":case"binary":return k(this,u,f);case"base64":return z(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,u,f);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function I(p,u,f){const y=p[u];p[u]=p[f],p[f]=y}a.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<u;f+=2)I(this,f,f+1);return this},a.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<u;f+=4)I(this,f,f+3),I(this,f+1,f+2);return this},a.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<u;f+=8)I(this,f,f+7),I(this,f+1,f+6),I(this,f+2,f+5),I(this,f+3,f+4);return this},a.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?X(this,0,u):v.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){let u="";const f=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(u,f,y,x,E){if(Ze(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),y===void 0&&(y=u?u.length:0),x===void 0&&(x=0),E===void 0&&(E=this.length),f<0||y>u.length||x<0||E>this.length)throw new RangeError("out of range index");if(x>=E&&f>=y)return 0;if(x>=E)return-1;if(f>=y)return 1;if(f>>>=0,y>>>=0,x>>>=0,E>>>=0,this===u)return 0;let $=E-x,Y=y-f;const ie=Math.min($,Y),te=this.slice(x,E),se=u.slice(f,y);for(let Q=0;Q<ie;++Q)if(te[Q]!==se[Q]){$=te[Q],Y=se[Q];break}return $<Y?-1:Y<$?1:0};function R(p,u,f,y,x){if(p.length===0)return-1;if(typeof f=="string"?(y=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,si(f)&&(f=x?0:p.length-1),f<0&&(f=p.length+f),f>=p.length){if(x)return-1;f=p.length-1}else if(f<0)if(x)f=0;else return-1;if(typeof u=="string"&&(u=a.from(u,y)),a.isBuffer(u))return u.length===0?-1:C(p,u,f,y,x);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(p,u,f):Uint8Array.prototype.lastIndexOf.call(p,u,f):C(p,[u],f,y,x);throw new TypeError("val must be string, number or Buffer")}function C(p,u,f,y,x){let E=1,$=p.length,Y=u.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||u.length<2)return-1;E=2,$/=2,Y/=2,f/=2}function ie(se,Q){return E===1?se[Q]:se.readUInt16BE(Q*E)}let te;if(x){let se=-1;for(te=f;te<$;te++)if(ie(p,te)===ie(u,se===-1?0:te-se)){if(se===-1&&(se=te),te-se+1===Y)return se*E}else se!==-1&&(te-=te-se),se=-1}else for(f+Y>$&&(f=$-Y),te=f;te>=0;te--){let se=!0;for(let Q=0;Q<Y;Q++)if(ie(p,te+Q)!==ie(u,Q)){se=!1;break}if(se)return te}return-1}a.prototype.includes=function(u,f,y){return this.indexOf(u,f,y)!==-1},a.prototype.indexOf=function(u,f,y){return R(this,u,f,y,!0)},a.prototype.lastIndexOf=function(u,f,y){return R(this,u,f,y,!1)};function O(p,u,f,y){f=Number(f)||0;const x=p.length-f;y?(y=Number(y),y>x&&(y=x)):y=x;const E=u.length;y>E/2&&(y=E/2);let $;for($=0;$<y;++$){const Y=parseInt(u.substr($*2,2),16);if(si(Y))return $;p[f+$]=Y}return $}function U(p,u,f,y){return fr(ii(u,p.length-f),p,f,y)}function H(p,u,f,y){return fr(G0(u),p,f,y)}function M(p,u,f,y){return fr(Io(u),p,f,y)}function L(p,u,f,y){return fr(V0(u,p.length-f),p,f,y)}a.prototype.write=function(u,f,y,x){if(f===void 0)x="utf8",y=this.length,f=0;else if(y===void 0&&typeof f=="string")x=f,y=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(y)?(y=y>>>0,x===void 0&&(x="utf8")):(x=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const E=this.length-f;if((y===void 0||y>E)&&(y=E),u.length>0&&(y<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");let $=!1;for(;;)switch(x){case"hex":return O(this,u,f,y);case"utf8":case"utf-8":return U(this,u,f,y);case"ascii":case"latin1":case"binary":return H(this,u,f,y);case"base64":return M(this,u,f,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,u,f,y);default:if($)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(p,u,f){return u===0&&f===p.length?t.fromByteArray(p):t.fromByteArray(p.slice(u,f))}function X(p,u,f){f=Math.min(p.length,f);const y=[];let x=u;for(;x<f;){const E=p[x];let $=null,Y=E>239?4:E>223?3:E>191?2:1;if(x+Y<=f){let ie,te,se,Q;switch(Y){case 1:E<128&&($=E);break;case 2:ie=p[x+1],(ie&192)===128&&(Q=(E&31)<<6|ie&63,Q>127&&($=Q));break;case 3:ie=p[x+1],te=p[x+2],(ie&192)===128&&(te&192)===128&&(Q=(E&15)<<12|(ie&63)<<6|te&63,Q>2047&&(Q<55296||Q>57343)&&($=Q));break;case 4:ie=p[x+1],te=p[x+2],se=p[x+3],(ie&192)===128&&(te&192)===128&&(se&192)===128&&(Q=(E&15)<<18|(ie&63)<<12|(te&63)<<6|se&63,Q>65535&&Q<1114112&&($=Q))}}$===null?($=65533,Y=1):$>65535&&($-=65536,y.push($>>>10&1023|55296),$=56320|$&1023),y.push($),x+=Y}return _(y)}const F=4096;function _(p){const u=p.length;if(u<=F)return String.fromCharCode.apply(String,p);let f="",y=0;for(;y<u;)f+=String.fromCharCode.apply(String,p.slice(y,y+=F));return f}function G(p,u,f){let y="";f=Math.min(p.length,f);for(let x=u;x<f;++x)y+=String.fromCharCode(p[x]&127);return y}function k(p,u,f){let y="";f=Math.min(p.length,f);for(let x=u;x<f;++x)y+=String.fromCharCode(p[x]);return y}function j(p,u,f){const y=p.length;(!u||u<0)&&(u=0),(!f||f<0||f>y)&&(f=y);let x="";for(let E=u;E<f;++E)x+=q0[p[E]];return x}function V(p,u,f){const y=p.slice(u,f);let x="";for(let E=0;E<y.length-1;E+=2)x+=String.fromCharCode(y[E]+y[E+1]*256);return x}a.prototype.slice=function(u,f){const y=this.length;u=~~u,f=f===void 0?y:~~f,u<0?(u+=y,u<0&&(u=0)):u>y&&(u=y),f<0?(f+=y,f<0&&(f=0)):f>y&&(f=y),f<u&&(f=u);const x=this.subarray(u,f);return Object.setPrototypeOf(x,a.prototype),x};function q(p,u,f){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+u>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=this[u],E=1,$=0;for(;++$<f&&(E*=256);)x+=this[u+$]*E;return x},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=this[u+--f],E=1;for(;f>0&&(E*=256);)x+=this[u+--f]*E;return x},a.prototype.readUint8=a.prototype.readUInt8=function(u,f){return u=u>>>0,f||q(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||q(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||q(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||q(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||q(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readBigUInt64LE=wt(function(u){u=u>>>0,xe(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,E=this[++u]+this[++u]*2**8+this[++u]*2**16+y*2**24;return BigInt(x)+(BigInt(E)<<BigInt(32))}),a.prototype.readBigUInt64BE=wt(function(u){u=u>>>0,xe(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=f*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],E=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y;return(BigInt(x)<<BigInt(32))+BigInt(E)}),a.prototype.readIntLE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=this[u],E=1,$=0;for(;++$<f&&(E*=256);)x+=this[u+$]*E;return E*=128,x>=E&&(x-=Math.pow(2,8*f)),x},a.prototype.readIntBE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=f,E=1,$=this[u+--x];for(;x>0&&(E*=256);)$+=this[u+--x]*E;return E*=128,$>=E&&($-=Math.pow(2,8*f)),$},a.prototype.readInt8=function(u,f){return u=u>>>0,f||q(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,f){u=u>>>0,f||q(u,2,this.length);const y=this[u]|this[u+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(u,f){u=u>>>0,f||q(u,2,this.length);const y=this[u+1]|this[u]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(u,f){return u=u>>>0,f||q(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,f){return u=u>>>0,f||q(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readBigInt64LE=wt(function(u){u=u>>>0,xe(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(y<<24);return(BigInt(x)<<BigInt(32))+BigInt(f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),a.prototype.readBigInt64BE=wt(function(u){u=u>>>0,xe(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=(f<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(x)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y)}),a.prototype.readFloatLE=function(u,f){return u=u>>>0,f||q(u,4,this.length),n.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,f){return u=u>>>0,f||q(u,4,this.length),n.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||q(u,8,this.length),n.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||q(u,8,this.length),n.read(this,u,!1,52,8)};function J(p,u,f,y,x,E){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>x||u<E)throw new RangeError('"value" argument is out of bounds');if(f+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,f,y,x){if(u=+u,f=f>>>0,y=y>>>0,!x){const Y=Math.pow(2,8*y)-1;J(this,u,f,y,Y,0)}let E=1,$=0;for(this[f]=u&255;++$<y&&(E*=256);)this[f+$]=u/E&255;return f+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,f,y,x){if(u=+u,f=f>>>0,y=y>>>0,!x){const Y=Math.pow(2,8*y)-1;J(this,u,f,y,Y,0)}let E=y-1,$=1;for(this[f+E]=u&255;--E>=0&&($*=256);)this[f+E]=u/$&255;return f+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,1,255,0),this[f]=u&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function ue(p,u,f,y,x){yt(u,y,x,p,f,7);let E=Number(u&BigInt(4294967295));p[f++]=E,E=E>>8,p[f++]=E,E=E>>8,p[f++]=E,E=E>>8,p[f++]=E;let $=Number(u>>BigInt(32)&BigInt(4294967295));return p[f++]=$,$=$>>8,p[f++]=$,$=$>>8,p[f++]=$,$=$>>8,p[f++]=$,f}function ae(p,u,f,y,x){yt(u,y,x,p,f,7);let E=Number(u&BigInt(4294967295));p[f+7]=E,E=E>>8,p[f+6]=E,E=E>>8,p[f+5]=E,E=E>>8,p[f+4]=E;let $=Number(u>>BigInt(32)&BigInt(4294967295));return p[f+3]=$,$=$>>8,p[f+2]=$,$=$>>8,p[f+1]=$,$=$>>8,p[f]=$,f+8}a.prototype.writeBigUInt64LE=wt(function(u,f=0){return ue(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=wt(function(u,f=0){return ae(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(u,f,y,x){if(u=+u,f=f>>>0,!x){const ie=Math.pow(2,8*y-1);J(this,u,f,y,ie-1,-ie)}let E=0,$=1,Y=0;for(this[f]=u&255;++E<y&&($*=256);)u<0&&Y===0&&this[f+E-1]!==0&&(Y=1),this[f+E]=(u/$>>0)-Y&255;return f+y},a.prototype.writeIntBE=function(u,f,y,x){if(u=+u,f=f>>>0,!x){const ie=Math.pow(2,8*y-1);J(this,u,f,y,ie-1,-ie)}let E=y-1,$=1,Y=0;for(this[f+E]=u&255;--E>=0&&($*=256);)u<0&&Y===0&&this[f+E+1]!==0&&(Y=1),this[f+E]=(u/$>>0)-Y&255;return f+y},a.prototype.writeInt8=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},a.prototype.writeInt16LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeInt16BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeInt32LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},a.prototype.writeInt32BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},a.prototype.writeBigInt64LE=wt(function(u,f=0){return ue(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=wt(function(u,f=0){return ae(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function re(p,u,f,y,x,E){if(f+y>p.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function fe(p,u,f,y,x){return u=+u,f=f>>>0,x||re(p,u,f,4),n.write(p,u,f,y,23,4),f+4}a.prototype.writeFloatLE=function(u,f,y){return fe(this,u,f,!0,y)},a.prototype.writeFloatBE=function(u,f,y){return fe(this,u,f,!1,y)};function _e(p,u,f,y,x){return u=+u,f=f>>>0,x||re(p,u,f,8),n.write(p,u,f,y,52,8),f+8}a.prototype.writeDoubleLE=function(u,f,y){return _e(this,u,f,!0,y)},a.prototype.writeDoubleBE=function(u,f,y){return _e(this,u,f,!1,y)},a.prototype.copy=function(u,f,y,x){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(y||(y=0),!x&&x!==0&&(x=this.length),f>=u.length&&(f=u.length),f||(f=0),x>0&&x<y&&(x=y),x===y||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),u.length-f<x-y&&(x=u.length-f+y);const E=x-y;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,y,x):Uint8Array.prototype.set.call(u,this.subarray(y,x),f),E},a.prototype.fill=function(u,f,y,x){if(typeof u=="string"){if(typeof f=="string"?(x=f,f=0,y=this.length):typeof y=="string"&&(x=y,y=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(u.length===1){const $=u.charCodeAt(0);(x==="utf8"&&$<128||x==="latin1")&&(u=$)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<y)throw new RangeError("Out of range index");if(y<=f)return this;f=f>>>0,y=y===void 0?this.length:y>>>0,u||(u=0);let E;if(typeof u=="number")for(E=f;E<y;++E)this[E]=u;else{const $=a.isBuffer(u)?u:a.from(u,x),Y=$.length;if(Y===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(E=0;E<y-f;++E)this[E+f]=$[E%Y]}return this};const Ke={};function Ne(p,u,f){Ke[p]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(p,u){return`The "${p}" argument must be of type number. Received type ${typeof u}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(p,u,f){let y=`The value of "${p}" is out of range.`,x=f;return Number.isInteger(f)&&Math.abs(f)>2**32?x=st(String(f)):typeof f=="bigint"&&(x=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(x=st(x)),x+="n"),y+=` It must be ${u}. Received ${x}`,y},RangeError);function st(p){let u="",f=p.length;const y=p[0]==="-"?1:0;for(;f>=y+4;f-=3)u=`_${p.slice(f-3,f)}${u}`;return`${p.slice(0,f)}${u}`}function mn(p,u,f){xe(u,"offset"),(p[u]===void 0||p[u+f]===void 0)&&Me(u,p.length-(f+1))}function yt(p,u,f,y,x,E){if(p>f||p<u){const $=typeof u=="bigint"?"n":"";let Y;throw u===0||u===BigInt(0)?Y=`>= 0${$} and < 2${$} ** ${(E+1)*8}${$}`:Y=`>= -(2${$} ** ${(E+1)*8-1}${$}) and < 2 ** ${(E+1)*8-1}${$}`,new Ke.ERR_OUT_OF_RANGE("value",Y,p)}mn(y,x,E)}function xe(p,u){if(typeof p!="number")throw new Ke.ERR_INVALID_ARG_TYPE(u,"number",p)}function Me(p,u,f){throw Math.floor(p)!==p?(xe(p,f),new Ke.ERR_OUT_OF_RANGE("offset","an integer",p)):u<0?new Ke.ERR_BUFFER_OUT_OF_BOUNDS:new Ke.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,p)}const $t=/[^+/0-9A-Za-z-_]/g;function gt(p){if(p=p.split("=")[0],p=p.trim().replace($t,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function ii(p,u){u=u||1/0;let f;const y=p.length;let x=null;const E=[];for(let $=0;$<y;++$){if(f=p.charCodeAt($),f>55295&&f<57344){if(!x){if(f>56319){(u-=3)>-1&&E.push(239,191,189);continue}else if($+1===y){(u-=3)>-1&&E.push(239,191,189);continue}x=f;continue}if(f<56320){(u-=3)>-1&&E.push(239,191,189),x=f;continue}f=(x-55296<<10|f-56320)+65536}else x&&(u-=3)>-1&&E.push(239,191,189);if(x=null,f<128){if((u-=1)<0)break;E.push(f)}else if(f<2048){if((u-=2)<0)break;E.push(f>>6|192,f&63|128)}else if(f<65536){if((u-=3)<0)break;E.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((u-=4)<0)break;E.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return E}function G0(p){const u=[];for(let f=0;f<p.length;++f)u.push(p.charCodeAt(f)&255);return u}function V0(p,u){let f,y,x;const E=[];for(let $=0;$<p.length&&!((u-=2)<0);++$)f=p.charCodeAt($),y=f>>8,x=f%256,E.push(x),E.push(y);return E}function Io(p){return t.toByteArray(gt(p))}function fr(p,u,f,y){let x;for(x=0;x<y&&!(x+f>=u.length||x>=p.length);++x)u[x+f]=p[x];return x}function Ze(p,u){return p instanceof u||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===u.name}function si(p){return p!==p}const q0=function(){const p="0123456789abcdef",u=new Array(256);for(let f=0;f<16;++f){const y=f*16;for(let x=0;x<16;++x)u[y+x]=p[f]+p[x]}return u}();function wt(p){return typeof BigInt>"u"?W0:p}function W0(){throw new Error("BigInt not supported")}})($r);const nf="0.1.1";function rf(){return nf}let we=class Ri extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof Ri){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof Ri&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${rf()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=t}walk(t){return Da(this,t)}};function Da(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Da(e.cause,t):t?null:e}const Ht=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Pn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function kt(e,...t){if(!sf(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function of(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pn(e.outputLen),Pn(e.blockLen)}function nn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ha(e,t){kt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function af(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function rn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ai(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ye(e,t){return e<<32-t|e>>>t}const cf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function uf(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function ff(e){for(let t=0;t<e.length;t++)e[t]=uf(e[t]);return e}const Bo=cf?e=>e:ff;function df(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Tr(e){return typeof e=="string"&&(e=df(e)),kt(e),e}function lf(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];kt(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}class gs{}function Ga(e){const t=r=>e().update(Tr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function hf(e=32){if(Ht&&typeof Ht.getRandomValues=="function")return Ht.getRandomValues(new Uint8Array(e));if(Ht&&typeof Ht.randomBytes=="function")return Uint8Array.from(Ht.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function pf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,d=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+d,a,r)}function bf(e,t,n){return e&t^~e&n}function mf(e,t,n){return e&t^e&n^t&n}class yf extends gs{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=ai(this.buffer)}update(t){nn(this),t=Tr(t),kt(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=ai(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){nn(this),Ha(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,rn(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;pf(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=ai(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,l=this.get();if(d>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<d;h++)a.setUint32(4*h,l[h],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const xt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),dr=BigInt(2**32-1),$o=BigInt(32);function gf(e,t=!1){return t?{h:Number(e&dr),l:Number(e>>$o&dr)}:{h:Number(e>>$o&dr)|0,l:Number(e&dr)|0}}function wf(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=gf(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]}const xf=(e,t,n)=>e<<n|t>>>32-n,vf=(e,t,n)=>t<<n|e>>>32-n,Ef=(e,t,n)=>t<<n-32|e>>>64-n,Af=(e,t,n)=>e<<n-32|t>>>64-n,Pf=BigInt(0),yn=BigInt(1),If=BigInt(2),Bf=BigInt(7),$f=BigInt(256),Sf=BigInt(113),Va=[],qa=[],Wa=[];for(let e=0,t=yn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Va.push(2*(5*r+n)),qa.push((e+1)*(e+2)/2%64);let i=Pf;for(let s=0;s<7;s++)t=(t<<yn^(t>>Bf)*Sf)%$f,t&If&&(i^=yn<<(yn<<BigInt(s))-yn);Wa.push(i)}const Ka=wf(Wa,!0),Tf=Ka[0],Cf=Ka[1],So=(e,t,n)=>n>32?Ef(e,t,n):xf(e,t,n),To=(e,t,n)=>n>32?Af(e,t,n):vf(e,t,n);function Rf(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,d=n[c],l=n[c+1],h=So(d,l,1)^n[a],b=To(d,l,1)^n[a+1];for(let m=0;m<50;m+=10)e[o+m]^=h,e[o+m+1]^=b}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=qa[o],c=So(i,s,a),d=To(i,s,a),l=Va[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=d}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=Tf[r],e[1]^=Cf[r]}rn(n)}class ws extends gs{constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Pn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=af(this.state)}clone(){return this._cloneInto()}keccak(){Bo(this.state32),Rf(this.state32,this.rounds),Bo(this.state32),this.posOut=0,this.pos=0}update(t){nn(this),t=Tr(t),kt(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,n&128&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){nn(this,!1),kt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ha(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new ws(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const kf=(e,t,n)=>Ga(()=>new ws(t,e,n)),xs=kf(1,136,256/8),Ff=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vt=new Uint32Array(64);class Of extends yf{constructor(t=32){super(64,t,8,!1),this.A=xt[0]|0,this.B=xt[1]|0,this.C=xt[2]|0,this.D=xt[3]|0,this.E=xt[4]|0,this.F=xt[5]|0,this.G=xt[6]|0,this.H=xt[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let h=0;h<16;h++,n+=4)vt[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const b=vt[h-15],m=vt[h-2],g=Ye(b,7)^Ye(b,18)^b>>>3,w=Ye(m,17)^Ye(m,19)^m>>>10;vt[h]=w+vt[h-7]+g+vt[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:d,H:l}=this;for(let h=0;h<64;h++){const b=Ye(a,6)^Ye(a,11)^Ye(a,25),m=l+b+bf(a,c,d)+Ff[h]+vt[h]|0,w=(Ye(r,2)^Ye(r,13)^Ye(r,22))+mf(r,i,s)|0;l=d,d=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+w|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,d,l)}roundClean(){rn(vt)}destroy(){this.set(0,0,0,0,0,0,0,0),rn(this.buffer)}}const Za=Ga(()=>new Of),_f=Za,Nf="#__bigint";function vs(e,t,n){return JSON.stringify(e,(r,i)=>typeof t=="function"?t(r,i):typeof i=="bigint"?i.toString()+Nf:i,n)}vs.parseError=e=>e;function Mf(e,t){if(ki(e)>t)throw new Vf({givenSize:ki(e),maxSize:t})}const ot={zero:48,nine:57,A:65,F:70,a:97,f:102};function Co(e){if(e>=ot.zero&&e<=ot.nine)return e-ot.zero;if(e>=ot.A&&e<=ot.F)return e-(ot.A-10);if(e>=ot.a&&e<=ot.f)return e-(ot.a-10)}function zf(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new qf({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=e[o?s:e.length-s-1]}return i}function Es(e,t){if(vr(e)>t)throw new Df({givenSize:vr(e),maxSize:t})}function Ya(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const i=e.replace("0x","");if(i.length>r*2)throw new Hf({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Uf=new TextEncoder,Lf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ja(e,t={}){const{strict:n=!1}=t;if(!e)throw new Ro(e);if(typeof e!="string")throw new Ro(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ko(e);if(!e.startsWith("0x"))throw new ko(e)}Ja.parseError=e=>e;function As(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}As.parseError=e=>e;function Xa(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Es(n,t.size),In(n,t.size)):n}Xa.parseError=e=>e;function Ps(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=Lf[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Es(r,t.size),Cr(r,t.size)):r}Ps.parseError=e=>e;function Qa(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const d=typeof e=="bigint"?"n":"";throw new jf({max:s?`${s}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${e}${d}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?In(c,r):c}Qa.parseError=e=>e;function ec(e,t={}){return Ps(Uf.encode(e),t)}ec.parseError=e=>e;function In(e,t){return Ya(e,{dir:"left",size:t})}In.parseError=e=>e;function Cr(e,t){return Ya(e,{dir:"right",size:t})}Cr.parseError=e=>e;function vr(e){return Math.ceil((e.length-2)/2)}vr.parseError=e=>e;function tc(e,t={}){const{strict:n=!1}=t;try{return Ja(e,{strict:n}),!0}catch{return!1}}tc.parseError=e=>e;let jf=class extends we{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Ro=class extends we{constructor(t){super(`Value \`${typeof t=="object"?vs(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},ko=class extends we{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Df=class extends we{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},Hf=class extends we{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const Gf=new TextEncoder;function nc(e){if(!(e instanceof Uint8Array)){if(!e)throw new lr(e);if(typeof e!="object")throw new lr(e);if(!("BYTES_PER_ELEMENT"in e))throw new lr(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new lr(e)}}nc.parseError=e=>e;function rc(e){return e instanceof Uint8Array?e:typeof e=="string"?sc(e):ic(e)}rc.parseError=e=>e;function ic(e){return e instanceof Uint8Array?e:new Uint8Array(e)}ic.parseError=e=>e;function sc(e,t={}){const{size:n}=t;let r=e;n&&(Es(e,n),r=Cr(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const d=Co(i.charCodeAt(c++)),l=Co(i.charCodeAt(c++));if(d===void 0||l===void 0)throw new we(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=d*16+l}return o}sc.parseError=e=>e;function oc(e,t={}){const{size:n}=t,r=Gf.encode(e);return typeof n=="number"?(Mf(r,n),ac(r,n)):r}oc.parseError=e=>e;function ac(e,t){return zf(e,{dir:"right",size:t})}ac.parseError=e=>e;function ki(e){return e.length}ki.parseError=e=>e;function cc(e){try{return nc(e),!0}catch{return!1}}cc.parseError=e=>e;class lr extends we{constructor(t){super(`Value \`${typeof t=="object"?vs(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let Vf=class extends we{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},qf=class extends we{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function Is(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=xs(rc(e));return n==="Bytes"?r:Ps(r)}Is.parseError=e=>e;let Wf=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Kf={checksum:new Wf(8192)},ci=Kf.checksum,Zf=/^0x[a-fA-F0-9]{40}$/;function Bs(e,t={}){const{strict:n=!0}=t;if(!Zf.test(e))throw new Fo({address:e,cause:new Yf});if(n){if(e.toLowerCase()===e)return;if(uc(e)!==e)throw new Fo({address:e,cause:new Jf})}}Bs.parseError=e=>e;function uc(e){if(ci.has(e))return ci.get(e);Bs(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Is(oc(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return ci.set(e,i),i}uc.parseError=e=>e;let Fo=class extends we{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},Yf=class extends we{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},Jf=class extends we{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const Xf=/^(.*)\[([0-9]*)\]$/,Qf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ed=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Bn(e,t){if(e.length!==t.length)throw new nd({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(Bn.encode(i,s))}return As(...n)}(function(e){function t(n,r,i=!1){if(n==="address"){const c=r;return Bs(c),In(c.toLowerCase(),i?32:0)}if(n==="string")return ec(r);if(n==="bytes")return r;if(n==="bool")return In(Xa(r),i?32:1);const s=n.match(ed);if(s){const[c,d,l="256"]=s,h=Number.parseInt(l)/8;return Qa(r,{size:i?32:h,signed:d==="int"})}const o=n.match(Qf);if(o){const[c,d]=o;if(Number.parseInt(d)!==(r.length-2)/2)throw new td({expectedSize:Number.parseInt(d),value:r});return Cr(r,i?32:0)}const a=n.match(Xf);if(a&&Array.isArray(r)){const[c,d]=a,l=[];for(let h=0;h<r.length;h++)l.push(t(d,r[h],!0));return l.length===0?"0x":As(...l)}throw new rd(n)}e.encode=t})(Bn||(Bn={}));Bn.parseError=e=>e;let td=class extends we{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${vr(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},nd=class extends we{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},rd=class extends we{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};class fc extends gs{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,of(t);const r=Tr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),rn(s)}update(t){return nn(this),this.iHash.update(t),this}digestInto(t){nn(this),kt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const dc=(e,t,n)=>new fc(e,t).update(n).digest();dc.create=(e,t)=>new fc(e,t);function id(e){return cc(e)||tc(e)?$s(e):od(e)}function sd(e){const[t,n]=e.reduce(([r,i],[s,o])=>(r.push(s),i.push(o),[r,i]),[[],[]]);return $s(Bn(t,n))}function od(e){const t=$r.Buffer.from(e);return $s(t)}function $s(e){const t=BigInt(Is(e,{as:"Hex"}))>>8n,n=t.toString(16);return{hash:t,digest:`0x${n.padStart(64,"0")}`}}var lc=e=>!e||typeof e=="string"?id(e??""):sd(e.types.map((t,n)=>[t,e.values[n]])),hc=e=>e?typeof e=="string"?e:e.types.map((t,n)=>`${t}(${e.values[n]})`).join(","):"";const ad={},Oo=e=>{let t;const n=new Set,r=(l,h)=>{const b=typeof l=="function"?l(t):l;if(!Object.is(b,t)){const m=t;t=h??(typeof b!="object"||b===null)?b:Object.assign({},t,b),n.forEach(g=>g(t,m))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>d,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(ad?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,i,c);return c},cd=e=>e?Oo(e):Oo;var pc={exports:{}},K={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.transitional.element"),ud=Symbol.for("react.portal"),fd=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),hd=Symbol.for("react.consumer"),pd=Symbol.for("react.context"),bd=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),yd=Symbol.for("react.memo"),bc=Symbol.for("react.lazy"),gd=Symbol.for("react.activity"),_o=Symbol.iterator;function wd(e){return e===null||typeof e!="object"?null:(e=_o&&e[_o]||e["@@iterator"],typeof e=="function"?e:null)}var mc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yc=Object.assign,gc={};function fn(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||mc}fn.prototype.isReactComponent={};fn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wc(){}wc.prototype=fn.prototype;function Ts(e,t,n){this.props=e,this.context=t,this.refs=gc,this.updater=n||mc}var Cs=Ts.prototype=new wc;Cs.constructor=Ts;yc(Cs,fn.prototype);Cs.isPureReactComponent=!0;var No=Array.isArray;function Fi(){}var ee={H:null,A:null,T:null,S:null},xc=Object.prototype.hasOwnProperty;function Rs(e,t,n){var r=n.ref;return{$$typeof:Ss,type:e,key:t,ref:r!==void 0?r:null,props:n}}function xd(e,t){return Rs(e.type,t,e.props)}function ks(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ss}function vd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mo=/\/+/g;function ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vd(""+e.key):t.toString(36)}function Ed(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Fi,Fi):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function qt(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ss:case ud:o=!0;break;case bc:return o=e._init,qt(o(e._payload),t,n,r,i)}}if(o)return i=i(e),o=r===""?"."+ui(e,0):r,No(i)?(n="",o!=null&&(n=o.replace(Mo,"$&/")+"/"),qt(i,t,n,"",function(d){return d})):i!=null&&(ks(i)&&(i=xd(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Mo,"$&/")+"/")+o)),t.push(i)),1;o=0;var a=r===""?".":r+":";if(No(e))for(var c=0;c<e.length;c++)r=e[c],s=a+ui(r,c),o+=qt(r,t,n,s,i);else if(c=wd(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,s=a+ui(r,c++),o+=qt(r,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return qt(Ed(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function hr(e,t,n){if(e==null)return e;var r=[],i=0;return qt(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Ad(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pd={map:hr,forEach:function(e,t,n){hr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return hr(e,function(){t++}),t},toArray:function(e){return hr(e,function(t){return t})||[]},only:function(e){if(!ks(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Activity=gd;K.Children=Pd;K.Component=fn;K.Fragment=fd;K.Profiler=ld;K.PureComponent=Ts;K.StrictMode=dd;K.Suspense=md;K.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee;K.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ee.H.useMemoCache(e)}};K.cache=function(e){return function(){return e.apply(null,arguments)}};K.cacheSignal=function(){return null};K.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=yc({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!xc.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(r[s]=t[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return Rs(e.type,i,r)};K.createContext=function(e){return e={$$typeof:pd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:hd,_context:e},e};K.createElement=function(e,t,n){var r,i={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)xc.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return Rs(e,s,i)};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:bd,render:e}};K.isValidElement=ks;K.lazy=function(e){return{$$typeof:bc,_payload:{_status:-1,_result:e},_init:Ad}};K.memo=function(e,t){return{$$typeof:yd,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ee.T,n={};ee.T=n;try{var r=e(),i=ee.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Fi,zo)}catch(s){zo(s)}finally{t!==null&&n.types!==null&&(t.types=n.types),ee.T=t}};K.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()};K.use=function(e){return ee.H.use(e)};K.useActionState=function(e,t,n){return ee.H.useActionState(e,t,n)};K.useCallback=function(e,t){return ee.H.useCallback(e,t)};K.useContext=function(e){return ee.H.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e,t){return ee.H.useDeferredValue(e,t)};K.useEffect=function(e,t){return ee.H.useEffect(e,t)};K.useEffectEvent=function(e){return ee.H.useEffectEvent(e)};K.useId=function(){return ee.H.useId()};K.useImperativeHandle=function(e,t,n){return ee.H.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return ee.H.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return ee.H.useLayoutEffect(e,t)};K.useMemo=function(e,t){return ee.H.useMemo(e,t)};K.useOptimistic=function(e,t){return ee.H.useOptimistic(e,t)};K.useReducer=function(e,t,n){return ee.H.useReducer(e,t,n)};K.useRef=function(e){return ee.H.useRef(e)};K.useState=function(e){return ee.H.useState(e)};K.useSyncExternalStore=function(e,t,n){return ee.H.useSyncExternalStore(e,t,n)};K.useTransition=function(){return ee.H.useTransition()};K.version="19.2.0";pc.exports=K;var Fs=pc.exports;const Id=La(Fs);var vc={exports:{}},Ec={},Ac={exports:{}},Pc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sn=Fs;function Bd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $d=typeof Object.is=="function"?Object.is:Bd,Sd=sn.useState,Td=sn.useEffect,Cd=sn.useLayoutEffect,Rd=sn.useDebugValue;function kd(e,t){var n=t(),r=Sd({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Cd(function(){i.value=n,i.getSnapshot=t,fi(i)&&s({inst:i})},[e,n,t]),Td(function(){return fi(i)&&s({inst:i}),e(function(){fi(i)&&s({inst:i})})},[e]),Rd(n),n}function fi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$d(e,n)}catch{return!0}}function Fd(e,t){return t()}var Od=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fd:kd;Pc.useSyncExternalStore=sn.useSyncExternalStore!==void 0?sn.useSyncExternalStore:Od;Ac.exports=Pc;var _d=Ac.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=Fs,Nd=_d;function Md(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zd=typeof Object.is=="function"?Object.is:Md,Ud=Nd.useSyncExternalStore,Ld=Rr.useRef,jd=Rr.useEffect,Dd=Rr.useMemo,Hd=Rr.useDebugValue;Ec.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=Ld(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Dd(function(){function c(m){if(!d){if(d=!0,l=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return h=g}return h=m}if(g=h,zd(l,m))return g;var w=r(m);return i!==void 0&&i(g,w)?(l=m,g):(l=m,h=w)}var d=!1,l,h,b=n===void 0?null:n;return[function(){return c(t())},b===null?void 0:function(){return c(b())}]},[t,n,r,i]);var a=Ud(e,s[0],s[1]);return jd(function(){o.hasValue=!0,o.value=a},[a]),Hd(a),a};vc.exports=Ec;var Gd=vc.exports;const Vd=La(Gd),Ic={},{useDebugValue:qd}=Id,{useSyncExternalStoreWithSelector:Wd}=Vd;let Uo=!1;const Kd=e=>e;function Zd(e,t=Kd,n){(Ic?"production":void 0)!=="production"&&n&&!Uo&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Uo=!0);const r=Wd(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return qd(r),r}const Lo=e=>{(Ic?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?cd(e):e,n=(r,i)=>Zd(t,r,i);return Object.assign(n,t),n},Yd=e=>e?Lo(e):Lo;var Jd=typeof window<"u"&&typeof window.document<"u";typeof process<"u"&&process.versions!=null&&process.versions.node!=null;typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&"userAgent"in navigator&&typeof navigator.userAgent=="string"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";var ke=(e=>(e.ConnectionFailed="connection_failed",e.VerificationRejected="verification_rejected",e.MaxVerificationsReached="max_verifications_reached",e.CredentialUnavailable="credential_unavailable",e.MalformedRequest="malformed_request",e.InvalidNetwork="invalid_network",e.InclusionProofFailed="inclusion_proof_failed",e.InclusionProofPending="inclusion_proof_pending",e.UnexpectedResponse="unexpected_response",e.FailedByHostApp="failed_by_host_app",e.GenericError="generic_error",e))(ke||{}),on=(e=>(e.Orb="orb",e.SecureDocument="secure_document",e.Document="document",e.Device="device",e))(on||{});function Xd(e,t){try{new URL(e)}catch{return{valid:!1,errors:["Failed to parse Bridge URL."]}}const n=new URL(e),r=[];return t&&["localhost","127.0.0.1"].includes(n.hostname)?(console.log("Using staging app_id with localhost bridge_url. Skipping validation."),{valid:!0}):(n.protocol!=="https:"&&r.push("Bridge URL must use HTTPS."),n.port&&r.push("Bridge URL must use the default port (443)."),n.pathname!=="/"&&r.push("Bridge URL must not have a path."),n.search&&r.push("Bridge URL must not have query parameters."),n.hash&&r.push("Bridge URL must not have a fragment."),!n.hostname.endsWith(".worldcoin.org")&&!n.hostname.endsWith(".toolsforhumanity.com")&&console.warn("Bridge URL should be a subdomain of worldcoin.org or toolsforhumanity.com. The user's identity wallet may refuse to connect. This is a temporary measure and may be removed in the future."),r.length?{valid:!1,errors:r}:{valid:!0})}var Qd=()=>typeof navigator<"u"&&navigator.product==="ReactNative",el=()=>Jd,tl=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw new Error("Unable to locate global object")},pr=()=>{const e=tl();if(typeof e.crypto<"u")return e.crypto;throw new Error("Crypto API not available. For React Native, ensure polyfills are set up properly.")},jo="orb",Jt=e=>$r.Buffer.from(e).toString("base64"),Os=e=>$r.Buffer.from(e,"base64"),nl=e=>{switch(e){case"device":return["orb","device"];case"document":return["document","secure_document","orb"];case"secure_document":return["secure_document","orb"];case"orb":return["orb"];default:throw new Error(`Unknown verification level: ${e}`)}},rl=e=>{switch(e){case"orb":return"orb";case"secure_document":return"secure_document";case"document":return"document";case"device":return"device";default:throw new Error(`Unknown credential_type: ${e}`)}},il=class{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}async generateKey(){return{iv:window.crypto.getRandomValues(new Uint8Array(12)),key:await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}}async exportKey(e){return Jt(await window.crypto.subtle.exportKey("raw",e))}async encryptRequest(e,t,n){return{iv:Jt(t),payload:Jt(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,this.encoder.encode(n)))}}async decryptResponse(e,t,n){return this.decoder.decode(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,Os(n)))}},sl=class{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}async generateKey(){const e=pr();return{iv:e.getRandomValues(new Uint8Array(12)),key:await e.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}}async exportKey(e){const t=pr();return Jt(await t.subtle.exportKey("raw",e))}async encryptRequest(e,t,n){const r=pr();return{iv:Jt(t),payload:Jt(await r.subtle.encrypt({name:"AES-GCM",iv:t},e,this.encoder.encode(n)))}}async decryptResponse(e,t,n){const r=pr();return this.decoder.decode(await r.subtle.decrypt({name:"AES-GCM",iv:t},e,Os(n)))}},Gt=null,kr=()=>{if(Gt)return Gt;if(el())return Gt=new il,Gt;if(Qd())return Gt=new sl,Gt;throw new Error("Unsupported platform")},ol=async()=>kr().generateKey(),al=async e=>kr().exportKey(e),cl=async(e,t,n)=>kr().encryptRequest(e,t,n),ul=async(e,t,n)=>kr().decryptResponse(e,t,n),br="https://bridge.worldcoin.org",fl=(e,t)=>({iv:null,key:null,result:null,errorCode:null,requestId:null,connectorURI:null,bridge_url:br,verificationState:"loading_widget",createClient:async({bridge_url:n,app_id:r,verification_level:i,action_description:s,action:o,signal:a,partner:c})=>{const{key:d,iv:l}=await ol();if(n){const m=Xd(n,r.includes("staging"));if(!m.valid)throw console.error(m.errors.join(`
`)),e({verificationState:"failed"}),new Error("Invalid bridge_url. Please check the console for more details.")}const h=await fetch(new URL("/request",n??br),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(await cl(d,l,JSON.stringify({app_id:r,action_description:s,action:hc(o),signal:lc(a).digest,credential_types:nl(i??jo),verification_level:i??jo})))});if(!h.ok)throw e({verificationState:"failed"}),new Error("Failed to create client");const{request_id:b}=await h.json();e({iv:l,key:d,requestId:b,bridge_url:n??br,verificationState:"awaiting_connection",connectorURI:`https://world.org/verify?t=wld&i=${b}&k=${encodeURIComponent(await al(d))}${n&&n!==br?`&b=${encodeURIComponent(n)}`:""}${c?`&partner=${encodeURIComponent(!0)}`:""}`})},pollForUpdates:async()=>{const n=t().key;if(!n)throw new Error("No keypair found. Please call `createClient` first.");const r=await fetch(new URL(`/response/${t().requestId}`,t().bridge_url));if(!r.ok)return e({errorCode:"connection_failed",verificationState:"failed"});const{response:i,status:s}=await r.json();if(s!="completed")return e({verificationState:s=="retrieved"?"awaiting_app":"awaiting_connection"});let o=JSON.parse(await ul(n,Os(i.iv),i.payload));if("error_code"in o)return e({errorCode:o.error_code,verificationState:"failed"});"credential_type"in o&&(o={verification_level:rl(o.credential_type),...o}),e({result:o,key:null,requestId:null,connectorURI:null,verificationState:"confirmed"})},reset:()=>{e({iv:null,key:null,result:null,errorCode:null,requestId:null,connectorURI:null,verificationState:"loading_widget"})}});Yd(fl);const dl="1.1.0";let Ae=class Oi extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Oi?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof Oi&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${dl}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}};function mt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Bc=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$c=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sc=/^\(.+?\).*?$/,Do=/^tuple(?<array>(\[(\d*)\])*)$/;function _i(e){let t=e.type;if(Do.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=_i(s),i<n-1&&(t+=", ")}const r=mt(Do,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,_i({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Wt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=_i(i),r!==n-1&&(t+=", ")}return t}function Er(e){var t;return e.type==="function"?`function ${e.name}(${Wt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Wt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Wt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Wt(e.inputs)})`:e.type==="constructor"?`constructor(${Wt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Tc=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ll(e){return Tc.test(e)}function hl(e){return mt(Tc,e)}const Cc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function pl(e){return Cc.test(e)}function bl(e){return mt(Cc,e)}const Rc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ml(e){return Rc.test(e)}function yl(e){return mt(Rc,e)}const kc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Fr(e){return kc.test(e)}function gl(e){return mt(kc,e)}const Fc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function wl(e){return Fc.test(e)}function xl(e){return mt(Fc,e)}const Oc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function vl(e){return Oc.test(e)}function El(e){return mt(Oc,e)}const Al=/^receive\(\) external payable$/;function Pl(e){return Al.test(e)}const Ho=new Set(["memory","indexed","storage","calldata"]),Il=new Set(["indexed"]),Ni=new Set(["calldata","memory","storage"]);class Bl extends Ae{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class $l extends Ae{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Sl extends Ae{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Tl extends Ae{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Cl extends Ae{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Rl extends Ae{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class kl extends Ae{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Fl extends Ae{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Ol extends Ae{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class dn extends Ae{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class _l extends Ae{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Nl extends Ae{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Ml extends Ae{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class zl extends Ae{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ul(e,t,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return t?`${t}:${e}${r}`:e}const di=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Mi(e,t={}){if(ml(e))return Ll(e,t);if(pl(e))return jl(e,t);if(ll(e))return Dl(e,t);if(wl(e))return Hl(e,t);if(vl(e))return Gl(e);if(Pl(e))return{type:"receive",stateMutability:"payable"};throw new _l({signature:e})}function Ll(e,t={}){const n=yl(e);if(!n)throw new dn({signature:e,type:"function"});const r=Be(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(pt(r[a],{modifiers:Ni,structs:t,type:"function"}));const o=[];if(n.returns){const a=Be(n.returns),c=a.length;for(let d=0;d<c;d++)o.push(pt(a[d],{modifiers:Ni,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function jl(e,t={}){const n=bl(e);if(!n)throw new dn({signature:e,type:"event"});const r=Be(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(pt(r[o],{modifiers:Il,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}function Dl(e,t={}){const n=hl(e);if(!n)throw new dn({signature:e,type:"error"});const r=Be(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(pt(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}function Hl(e,t={}){const n=xl(e);if(!n)throw new dn({signature:e,type:"constructor"});const r=Be(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(pt(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function Gl(e){const t=El(e);if(!t)throw new dn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Vl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,ql=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Wl=/^u?int$/;function pt(e,t){var h,b;const n=Ul(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(di.has(n))return di.get(n);const r=Sc.test(e),i=mt(r?ql:Vl,e);if(!i)throw new Cl({param:e});if(i.name&&Zl(i.name))throw new Rl({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,d={};if(r){c="tuple";const m=Be(i.type),g=[],w=m.length;for(let B=0;B<w;B++)g.push(pt(m[B],{structs:a}));d={components:g}}else if(i.type in a)c="tuple",d={components:a[i.type]};else if(Wl.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,(t==null?void 0:t.type)!=="struct"&&!_c(c))throw new Sl({type:c});if(i.modifier){if(!((b=(h=t==null?void 0:t.modifiers)==null?void 0:h.has)!=null&&b.call(h,i.modifier)))throw new kl({param:e,type:t==null?void 0:t.type,modifier:i.modifier});if(Ni.has(i.modifier)&&!Yl(c,!!i.array))throw new Fl({param:e,type:t==null?void 0:t.type,modifier:i.modifier})}const l={type:`${c}${i.array??""}`,...s,...o,...d};return di.set(n,l),l}function Be(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return r===0?Be(a,[...t,n.trim()]):Be(a,t,`${n}${o}`,r);case"(":return Be(a,t,`${n}${o}`,r+1);case")":return Be(a,t,`${n}${o}`,r-1);default:return Be(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new zl({current:n,depth:r});return t.push(n.trim()),t}function _c(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Bc.test(e)||$c.test(e)}const Kl=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Zl(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Bc.test(e)||$c.test(e)||Kl.test(e)}function Yl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function _s(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Fr(a))continue;const c=gl(a);if(!c)throw new dn({signature:a,type:"struct"});const d=c.properties.split(";"),l=[],h=d.length;for(let b=0;b<h;b++){const g=d[b].trim();if(!g)continue;const w=pt(g,{type:"struct"});l.push(w)}if(!l.length)throw new Nl({signature:a});t[c.name]=l}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=Nc(c,t)}return r}const Jl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Nc(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(Sc.test(o.type))r.push(o);else{const c=mt(Jl,o.type);if(!(c!=null&&c.type))throw new Ol({abiParameter:o});const{array:d,type:l}=c;if(l in t){if(n.has(l))throw new Ml({type:l});r.push({...o,type:`tuple${d??""}`,components:Nc(t[l]??[],t,new Set([...n,l]))})}else if(_c(l))r.push(o);else throw new $l({type:l})}}return r}function Mc(e){const t=_s(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];Fr(s)||n.push(Mi(s,t))}return n}function Go(e){let t;if(typeof e=="string")t=Mi(e);else{const n=_s(e),r=e.length;for(let i=0;i<r;i++){const s=e[i];if(!Fr(s)){t=Mi(s,n);break}}}if(!t)throw new Bl({signature:e});return t}function Vo(e){const t=[];if(typeof e=="string"){const n=Be(e),r=n.length;for(let i=0;i<r;i++)t.push(pt(n[i],{modifiers:Ho}))}else{const n=_s(e),r=e.length;for(let i=0;i<r;i++){const s=e[i];if(Fr(s))continue;const o=Be(s),a=o.length;for(let c=0;c<a;c++)t.push(pt(o[c],{modifiers:Ho,structs:n}))}}if(t.length===0)throw new Tl({params:e});return t}function W(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const i=e[n];return typeof i=="function"?i:s=>t(e,s)}function Le(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new fh(e.type);return`${e.name}(${Or(e.inputs,{includeName:t})})`}function Or(e,{includeName:t=!1}={}){return e?e.map(n=>Xl(n,{includeName:t})).join(t?", ":","):""}function Xl(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Or(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function tt(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ne(e){return tt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const zc="2.39.0";let gn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${zc}`},S=class zi extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof zi?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof zi&&n.cause.docsPath||n.docsPath,s=(a=gn.getDocsUrl)==null?void 0:a.call(gn,{...n,docsPath:i}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...gn.version?[`Version: ${gn.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=zc}walk(t){return Uc(this,t)}};function Uc(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Uc(e.cause,t):t?null:e}class Ql extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class qo extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Lc extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Or(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class er extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class eh extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class th extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class nh extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class rh extends S{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Wo extends S{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class jc extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class ih extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Dc extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Ko extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class an extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Hc extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class sh extends S{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class oh extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Le(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Le(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let ah=class extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class $n extends S{constructor({abiItem:t,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Or(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=i}}class _r extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Le(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class ch extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class uh extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Gc=class extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class fh extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class dh extends S{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Vc=class extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},qc=class extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Zo extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function ln(e,{dir:t,size:n=32}={}){return typeof e=="string"?At(e,{dir:t,size:n}):lh(e,{dir:t,size:n})}function At(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new qc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function lh(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new qc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}let Wc=class extends S{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},hh=class extends S{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class ph extends S{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let bh=class extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function ze(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ge(e,{size:t}){if(ne(e)>t)throw new bh({givenSize:ne(e),maxSize:t})}function me(e,t={}){const{signed:n}=t;t.size&&Ge(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function mh(e,t={}){let n=e;if(t.size&&(Ge(n,{size:t.size}),n=ze(n)),ze(n)==="0x00")return!1;if(ze(n)==="0x01")return!0;throw new ph(n)}function nt(e,t={}){return Number(me(e,t))}const yh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $e(e,t={}){return typeof e=="number"||typeof e=="bigint"?N(e,t):typeof e=="string"?Sn(e,t):typeof e=="boolean"?Kc(e,t):oe(e,t)}function Kc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ge(n,{size:t.size}),ln(n,{size:t.size})):n}function oe(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=yh[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Ge(r,{size:t.size}),ln(r,{dir:"right",size:t.size})):r}function N(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new Wc({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?ln(a,{size:r}):a}const gh=new TextEncoder;function Sn(e,t={}){const n=gh.encode(e);return oe(n,t)}const wh=new TextEncoder;function hn(e,t={}){return typeof e=="number"||typeof e=="bigint"?vh(e,t):typeof e=="boolean"?xh(e,t):tt(e)?rt(e,t):Ct(e,t)}function xh(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ge(n,{size:t.size}),ln(n,{size:t.size})):n}const at={zero:48,nine:57,A:65,F:70,a:97,f:102};function Yo(e){if(e>=at.zero&&e<=at.nine)return e-at.zero;if(e>=at.A&&e<=at.F)return e-(at.A-10);if(e>=at.a&&e<=at.f)return e-(at.a-10)}function rt(e,t={}){let n=e;t.size&&(Ge(n,{size:t.size}),n=ln(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Yo(r.charCodeAt(a++)),d=Yo(r.charCodeAt(a++));if(c===void 0||d===void 0)throw new S(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+d}return s}function vh(e,t){const n=N(e,t);return rt(n)}function Ct(e,t={}){const n=wh.encode(e);return typeof t.size=="number"?(Ge(n,{size:t.size}),ln(n,{dir:"right",size:t.size})):n}function he(e,t){const n=t||"hex",r=xs(tt(e,{strict:!1})?hn(e):e);return n==="bytes"?r:$e(r)}const Eh=e=>he(hn(e));function Ah(e){return Eh(e)}function Ph(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new S("Unable to normalize signature.");return i}const Ih=e=>{const t=typeof e=="string"?e:Er(e);return Ph(t)};function Zc(e){return Ah(Ih(e))}const Nr=Zc;let ge=class extends S{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Ns=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const li=new Ns(8192);function Mr(e,t){if(li.has(`${e}.${t}`))return li.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=he(Ct(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return li.set(`${e}.${t}`,s),s}function Yc(e,t){if(!ce(e,{strict:!1}))throw new ge({address:e});return Mr(e,t)}const Bh=/^0x[a-fA-F0-9]{40}$/,hi=new Ns(8192);function ce(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(hi.has(r))return hi.get(r);const i=Bh.test(e)?e.toLowerCase()===e?!0:n?Mr(e)===e:!0:!1;return hi.set(r,i),i}function it(e){return typeof e[0]=="string"?Ve(e):$h(e)}function $h(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Ve(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ft(e,t,n,{strict:r}={}){return tt(e,{strict:!1})?Sh(e,t,n,{strict:r}):Qc(e,t,n,{strict:r})}function Jc(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new Vc({offset:t,position:"start",size:ne(e)})}function Xc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new Vc({offset:n,position:"end",size:ne(e)})}function Qc(e,t,n,{strict:r}={}){Jc(e,t);const i=e.slice(t,n);return r&&Xc(i,t,n),i}function Sh(e,t,n,{strict:r}={}){Jc(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Xc(i,t,n),i}const Th=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,eu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Bt(e,t){if(e.length!==t.length)throw new nh({expectedLength:e.length,givenLength:t.length});const n=Ch({params:e,values:t}),r=zs(n);return r.length===0?"0x":r}function Ch({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Ms({param:e[r],value:t[r]}));return n}function Ms({param:e,value:t}){const n=Us(e.type);if(n){const[r,i]=n;return kh(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return Mh(t,{param:e});if(e.type==="address")return Rh(t);if(e.type==="bool")return Oh(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,i="256"]=eu.exec(e.type)??[];return _h(t,{signed:r,size:Number(i)})}if(e.type.startsWith("bytes"))return Fh(t,{param:e});if(e.type==="string")return Nh(t);throw new ch(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function zs(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=ne(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(N(t+i,{size:32})),r.push(a),i+=ne(a)):n.push(a)}return it([...n,...r])}function Rh(e){if(!ce(e))throw new ge({address:e});return{dynamic:!1,encoded:At(e.toLowerCase())}}function kh(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Gc(e);if(!r&&e.length!==t)throw new eh({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=Ms({param:n,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=zs(s);if(r){const a=N(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?it([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:it(s.map(({encoded:o})=>o))}}function Fh(e,{param:t}){const[,n]=t.type.split("bytes"),r=ne(e);if(!n){let i=e;return r%32!==0&&(i=At(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:it([At(N(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new th({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:At(e,{dir:"right"})}}function Oh(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:At(Kc(e))}}function _h(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new Wc({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:N(e,{size:32,signed:t})}}function Nh(e){const t=Sn(e),n=Math.ceil(ne(t)/32),r=[];for(let i=0;i<n;i++)r.push(At(Ft(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:it([At(N(ne(t),{size:32})),...r])}}function Mh(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=Ms({param:s,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?zs(r):it(r.map(({encoded:i})=>i))}}function Us(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const tr=e=>Ft(Zc(e),0,4);function Lt(e){const{abi:t,args:n=[],name:r}=e,i=tt(r,{strict:!1}),s=t.filter(a=>i?a.type==="function"?tr(a)===r:a.type==="event"?Nr(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((d,l)=>{const h="inputs"in a&&a.inputs[l];return h?Ui(d,h):!1})){if(o&&"inputs"in o&&o.inputs){const d=tu(a.inputs,o.inputs,n);if(d)throw new oh({abiItem:a,type:d[0]},{abiItem:o,type:d[1]})}o=a}}return o||s[0]}function Ui(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ce(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>Ui(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>Ui(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tu(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return tu(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ce(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ce(n[r],{strict:!1}):!1)return o}}const Jo="/docs/contract/encodeEventTopics";function nr(e){var c;const{abi:t,eventName:n,args:r}=e;let i=t[0];if(n){const d=Lt({abi:t,name:n});if(!d)throw new Ko(n,{docsPath:Jo});i=d}if(i.type!=="event")throw new Ko(void 0,{docsPath:Jo});const s=Le(i),o=Nr(s);let a=[];if(r&&"inputs"in i){const d=(c=i.inputs)==null?void 0:c.filter(h=>"indexed"in h&&h.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(d==null?void 0:d.map(h=>r[h.name]))??[]:[];l.length>0&&(a=(d==null?void 0:d.map((h,b)=>Array.isArray(l[b])?l[b].map((m,g)=>Xo({param:h,value:l[b][g]})):typeof l[b]<"u"&&l[b]!==null?Xo({param:h,value:l[b]}):null))??[])}return[o,...a]}function Xo({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return he(hn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new dh(e.type);return Bt([e],[t])}function zr(e,{method:t}){var r,i;const n={};return e.transport.type==="fallback"&&((i=(r=e.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a==="success"&&t===s&&(n[o]=c.request)})),s=>n[s]||e.request}async function nu(e,t){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=t,d=zr(e,{method:"eth_newFilter"}),l=s?nr({abi:r,args:i,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?N(o):o,toBlock:typeof c=="bigint"?N(c):c,topics:l}]});return{abi:r,args:i,eventName:s,id:h,request:d(h),strict:!!a,type:"event"}}function qe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Qo="/docs/contract/encodeFunctionData";function zh(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const s=Lt({abi:t,args:n,name:r});if(!s)throw new an(r,{docsPath:Qo});i=s}if(i.type!=="function")throw new an(void 0,{docsPath:Qo});return{abi:[i],functionName:tr(Le(i))}}function We(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:zh(e)})(),i=n[0],s=r,o="inputs"in i&&i.inputs?Bt(i.inputs,t??[]):void 0;return Ve([s,o??"0x"])}const Uh={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ru={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Lh={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let ea=class extends S{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},iu=class extends S{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},jh=class extends S{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Dh={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new jh({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new iu({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ea({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ea({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ls(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Dh);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Hh(e,t={}){typeof t.size<"u"&&Ge(e,{size:t.size});const n=oe(e,t);return me(n,t)}function Gh(e,t={}){let n=e;if(typeof t.size<"u"&&(Ge(n,{size:t.size}),n=ze(n)),n.length>1||n[0]>1)throw new hh(n);return!!n[0]}function lt(e,t={}){typeof t.size<"u"&&Ge(e,{size:t.size});const n=oe(e,t);return nt(n,t)}function Vh(e,t={}){let n=e;return typeof t.size<"u"&&(Ge(n,{size:t.size}),n=ze(n,{dir:"right"})),new TextDecoder().decode(n)}function pn(e,t){const n=typeof t=="string"?rt(t):t,r=Ls(n);if(ne(n)===0&&e.length>0)throw new er;if(ne(t)&&ne(t)<32)throw new Lc({data:typeof t=="string"?t:oe(t),params:e,size:ne(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(i);const[c,d]=Xt(r,a,{staticPosition:0});i+=d,s.push(c)}return s}function Xt(e,t,{staticPosition:n}){const r=Us(t.type);if(r){const[i,s]=r;return Wh(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return Jh(e,t,{staticPosition:n});if(t.type==="address")return qh(e);if(t.type==="bool")return Kh(e);if(t.type.startsWith("bytes"))return Zh(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Yh(e,t);if(t.type==="string")return Xh(e,{staticPosition:n});throw new uh(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ta=32,Li=32;function qh(e){const t=e.readBytes(32);return[Mr(oe(Qc(t,-20))),32]}function Wh(e,t,{length:n,staticPosition:r}){if(!n){const o=lt(e.readBytes(Li)),a=r+o,c=a+ta;e.setPosition(a);const d=lt(e.readBytes(ta)),l=Tn(t);let h=0;const b=[];for(let m=0;m<d;++m){e.setPosition(c+(l?m*32:h));const[g,w]=Xt(e,t,{staticPosition:c});h+=w,b.push(g)}return e.setPosition(r+32),[b,32]}if(Tn(t)){const o=lt(e.readBytes(Li)),a=r+o,c=[];for(let d=0;d<n;++d){e.setPosition(a+d*32);const[l]=Xt(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=Xt(e,t,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function Kh(e){return[Gh(e.readBytes(32),{size:32}),32]}function Zh(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=lt(e.readBytes(32));e.setPosition(n+o);const a=lt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[oe(c),32]}return[oe(e.readBytes(Number.parseInt(i,10),32)),32]}function Yh(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?Hh(i,{signed:n}):lt(i,{signed:n}),32]}function Jh(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(Tn(t)){const o=lt(e.readBytes(Li)),a=n+o;for(let c=0;c<t.components.length;++c){const d=t.components[c];e.setPosition(a+s);const[l,h]=Xt(e,d,{staticPosition:a});s+=h,i[r?c:d==null?void 0:d.name]=l}return e.setPosition(n+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,d]=Xt(e,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=d}return[i,s]}function Xh(e,{staticPosition:t}){const n=lt(e.readBytes(32)),r=t+n;e.setPosition(r);const i=lt(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=Vh(ze(s));return e.setPosition(t+32),[o,32]}function Tn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Tn);const n=Us(e.type);return!!(n&&Tn({...e,type:n[1]}))}function Qh(e){const{abi:t,data:n}=e,r=Ft(n,0,4);if(r==="0x")throw new er;const s=[...t||[],ru,Lh].find(o=>o.type==="error"&&r===tr(Le(o)));if(!s)throw new jc(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?pn(s.inputs,Ft(n,4)):void 0,errorName:s.name}}const pe=(e,t,n)=>JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString():i,n);function su({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?pe(t[s]):t[s]}`).join(", ")})`}const ep={gwei:9,wei:18},tp={ether:-9,wei:9};function ou(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function au(e,t="wei"){return ou(e,ep[t])}function Ue(e,t="wei"){return ou(e,tp[t])}class np extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class rp extends S{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function na(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function ip(e){return e.reduce((t,{address:n,...r})=>{let i=`${t}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=na(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=na(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function Ur(e){const t=Object.entries(e).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=t.reduce((r,[i])=>Math.max(r,i.length),0);return t.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class sp extends S{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class op extends S{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class ap extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ur(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class cp extends S{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class cu extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s}){let o="Transaction";r&&s!==void 0&&(o=`Transaction at block time "${r}" at index "${s}"`),t&&s!==void 0&&(o=`Transaction at block hash "${t}" at index "${s}"`),n&&s!==void 0&&(o=`Transaction at block number "${n}" at index "${s}"`),i&&(o=`Transaction with hash "${i}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class uu extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class up extends S{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class fp extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const dp=e=>e,js=e=>e;class fu extends S{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:l,to:h,value:b,stateOverride:m}){var B;const g=n?qe(n):void 0;let w=Ur({from:g==null?void 0:g.address,to:h,value:typeof b<"u"&&`${au(b)} ${((B=i==null?void 0:i.nativeCurrency)==null?void 0:B.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ue(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Ue(d)} gwei`,nonce:l});m&&(w+=`
${ip(m)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class du extends S{constructor(t,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=Lt({abi:n,args:r,name:o}),d=c?su({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?Le(c,{includeName:!0}):void 0,h=Ur({address:i&&dp(i),function:l,args:d&&d!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class ji extends S{constructor({abi:t,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=Qh({abi:t,data:n});const{abiItem:l,errorName:h,args:b}=o;if(h==="Error")c=b[0];else if(h==="Panic"){const[m]=b;c=Uh[m]}else{const m=l?Le(l,{includeName:!0}):void 0,g=l&&b?su({abiItem:l,args:b,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:"",g&&g!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(l){s=l}else i&&(c=i);let d;s instanceof jc&&(d=s.signature,a=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(c&&c!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,c||d].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=d}}class lp extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class hp extends S{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Lr extends S{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class En extends S{constructor({body:t,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${js(o)}`,t&&`Request body: ${pe(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=i,this.status=s,this.url=o}}class Ds extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${js(r)}`,`Request body: ${pe(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ra extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${js(n)}`,`Request body: ${pe(t)}`],name:"TimeoutError"})}}const pp=-1;class Pe extends S{constructor(t,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:i||(t==null?void 0:t.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||t.name,this.code=t instanceof Ds?t.code:n??pp}}class Te extends Pe{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Cn extends Pe{constructor(t){super(t,{code:Cn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Rn extends Pe{constructor(t){super(t,{code:Rn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class kn extends Pe{constructor(t,{method:n}={}){super(t,{code:kn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Fn extends Pe{constructor(t){super(t,{code:Fn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ot extends Pe{constructor(t){super(t,{code:Ot.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class _t extends Pe{constructor(t){super(t,{code:_t.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(_t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class On extends Pe{constructor(t){super(t,{code:On.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class _n extends Pe{constructor(t){super(t,{code:_n.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Nn extends Pe{constructor(t){super(t,{code:Nn.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class St extends Pe{constructor(t,{method:n}={}){super(t,{code:St.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class cn extends Pe{constructor(t){super(t,{code:cn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Mn extends Pe{constructor(t){super(t,{code:Mn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Qt extends Te{constructor(t){super(t,{code:Qt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zn extends Te{constructor(t){super(t,{code:zn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Un extends Te{constructor(t,{method:n}={}){super(t,{code:Un.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ln extends Te{constructor(t){super(t,{code:Ln.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class jn extends Te{constructor(t){super(t,{code:jn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Dn extends Te{constructor(t){super(t,{code:Dn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Hn extends Te{constructor(t){super(t,{code:Hn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Gn extends Te{constructor(t){super(t,{code:Gn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Vn extends Te{constructor(t){super(t,{code:Vn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class qn extends Te{constructor(t){super(t,{code:qn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Wn extends Te{constructor(t){super(t,{code:Wn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Kn extends Te{constructor(t){super(t,{code:Kn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Zn extends Te{constructor(t){super(t,{code:Zn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class bp extends Pe{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const mp=3;function un(e,{abi:t,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=e instanceof Lr?e:e instanceof S?e.walk(g=>"data"in g)||e.walk():{},{code:c,data:d,details:l,message:h,shortMessage:b}=a,m=e instanceof er?new lp({functionName:s}):[mp,Ot.code].includes(c)&&(d||l||h||b)?new ji({abi:t,data:typeof d=="object"?d.data:d,functionName:s,message:a instanceof Ds?l:b??h}):e;return new du(m,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}function yp(e){const t=he(`0x${e.substring(4)}`).substring(26);return Mr(`0x${t}`)}const gp="modulepreload",wp=function(e){return"/"+e},ia={},lu=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=wp(c),c in ia)return;ia[c]=!0;const d=c.endsWith(".css"),l=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":gp,d||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((b,m)=>{h.addEventListener("load",b),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};async function xp({hash:e,signature:t}){const n=tt(e)?e:$e(e),{secp256k1:r}=await lu(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Qm);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:l,v:h,yParity:b}=t,m=Number(b??h),g=sa(m);return new r.Signature(me(d),me(l)).addRecoveryBit(g)}const o=tt(t)?t:$e(t);if(ne(o)!==65)throw new Error("invalid signature length");const a=nt(`0x${o.slice(130)}`),c=sa(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function sa(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function hu({hash:e,signature:t}){return yp(await xp({hash:e,signature:t}))}function Pt(e,t="hex"){const n=pu(e),r=Ls(new Uint8Array(n.length));return n.encode(r),t==="hex"?oe(r.bytes):r.bytes}function pu(e){return Array.isArray(e)?vp(e.map(t=>pu(t))):Ep(e)}function vp(e){const t=e.reduce((i,s)=>i+s.length,0),n=bu(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function Ep(e){const t=typeof e=="string"?rt(e):e,n=bu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function bu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new S("Length is too large.")}function Ap(e){const{chainId:t,nonce:n,to:r}=e,i=e.contractAddress??e.address,s=he(Ve(["0x05",Pt([t?N(t):"0x",i,n?N(n):"0x"])]));return r==="bytes"?rt(s):s}async function mu(e){const{authorization:t,signature:n}=e;return hu({hash:Ap(t),signature:n??t})}class Pp extends S{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:l,to:h,value:b}){var g;const m=Ur({from:n==null?void 0:n.address,to:h,value:typeof b<"u"&&`${au(b)} ${((g=i==null?void 0:i.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${Ue(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Ue(d)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Kt extends S{constructor({cause:t,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Kt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Nt extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ue(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Nt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Di extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ue(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Di,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Hi extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Hi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Gi extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Gi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Vi extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Vi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class qi extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(qi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Wi extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Wi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ki extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ki,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Zi extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Zi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Yn extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ue(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ue(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class jr extends S{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Hs(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(i=>(i==null?void 0:i.code)===Kt.code):e;return r instanceof S?new Kt({cause:e,message:r.details}):Kt.nodeMessage.test(n)?new Kt({cause:e,message:e.details}):Nt.nodeMessage.test(n)?new Nt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Di.nodeMessage.test(n)?new Di({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Hi.nodeMessage.test(n)?new Hi({cause:e,nonce:t==null?void 0:t.nonce}):Gi.nodeMessage.test(n)?new Gi({cause:e,nonce:t==null?void 0:t.nonce}):Vi.nodeMessage.test(n)?new Vi({cause:e,nonce:t==null?void 0:t.nonce}):qi.nodeMessage.test(n)?new qi({cause:e}):Wi.nodeMessage.test(n)?new Wi({cause:e,gas:t==null?void 0:t.gas}):Ki.nodeMessage.test(n)?new Ki({cause:e,gas:t==null?void 0:t.gas}):Zi.nodeMessage.test(n)?new Zi({cause:e}):Yn.nodeMessage.test(n)?new Yn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new jr({cause:e})}function Ip(e,{docsPath:t,...n}){const r=(()=>{const i=Hs(e,n);return i instanceof jr?e:i})();return new Pp(r,{docsPath:t,...n})}function Gs(e,{format:t}){if(!t)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in e&&(n[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=t(e||{});return r(i),n}function Vs(e,t){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const o=t(i,s);if(n)for(const a of n)delete o[a];return{...o,...r(i,s)}},type:e})}const Bp={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Dr(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=$p(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>oe(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=N(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=N(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=N(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=N(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=N(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=N(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Bp[e.type]),typeof e.value<"u"&&(n.value=N(e.value)),n}function $p(e){return e.map(t=>({address:t.address,r:t.r?N(BigInt(t.r)):t.r,s:t.s?N(BigInt(t.s)):t.s,chainId:N(t.chainId),nonce:N(t.nonce),...typeof t.yParity<"u"?{yParity:N(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:N(t.v)}:{}}))}function oa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Zo({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Zo({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Sp(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=N(t)),n!==void 0&&(o.nonce=N(n)),r!==void 0&&(o.state=oa(r)),i!==void 0){if(o.state)throw new rp;o.stateDiff=oa(i)}return o}function qs(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ce(n,{strict:!1}))throw new ge({address:n});if(t[n])throw new np({address:n});t[n]=Sp(r)}return t}const Hr=2n**256n-1n;function rr(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=e,o=t?qe(t):void 0;if(o&&!ce(o.address))throw new ge({address:o.address});if(s&&!ce(s))throw new ge({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new sp;if(r&&r>Hr)throw new Nt({maxFeePerGas:r});if(i&&r&&i>r)throw new Yn({maxFeePerGas:r,maxPriorityFeePerGas:i})}class Tp extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ws extends S{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Cp extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ue(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class yu extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const gu={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Gr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?nt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?nt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?gu[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=kp(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Rp=Vs("transaction",Gr);function kp(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Ks(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Gr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Fp=Vs("block",Ks);async function Qe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:i}={}){var d,l,h;const s=i??!1,o=n!==void 0?N(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,s]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,s]},{dedupe:!!o}),!a)throw new yu({blockHash:t,blockNumber:n});return(((h=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.block)==null?void 0:h.format)||Ks)(a,"getBlock")}async function Zs(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Op(e,t){return wu(e,t)}async function wu(e,t){var s,o;const{block:n,chain:r=e.chain,request:i}=t||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const d=n||await W(e,Qe,"getBlock")({}),l=await a({block:d,client:e,request:i});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return me(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):W(e,Qe,"getBlock")({}),W(e,Zs,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Ws;const d=c-a.baseFeePerGas;return d<0n?0n:d}}async function _p(e,t){return Yi(e,t)}async function Yi(e,t){var b,m;const{block:n,chain:r=e.chain,request:i,type:s="eip1559"}=t||{},o=await(async()=>{var g,w;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:i}):((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)??1.2})();if(o<1)throw new Tp;const c=10**(((b=o.toString().split(".")[1])==null?void 0:b.length)??0),d=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),l=n||await W(e,Qe,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:i,type:s});if(g!==null)return g}if(s==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Ws;const g=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await wu(e,{block:l,chain:r,request:i}),w=d(l.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??w+g,maxPriorityFeePerGas:g}}return{gasPrice:(i==null?void 0:i.gasPrice)??d(await W(e,Zs,"getGasPrice")({}))}}async function xu(e,{address:t,blockTag:n="latest",blockNumber:r}){const i=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?N(r):n]},{dedupe:!!r});return nt(i)}function Ys(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>rt(s)):e.blobs,i=[];for(const s of r)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>oe(s))}function Js(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>rt(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>rt(o)):e.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>oe(o))}function Np(e,t){return _f(tt(e,{strict:!1})?hn(e):e)}function Mp(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),i=Np(t);return i.set([n],0),r==="bytes"?i:oe(i)}function vu(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const s of t)i.push(Mp({commitment:s,to:r,version:n}));return i}const aa=6,Eu=32,Xs=4096,Au=Eu*Xs,ca=Au*aa-1-1*Xs*aa,Pu=1;class zp extends S{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Iu extends S{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Up extends S{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Lp extends S{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Pu}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function jp(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?rt(e.data):e.data,r=ne(n);if(!r)throw new Iu;if(r>ca)throw new zp({maxSize:ca,size:r});const i=[];let s=!0,o=0;for(;s;){const a=Ls(new Uint8Array(Au));let c=0;for(;c<Xs;){const d=n.slice(o,o+(Eu-1));if(a.pushByte(0),a.pushBytes(d),d.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>oe(a.bytes))}function Bu(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??jp({data:t,to:r}),s=e.commitments??Ys({blobs:i,kzg:n,to:r}),o=e.proofs??Js({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function $u(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new ap({transaction:e})}async function Su(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return nt(t)}const Dp=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ua=new Map;async function Tu(e,t){const{account:n=e.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:d=Dp,type:l}=t,h=n&&qe(n),b={...t,...h?{from:h==null?void 0:h.address}:{}};let m;async function g(){return m||(m=await W(e,Qe,"getBlock")({blockTag:"latest"}),m)}let w;async function B(){return w||(i?i.id:typeof t.chainId<"u"?t.chainId:(w=await W(e,Su,"getChainId")({}),w))}if(d.includes("nonce")&&typeof a>"u"&&h)if(c){const A=await B();b.nonce=await c.consume({address:h.address,chainId:A,client:e})}else b.nonce=await W(e,xu,"getTransactionCount")({address:h.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&r&&o){const A=Ys({blobs:r,kzg:o});if(d.includes("blobVersionedHashes")){const T=vu({commitments:A,to:"hex"});b.blobVersionedHashes=T}if(d.includes("sidecars")){const T=Js({blobs:r,commitments:A,kzg:o}),P=Bu({blobs:r,commitments:A,proofs:T,to:"hex"});b.sidecars=P}}if(d.includes("chainId")&&(b.chainId=await B()),(d.includes("fees")||d.includes("type"))&&typeof l>"u")try{b.type=$u(b)}catch{let A=ua.get(e.uid);if(typeof A>"u"){const T=await g();A=typeof(T==null?void 0:T.baseFeePerGas)=="bigint",ua.set(e.uid,A)}b.type=A?"eip1559":"legacy"}if(d.includes("fees"))if(b.type!=="legacy"&&b.type!=="eip2930"){if(typeof b.maxFeePerGas>"u"||typeof b.maxPriorityFeePerGas>"u"){const A=await g(),{maxFeePerGas:T,maxPriorityFeePerGas:P}=await Yi(e,{block:A,chain:i,request:b});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<P)throw new Cp({maxPriorityFeePerGas:P});b.maxPriorityFeePerGas=P,b.maxFeePerGas=T}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Ws;if(typeof t.gasPrice>"u"){const A=await g(),{gasPrice:T}=await Yi(e,{block:A,chain:i,request:b,type:"legacy"});b.gasPrice=T}}return d.includes("gas")&&typeof s>"u"&&(b.gas=await W(e,Qs,"estimateGas")({...b,account:h,prepare:(h==null?void 0:h.type)==="local"?[]:["blobVersionedHashes"]})),rr(b),delete b.parameters,b}async function Qs(e,t){var o,a,c;const{account:n=e.account,prepare:r=!0}=t,i=n?qe(n):void 0,s=(()=>{if(Array.isArray(r))return r;if((i==null?void 0:i.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:d,authorizationList:l,blobs:h,blobVersionedHashes:b,blockNumber:m,blockTag:g,data:w,gas:B,gasPrice:A,maxFeePerBlobGas:T,maxFeePerGas:P,maxPriorityFeePerGas:v,nonce:I,value:R,stateOverride:C,...O}=r?await Tu(e,{...t,parameters:s}):t,H=(typeof m=="bigint"?N(m):void 0)||g,M=qs(C),L=await(async()=>{if(O.to)return O.to;if(l&&l.length>0)return await mu({authorization:l[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`")})})();rr(t);const z=(c=(a=(o=e.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,F=(z||Dr)({...Gs(O,{format:z}),account:i,accessList:d,authorizationList:l,blobs:h,blobVersionedHashes:b,data:w,gas:B,gasPrice:A,maxFeePerBlobGas:T,maxFeePerGas:P,maxPriorityFeePerGas:v,nonce:I,to:L,value:R},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:M?[F,H??e.experimental_blockTag??"latest",M]:H?[F,H]:[F]}))}catch(d){throw Ip(d,{...t,account:i,chain:e.chain})}}async function Hp(e,t){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=t,c=We({abi:n,args:i,functionName:s});try{return await W(e,Qs,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(d){const l=a.account?qe(a.account):void 0;throw un(d,{abi:n,address:r,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}function Vr(e,t){if(!ce(e,{strict:!1}))throw new ge({address:e});if(!ce(t,{strict:!1}))throw new ge({address:t});return e.toLowerCase()===t.toLowerCase()}const fa="/docs/contract/decodeEventLog";function eo(e){const{abi:t,data:n,strict:r,topics:i}=e,s=r??!0,[o,...a]=i;if(!o)throw new ih({docsPath:fa});const c=t.find(w=>w.type==="event"&&o===Nr(Le(w)));if(!(c&&"name"in c)||c.type!=="event")throw new Dc(o,{docsPath:fa});const{name:d,inputs:l}=c,h=l==null?void 0:l.some(w=>!("name"in w&&w.name)),b=h?[]:{},m=l.map((w,B)=>[w,B]).filter(([w])=>"indexed"in w&&w.indexed);for(let w=0;w<m.length;w++){const[B,A]=m[w],T=a[w];if(!T)throw new _r({abiItem:c,param:B});b[h?A:B.name||A]=Gp({param:B,value:T})}const g=l.filter(w=>!("indexed"in w&&w.indexed));if(g.length>0){if(n&&n!=="0x")try{const w=pn(g,n);if(w)if(h)for(let B=0;B<l.length;B++)b[B]=b[B]??w.shift();else for(let B=0;B<g.length;B++)b[g[B].name]=w[B]}catch(w){if(s)throw w instanceof Lc||w instanceof iu?new $n({abiItem:c,data:n,params:g,size:ne(n)}):w}else if(s)throw new $n({abiItem:c,data:"0x",params:g,size:0})}return{eventName:d,args:Object.values(b).length>0?b:void 0}}function Gp({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(pn([e],t)||[])[0]}function to(e){const{abi:t,args:n,logs:r,strict:i=!0}=e,s=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var a;try{const c=t.find(l=>l.type==="event"&&o.topics[0]===Nr(l));if(!c)return null;const d=eo({...o,abi:[c],strict:i});return s&&!s.includes(d.eventName)||!Vp({args:d.args,inputs:c.inputs,matchArgs:n})?null:{...d,...o}}catch(c){let d,l;if(c instanceof Dc)return null;if(c instanceof $n||c instanceof _r){if(i)return null;d=c.abiItem.name,l=(a=c.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:l?[]:{},eventName:d}}}).filter(Boolean)}function Vp(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function i(s,o,a){try{return s.type==="address"?Vr(o,a):s.type==="string"||s.type==="bytes"?he(hn(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(d=>i(a,d,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(d=>d.name===s);return a?(Array.isArray(o)?o:[o]).some(d=>i(a,d,t[s])):!1}):!1}function bt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function no(e,{address:t,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const d=c??!1,l=o??(s?[s]:void 0);let h=[];l&&(h=[l.flatMap(w=>nr({abi:[w],eventName:w.name,args:o?void 0:a}))],s&&(h=h[0]));let b;n?b=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:n}]}):b=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:typeof r=="bigint"?N(r):r,toBlock:typeof i=="bigint"?N(i):i}]});const m=b.map(g=>bt(g));return l?to({abi:l,args:a,logs:m,strict:d}):m}async function Cu(e,t){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:d}=t,l=o?Lt({abi:n,name:o}):void 0,h=l?void 0:n.filter(b=>b.type==="event");return W(e,no,"getLogs")({address:r,args:i,blockHash:s,event:l,events:h,fromBlock:a,toBlock:c,strict:d})}const pi="/docs/contract/decodeFunctionResult";function jt(e){const{abi:t,args:n,functionName:r,data:i}=e;let s=t[0];if(r){const a=Lt({abi:t,args:n,name:r});if(!a)throw new an(r,{docsPath:pi});s=a}if(s.type!=="function")throw new an(void 0,{docsPath:pi});if(!s.outputs)throw new Hc(s.name,{docsPath:pi});const o=pn(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ro=BigInt(0),Ji=BigInt(1);function ir(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function io(e){if(!ir(e))throw new Error("Uint8Array expected")}function Jn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function mr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Ru(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ro:BigInt("0x"+e)}const ku=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",qp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xn(e){if(io(e),ku)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=qp[e[n]];return t}const ct={_0:48,_9:57,A:65,F:70,a:97,f:102};function da(e){if(e>=ct._0&&e<=ct._9)return e-ct._0;if(e>=ct.A&&e<=ct.F)return e-(ct.A-10);if(e>=ct.a&&e<=ct.f)return e-(ct.a-10)}function Ar(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(ku)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=da(e.charCodeAt(s)),a=da(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Rt(e){return Ru(Xn(e))}function Fu(e){return io(e),Ru(Xn(Uint8Array.from(e).reverse()))}function sr(e,t){return Ar(e.toString(16).padStart(t*2,"0"))}function Ou(e,t){return sr(e,t).reverse()}function Oe(e,t,n){let r;if(typeof t=="string")try{r=Ar(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(ir(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Pr(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];io(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const bi=e=>typeof e=="bigint"&&ro<=e;function so(e,t,n){return bi(e)&&bi(t)&&bi(n)&&t<=e&&e<n}function en(e,t,n,r){if(!so(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Wp(e){let t;for(t=0;e>ro;e>>=Ji,t+=1);return t}const qr=e=>(Ji<<BigInt(e))-Ji,mi=e=>new Uint8Array(e),la=e=>Uint8Array.from(e);function Kp(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=mi(e),i=mi(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=mi(0))=>{i=a(la([0]),h),r=a(),h.length!==0&&(i=a(la([1]),h),r=a())},d=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const b=[];for(;h<t;){r=a();const m=r.slice();b.push(m),h+=r.length}return Pr(...b)};return(h,b)=>{o(),c(h);let m;for(;!(m=b(d()));)c();return o(),m}}const Zp={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ir(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Wr(e,t,n={}){const r=(i,s,o)=>{const a=Zp[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function ha(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const Yp="0.1.1";function Jp(){return Yp}class Z extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof Z){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof Z&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Jp()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=t}walk(t){return _u(this,t)}}function _u(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?_u(e.cause,t):t?null:e}function or(e,t){if(Zt(e)>t)throw new p1({givenSize:Zt(e),maxSize:t})}const ut={zero:48,nine:57,A:65,F:70,a:97,f:102};function pa(e){if(e>=ut.zero&&e<=ut.nine)return e-ut.zero;if(e>=ut.A&&e<=ut.F)return e-(ut.A-10);if(e>=ut.a&&e<=ut.f)return e-(ut.a-10)}function Xp(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new b1({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=e[o?s:e.length-s-1]}return i}function Nu(e,t={}){const{dir:n="left"}=t;let r=e,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function Kr(e,t){if(Se(e)>t)throw new v1({givenSize:Se(e),maxSize:t})}function Qp(e,t){if(typeof t=="number"&&t>0&&t>Se(e)-1)throw new Vu({offset:t,position:"start",size:Se(e)})}function e1(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Se(e)!==n-t)throw new Vu({offset:n,position:"end",size:Se(e)})}function Mu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const i=e.replace("0x","");if(i.length>r*2)throw new E1({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const t1="#__bigint";function zu(e,t,n){return JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString()+t1:i,n)}const n1=new TextDecoder,r1=new TextEncoder;function i1(e){return e instanceof Uint8Array?e:typeof e=="string"?Uu(e):s1(e)}function s1(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Uu(e,t={}){const{size:n}=t;let r=e;n&&(Kr(e,n),r=zt(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const d=pa(i.charCodeAt(c++)),l=pa(i.charCodeAt(c++));if(d===void 0||l===void 0)throw new Z(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=d*16+l}return o}function o1(e,t={}){const{size:n}=t,r=r1.encode(e);return typeof n=="number"?(or(r,n),a1(r,n)):r}function a1(e,t){return Xp(e,{dir:"right",size:t})}function Zt(e){return e.length}function c1(e,t,n,r={}){const{strict:i}=r;return e.slice(t,n)}function u1(e,t={}){const{size:n}=t;typeof n<"u"&&or(e,n);const r=De(e,t);return Du(r,t)}function f1(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(or(r,n),r=Lu(r)),r.length>1||r[0]>1)throw new h1(r);return!!r[0]}function ht(e,t={}){const{size:n}=t;typeof n<"u"&&or(e,n);const r=De(e,t);return Hu(r,t)}function d1(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(or(r,n),r=l1(r)),n1.decode(r)}function Lu(e){return Nu(e,{dir:"left"})}function l1(e){return Nu(e,{dir:"right"})}class h1 extends Z{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let p1=class extends Z{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},b1=class extends Z{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const m1=new TextEncoder,y1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function g1(e,t={}){const{strict:n=!1}=t;if(!e)throw new ba(e);if(typeof e!="string")throw new ba(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ma(e);if(!e.startsWith("0x"))throw new ma(e)}function je(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function w1(e){return e instanceof Uint8Array?De(e):Array.isArray(e)?De(new Uint8Array(e)):e}function ju(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Kr(n,t.size),Mt(n,t.size)):n}function De(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=y1[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(Kr(r,t.size),zt(r,t.size)):r}function be(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const d=typeof e=="bigint"?"n":"";throw new Gu({max:s?`${s}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${e}${d}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Mt(c,r):c}function oo(e,t={}){return De(m1.encode(e),t)}function Mt(e,t){return Mu(e,{dir:"left",size:t})}function zt(e,t){return Mu(e,{dir:"right",size:t})}function et(e,t,n,r={}){const{strict:i}=r;Qp(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return i&&e1(s,t,n),s}function Se(e){return Math.ceil((e.length-2)/2)}function Du(e,t={}){const{signed:n}=t;t.size&&Kr(e,t.size);const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function Hu(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Du(e,t))}function x1(e,t={}){const{strict:n=!1}=t;try{return g1(e,{strict:n}),!0}catch{return!1}}class Gu extends Z{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ba extends Z{constructor(t){super(`Value \`${typeof t=="object"?zu(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ma extends Z{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class v1 extends Z{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Vu extends Z{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class E1 extends Z{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function A1(e){return{address:e.address,amount:be(e.amount),index:be(e.index),validatorIndex:be(e.validatorIndex)}}function qu(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:be(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:be(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:be(e.gasLimit)},...typeof e.number=="bigint"&&{number:be(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:be(e.prevRandao)},...typeof e.time=="bigint"&&{time:be(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(A1)}}}const Ir=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Xi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Wu=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Ku=[...Wu,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],P1=[...Wu,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ya=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ga=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Zu=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],wa=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],I1="0x82ad56cb",Yu="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",B1="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",$1="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ao="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Qi extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Ju extends S{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Zr extends S{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const yi="/docs/contract/encodeDeployData";function co(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new Ql({docsPath:yi});if(!("inputs"in i))throw new qo({docsPath:yi});if(!i.inputs||i.inputs.length===0)throw new qo({docsPath:yi});const s=Bt(i.inputs,n);return Ve([r,s])}function bn({blockNumber:e,chain:t,contract:n}){var i;const r=(i=t==null?void 0:t.contracts)==null?void 0:i[n];if(!r)throw new Qi({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Qi({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Xu(e,{docsPath:t,...n}){const r=(()=>{const i=Hs(e,n);return i instanceof jr?e:i})();return new fu(r,{docsPath:t,...n})}function Qu(){let e=()=>{},t=()=>{};return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}const gi=new Map;function e0({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const l=c();o();const h=l.map(({args:b})=>b);h.length!==0&&e(h).then(b=>{i&&Array.isArray(b)&&b.sort(i);for(let m=0;m<l.length;m++){const{resolve:g}=l[m];g==null||g([b[m],b])}}).catch(b=>{for(let m=0;m<l.length;m++){const{reject:g}=l[m];g==null||g(b)}})},o=()=>gi.delete(t),a=()=>c().map(({args:l})=>l),c=()=>gi.get(t)||[],d=l=>gi.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:h,resolve:b,reject:m}=Qu();return(n==null?void 0:n([...a(),l]))&&s(),c().length>0?(d({args:l,resolve:b,reject:m}),h):(d({args:l,resolve:b,reject:m}),setTimeout(s,r),h)}}}async function Yr(e,t){var z,X,F,_;const{account:n=e.account,authorizationList:r,batch:i=!!((z=e.batch)!=null&&z.multicall),blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:d,code:l,data:h,factory:b,factoryData:m,gas:g,gasPrice:w,maxFeePerBlobGas:B,maxFeePerGas:A,maxPriorityFeePerGas:T,nonce:P,to:v,value:I,stateOverride:R,...C}=t,O=n?qe(n):void 0;if(l&&(b||m))throw new S("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&v)throw new S("Cannot provide both `code` & `to` as parameters.");const U=l&&h,H=b&&m&&v&&h,M=U||H,L=U?t0({code:l,data:h}):H?C1({data:h,factory:b,factoryData:m,to:v}):h;try{rr(t);const k=(typeof s=="bigint"?N(s):void 0)||o,j=d?qu(d):void 0,V=qs(R),q=(_=(F=(X=e.chain)==null?void 0:X.formatters)==null?void 0:F.transactionRequest)==null?void 0:_.format,ue=(q||Dr)({...Gs(C,{format:q}),accessList:a,account:O,authorizationList:r,blobs:c,data:L,gas:g,gasPrice:w,maxFeePerBlobGas:B,maxFeePerGas:A,maxPriorityFeePerGas:T,nonce:P,to:M?void 0:v,value:I},"call");if(i&&S1({request:ue})&&!V&&!j)try{return await T1(e,{...ue,blockNumber:s,blockTag:o})}catch(fe){if(!(fe instanceof Ju)&&!(fe instanceof Qi))throw fe}const ae=(()=>{const fe=[ue,k];return V&&j?[...fe,V,j]:V?[...fe,V]:j?[...fe,{},j]:fe})(),re=await e.request({method:"eth_call",params:ae});return re==="0x"?{data:void 0}:{data:re}}catch(G){const k=R1(G),{offchainLookup:j,offchainLookupSignature:V}=await lu(async()=>{const{offchainLookup:q,offchainLookupSignature:J}=await import("./ccip-DZyFjs5F.js");return{offchainLookup:q,offchainLookupSignature:J}},[]);if(e.ccipRead!==!1&&(k==null?void 0:k.slice(0,10))===V&&v)return{data:await j(e,{data:k,to:v})};throw M&&(k==null?void 0:k.slice(0,10))==="0x101bb98d"?new hp({factory:b}):Xu(G,{...t,account:O,chain:e.chain})}}function S1({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(I1)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function T1(e,t){var w;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((w=e.batch)==null?void 0:w.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,d=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return bn({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new Ju})(),h=(typeof s=="bigint"?N(s):void 0)||o,{schedule:b}=e0({id:`${e.uid}.${h}`,wait:i,shouldSplitBatch(B){return B.reduce((T,{data:P})=>T+(P.length-2),0)>n*2},fn:async B=>{const A=B.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),T=We({abi:Ir,args:[A],functionName:"aggregate3"}),P=await e.request({method:"eth_call",params:[{...d===null?{data:t0({code:ao,data:T})}:{to:d,data:T}},h]});return jt({abi:Ir,args:[A],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:m,success:g}]=await b({data:a,to:c});if(!g)throw new Lr({data:m});return m==="0x"?{data:void 0}:{data:m}}function t0(e){const{code:t,data:n}=e;return co({abi:Mc(["constructor(bytes, bytes)"]),bytecode:Yu,args:[t,n]})}function C1(e){const{data:t,factory:n,factoryData:r,to:i}=e;return co({abi:Mc(["constructor(address, bytes, address, bytes)"]),bytecode:B1,args:[i,t,n,r]})}function R1(e){var n;if(!(e instanceof S))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function He(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=We({abi:n,args:i,functionName:s});try{const{data:c}=await W(e,Yr,"call")({...o,data:a,to:r});return jt({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw un(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function k1(e,t){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=t,c=a.account?qe(a.account):e.account,d=We({abi:n,args:i,functionName:o});try{const{data:l}=await W(e,Yr,"call")({batch:!1,data:`${d}${s?s.replace("0x",""):""}`,to:r,...a,account:c}),h=jt({abi:n,args:i,functionName:o,data:l||"0x"}),b=n.filter(m=>"name"in m&&m.name===t.functionName);return{result:h,request:{abi:b,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(l){throw un(l,{abi:n,address:r,args:i,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const wi=new Map,xa=new Map;let F1=0;function It(e,t,n){const r=++F1,i=()=>wi.get(e)||[],s=()=>{const l=i();wi.set(e,l.filter(h=>h.id!==r))},o=()=>{const l=i();if(!l.some(b=>b.id===r))return;const h=xa.get(e);if(l.length===1&&h){const b=h();b instanceof Promise&&b.catch(()=>{})}s()},a=i();if(wi.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=(...h)=>{var m,g;const b=i();if(b.length!==0)for(const w of b)(g=(m=w.fns)[l])==null||g.call(m,...h)};const d=n(c);return typeof d=="function"&&xa.set(e,d),o}async function es(e){return new Promise(t=>setTimeout(t,e))}function ar(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;t&&(a=await e({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await es(c);const d=async()=>{i&&(await e({unpoll:s}),await es(r),d())};d()})(),s}const O1=new Map,_1=new Map;function N1(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=t(e,O1),r=t(e,_1);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function M1(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=N1(t),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const z1=e=>`blockNumber.${e}`;async function cr(e,{cacheTime:t=e.cacheTime}={}){const n=await M1(()=>e.request({method:"eth_blockNumber"}),{cacheKey:z1(e.uid),cacheTime:t});return BigInt(n)}async function Jr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const i=r.map(s=>bt(s));return!("abi"in t)||!t.abi?i:to({abi:t.abi,logs:i,strict:n})}async function Xr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function U1(e,t){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:d,poll:l,pollingInterval:h=e.pollingInterval,strict:b}=t;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const B=b??!1,A=pe(["watchContractEvent",r,i,s,e.uid,o,h,B,a]);return It(A,{onLogs:d,onError:c},T=>{let P;a!==void 0&&(P=a-1n);let v,I=!1;const R=ar(async()=>{var C;if(!I){try{v=await W(e,nu,"createContractEventFilter")({abi:n,address:r,args:i,eventName:o,strict:B,fromBlock:a})}catch{}I=!0;return}try{let O;if(v)O=await W(e,Jr,"getFilterChanges")({filter:v});else{const U=await W(e,cr,"getBlockNumber")({});P&&P<U?O=await W(e,Cu,"getContractEvents")({abi:n,address:r,args:i,eventName:o,fromBlock:P+1n,toBlock:U,strict:B}):O=[],P=U}if(O.length===0)return;if(s)T.onLogs(O);else for(const U of O)T.onLogs([U])}catch(O){v&&O instanceof _t&&(I=!1),(C=T.onError)==null||C.call(T,O)}},{emitOnBegin:!0,interval:h});return async()=>{v&&await W(e,Xr,"uninstallFilter")({filter:v}),R()}})})():(()=>{const B=b??!1,A=pe(["watchContractEvent",r,i,s,e.uid,o,h,B]);let T=!0,P=()=>T=!1;return It(A,{onLogs:d,onError:c},v=>((async()=>{try{const I=(()=>{if(e.transport.type==="fallback"){const O=e.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return O?O.value:e.transport}return e.transport})(),R=o?nr({abi:n,eventName:o,args:i}):[],{unsubscribe:C}=await I.subscribe({params:["logs",{address:r,topics:R}],onData(O){var H;if(!T)return;const U=O.result;try{const{eventName:M,args:L}=eo({abi:n,data:U.data,topics:U.topics,strict:b}),z=bt(U,{args:L,eventName:M});v.onLogs([z])}catch(M){let L,z;if(M instanceof $n||M instanceof _r){if(b)return;L=M.abiItem.name,z=(H=M.abiItem.inputs)==null?void 0:H.some(F=>!("name"in F&&F.name))}const X=bt(U,{args:z?[]:{},eventName:L});v.onLogs([X])}},onError(O){var U;(U=v.onError)==null||U.call(v,O)}});P=C,T||P()}catch(I){c==null||c(I)}})(),()=>P()))})()}async function L1(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function ts(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:d})=>{const l=typeof t=="function"?t({count:a,error:d}):t;l&&await es(l),o({count:a+1})};try{const d=await e();i(d)}catch(d){if(a<n&&await r({count:a,error:d}))return c({error:d});s(d)}};o()})}const j1={"0x0":"reverted","0x1":"success"};function uo(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>bt(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?nt(e.transactionIndex):null,status:e.status?j1[e.status]:null,type:e.type?gu[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const D1=Vs("transactionReceipt",uo),ns=256;let yr=ns,gr;function n0(e=11){if(!gr||yr+e>ns*2){gr="",yr=0;for(let t=0;t<ns;t++)gr+=(256+Math.random()*256|0).toString(16).substring(1)}return gr.substring(yr,yr+++e)}function H1(e){const{batch:t,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(c/2),500),4e3),l=e.pollingInterval??d,h=e.cacheTime??l,b=e.account?qe(e.account):void 0,{config:m,request:g,value:w}=e.transport({chain:n,pollingInterval:l}),B={...m,...w},A={account:b,batch:t,cacheTime:h,ccipRead:r,chain:n,key:i,name:s,pollingInterval:l,request:g,transport:B,type:o,uid:n0(),...a?{experimental_blockTag:a}:{}};function T(P){return v=>{const I=v(P);for(const C in A)delete I[C];const R={...P,...I};return Object.assign(R,{extend:T(R)})}}return Object.assign(A,{extend:T(A)})}function fo(e){var n,r,i,s,o,a;if(!(e instanceof S))return!1;const t=e.walk(c=>c instanceof ji);return t instanceof ji?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((i=t.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function G1(e){const{abi:t,data:n}=e,r=Ft(n,0,4),i=t.find(s=>s.type==="function"&&r===tr(Le(s)));if(!i)throw new sh(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?pn(i.inputs,Ft(n,4)):void 0}}const xi="/docs/contract/encodeErrorResult";function va(e){const{abi:t,errorName:n,args:r}=e;let i=t[0];if(n){const c=Lt({abi:t,args:r,name:n});if(!c)throw new Wo(n,{docsPath:xi});i=c}if(i.type!=="error")throw new Wo(void 0,{docsPath:xi});const s=Le(i),o=tr(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new rh(i.name,{docsPath:xi});a=Bt(i.inputs,r)}return Ve([o,a])}const vi="/docs/contract/encodeFunctionResult";function V1(e){const{abi:t,functionName:n,result:r}=e;let i=t[0];if(n){const o=Lt({abi:t,name:n});if(!o)throw new an(n,{docsPath:vi});i=o}if(i.type!=="function")throw new an(void 0,{docsPath:vi});if(!i.outputs)throw new Hc(i.name,{docsPath:vi});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Gc(r)})();return Bt(i.outputs,s)}const Qr="x-batch-gateway:true";async function q1(e){const{data:t,ccipRequest:n}=e,{args:[r]}=G1({abi:Xi,data:t}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(Qr)?await q1({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=W1(c)}})),V1({abi:Xi,functionName:"query",result:[i,s]})}function W1(e){return e.name==="HttpRequestError"&&e.status?va({abi:Xi,errorName:"HttpError",args:[e.status,e.shortMessage]}):va({abi:[ru],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function r0(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return tt(t)?t:null}function rs(e){let t=new Uint8Array(32).fill(0);if(!e)return oe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const i=r0(n[r]),s=i?hn(i):he(Ct(n[r]),"bytes");t=he(it([t,s]),"bytes")}return oe(t)}function K1(e){return`[${e.slice(2)}]`}function Z1(e){const t=new Uint8Array(32).fill(0);return e?r0(e)||he(Ct(e)):oe(t)}function lo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ct(t).byteLength+2);let r=0;const i=t.split(".");for(let s=0;s<i.length;s++){let o=Ct(i[s]);o.byteLength>255&&(o=Ct(K1(Z1(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Y1(e,t){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(b=>s.endsWith(b)))return null;const h=i!=null?[rs(s),BigInt(i)]:[rs(s)];try{const b=We({abi:ga,functionName:"addr",args:h}),m={address:d,abi:Ku,functionName:"resolveWithGateways",args:[$e(lo(s)),b,o??[Qr]],blockNumber:n,blockTag:r},w=await W(e,He,"readContract")(m);if(w[0]==="0x")return null;const B=jt({abi:ga,args:h,functionName:"addr",data:w[0]});return B==="0x"||ze(B)==="0x00"?null:B}catch(b){if(a)throw b;if(fo(b))return null;throw b}}class J1 extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class wn extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class ho extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class X1 extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Q1=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,eb=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,tb=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,nb=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function rb(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ea(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function i0({uri:e,gatewayUrls:t}){const n=tb.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ea(t==null?void 0:t.ipfs,"https://ipfs.io"),i=Ea(t==null?void 0:t.arweave,"https://arweave.net"),s=e.match(Q1),{protocol:o,subpath:a,target:c,subtarget:d=""}=(s==null?void 0:s.groups)||{},l=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||eb.test(e);if(e.startsWith("http")&&!l&&!h){let m=e;return t!=null&&t.arweave&&(m=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((l||h)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${d}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${i}/${c}${d||""}`,isOnChain:!1,isEncoded:!1};let b=e.replace(nb,"");if(b.startsWith("<svg")&&(b=`data:image/svg+xml;base64,${btoa(b)}`),b.startsWith("data:")||b.startsWith("{"))return{uri:b,isOnChain:!0,isEncoded:!1};throw new ho({uri:e})}function s0(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new J1({data:e});return e.image||e.image_url||e.image_data}async function ib({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(i=>i.json());return await po({gatewayUrls:e,uri:s0(n)})}catch{throw new ho({uri:t})}}async function po({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=i0({uri:t,gatewayUrls:e});if(r||await rb(n))return n;throw new ho({uri:t})}function sb(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,i]=t.split("/"),[s,o]=n.split(":"),[a,c]=r.split(":");if(!s||s.toLowerCase()!=="eip155")throw new wn({reason:"Only EIP-155 supported"});if(!o)throw new wn({reason:"Chain ID not found"});if(!c)throw new wn({reason:"Contract address not found"});if(!i)throw new wn({reason:"Token ID not found"});if(!a)throw new wn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function ob(e,{nft:t}){if(t.namespace==="erc721")return He(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return He(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new X1({namespace:t.namespace})}async function ab(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?cb(e,{gatewayUrls:t,record:n}):po({uri:n,gatewayUrls:t})}async function cb(e,{gatewayUrls:t,record:n}){const r=sb(n),i=await ob(e,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=i0({uri:i,gatewayUrls:t});if(o&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const d=a?atob(s.replace("data:application/json;base64,","")):s,l=JSON.parse(d);return po({uri:s0(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),ib({gatewayUrls:t,uri:s.replace(/(?:0x)?{id}/,c)})}async function o0(e,t){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(h=>s.endsWith(h)))return null;try{const h={address:d,abi:Ku,args:[$e(lo(s)),We({abi:ya,functionName:"text",args:[rs(s),i]}),o??[Qr]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},m=await W(e,He,"readContract")(h);if(m[0]==="0x")return null;const g=jt({abi:ya,functionName:"text",data:m[0]});return g===""?null:g}catch(h){if(a)throw h;if(fo(h))return null;throw h}}async function ub(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await W(e,o0,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await ab(e,{record:c,gatewayUrls:r})}catch{return null}}async function fb(e,t){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const l={address:d,abi:P1,args:[n,s,o??[Qr]],functionName:"reverseWithGateways",blockNumber:r,blockTag:i},h=W(e,He,"readContract"),[b]=await h(l);return b||null}catch(l){if(a)throw l;if(fo(l))return null;throw l}}async function db(e,t){const{blockNumber:n,blockTag:r,name:i}=t,{chain:s}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:n,chain:s,contract:"ensUniversalResolver"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(d=>i.endsWith(d)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[c]=await W(e,He,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[$e(lo(i))],blockNumber:n,blockTag:r});return c}async function a0(e,t){var B,A,T;const{account:n=e.account,blockNumber:r,blockTag:i="latest",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,to:b,value:m,...g}=t,w=n?qe(n):void 0;try{rr(t);const v=(typeof r=="bigint"?N(r):void 0)||i,I=(T=(A=(B=e.chain)==null?void 0:B.formatters)==null?void 0:A.transactionRequest)==null?void 0:T.format,C=(I||Dr)({...Gs(g,{format:I}),account:w,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,to:b,value:m},"createAccessList"),O=await e.request({method:"eth_createAccessList",params:[C,v]});return{accessList:O.accessList,gasUsed:BigInt(O.gasUsed)}}catch(P){throw Xu(P,{...t,account:w,chain:e.chain})}}async function lb(e){const t=zr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function c0(e,{address:t,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),d=zr(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(m=>nr({abi:[m],eventName:m.name,args:n}))],r&&(l=l[0]));const h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?N(s):s,toBlock:typeof a=="bigint"?N(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:d(h),strict:!!o,toBlock:a,type:"event"}}async function u0(e){const t=zr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function hb(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const i=typeof n=="bigint"?N(n):void 0,s=await e.request({method:"eth_getBalance",params:[t,i||r]});return BigInt(s)}async function pb(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function bb(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const i=n!==void 0?N(n):void 0;let s;return t?s=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):s=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[i||r]},{dedupe:!!i}),nt(s)}async function is(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?N(n):void 0,s=await e.request({method:"eth_getCode",params:[t,i||r]},{dedupe:!!i});if(s!=="0x")return s}class mb extends S{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function yb(e,t){const{address:n,factory:r,factoryData:i}=t;try{const[s,o,a,c,d,l,h]=await W(e,He,"readContract")({abi:gb,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:d,salt:l},extensions:h,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new mb({address:n}):o}}const gb=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function wb(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function xb(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:i}){const s=typeof n=="bigint"?N(n):void 0,o=await e.request({method:"eth_feeHistory",params:[N(t),s||r,i]},{dedupe:!!s});return wb(o)}async function vb(e,{filter:t}){const n=t.strict??!1,i=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>bt(s));return t.abi?to({abi:t.abi,logs:i,strict:n}):i}function Eb(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,i=n.address;if(!ce(i))throw new ge({address:i});if(r<0)throw new Zr({chainId:r})}bo(e)}function Ab(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Iu;for(const n of t){const r=ne(n),i=nt(Ft(n,0,1));if(r!==32)throw new Up({hash:n,size:r});if(i!==Pu)throw new Lp({hash:n,version:i})}}bo(e)}function bo(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new Zr({chainId:t});if(i&&!ce(i))throw new ge({address:i});if(r&&r>Hr)throw new Nt({maxFeePerGas:r});if(n&&r&&n>r)throw new Yn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Pb(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(t<=0)throw new Zr({chainId:t});if(s&&!ce(s))throw new ge({address:s});if(n||i)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Hr)throw new Nt({maxFeePerGas:r})}function Ib(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(s&&!ce(s))throw new ge({address:s});if(typeof t<"u"&&t<=0)throw new Zr({chainId:t});if(n||i)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Hr)throw new Nt({maxFeePerGas:r})}function ei(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:i}=e[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new cp({storageKey:i[s]});if(!ce(r,{strict:!1}))throw new ge({address:r});t.push([r,i])}return t}function Bb(e,t){const n=$u(e);return n==="eip1559"?Tb(e,t):n==="eip2930"?Cb(e,t):n==="eip4844"?Sb(e,t):n==="eip7702"?$b(e,t):Rb(e,t)}function $b(e,t){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:l,data:h}=e;Eb(e);const b=ei(l),m=kb(n);return Ve(["0x04",Pt([N(r),s?N(s):"0x",d?N(d):"0x",c?N(c):"0x",i?N(i):"0x",o??"0x",a?N(a):"0x",h??"0x",b,m,...ur(e,t)])])}function Sb(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:l,data:h}=e;Ab(e);let b=e.blobVersionedHashes,m=e.sidecars;if(e.blobs&&(typeof b>"u"||typeof m>"u")){const P=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(R=>oe(R)),v=e.kzg,I=Ys({blobs:P,kzg:v});if(typeof b>"u"&&(b=vu({commitments:I})),typeof m>"u"){const R=Js({blobs:P,commitments:I,kzg:v});m=Bu({blobs:P,commitments:I,proofs:R})}}const g=ei(l),w=[N(n),i?N(i):"0x",d?N(d):"0x",c?N(c):"0x",r?N(r):"0x",s??"0x",o?N(o):"0x",h??"0x",g,a?N(a):"0x",b??[],...ur(e,t)],B=[],A=[],T=[];if(m)for(let P=0;P<m.length;P++){const{blob:v,commitment:I,proof:R}=m[P];B.push(v),A.push(I),T.push(R)}return Ve(["0x03",Pt(m?[w,B,A,T]:w)])}function Tb(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:d,data:l}=e;bo(e);const h=ei(d),b=[N(n),i?N(i):"0x",c?N(c):"0x",a?N(a):"0x",r?N(r):"0x",s??"0x",o?N(o):"0x",l??"0x",h,...ur(e,t)];return Ve(["0x02",Pt(b)])}function Cb(e,t){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:d}=e;Pb(e);const l=ei(c),h=[N(n),s?N(s):"0x",d?N(d):"0x",r?N(r):"0x",o??"0x",a?N(a):"0x",i??"0x",l,...ur(e,t)];return Ve(["0x01",Pt(h)])}function Rb(e,t){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;Ib(e);let d=[s?N(s):"0x",c?N(c):"0x",r?N(r):"0x",o??"0x",a?N(a):"0x",i??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const m=27n+(t.v===27n?0n:1n);if(t.v!==m)throw new op({v:t.v});return m})(),h=ze(t.r),b=ze(t.s);d=[...d,N(l),h==="0x00"?"0x":h,b==="0x00"?"0x":b]}else n>0&&(d=[...d,N(n),"0x","0x"]);return Pt(d)}function ur(e,t){const n=t??e,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=ze(n.r),o=ze(n.s);return[typeof i=="number"?i?N(1):"0x":r===0n?"0x":r===1n?N(1):r===27n?"0x":N(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function kb(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:i,...s}=n,o=n.address;t.push([r?$e(r):"0x",o,i?$e(i):"0x",...ur({},s)])}return t}async function Fb({address:e,authorization:t,signature:n}){return Vr(Yc(e),await mu({authorization:t,signature:n}))}const wr=new Ns(8192);function Ob(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(wr.get(n))return wr.get(n);const r=e().finally(()=>wr.delete(n));return wr.set(n,r),r}function _b(e,t={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:d}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(d))throw new St(new Error("method not supported"),{method:d});if(s!=null&&s.include&&!s.include.includes(d))throw new St(new Error("method not supported"),{method:d});const l=i?Sn(`${c}.${pe(n)}`):void 0;return Ob(()=>ts(async()=>{try{return await e(n)}catch(b){const m=b;switch(m.code){case Cn.code:throw new Cn(m);case Rn.code:throw new Rn(m);case kn.code:throw new kn(m,{method:n.method});case Fn.code:throw new Fn(m);case Ot.code:throw new Ot(m);case _t.code:throw new _t(m);case On.code:throw new On(m);case _n.code:throw new _n(m);case Nn.code:throw new Nn(m);case St.code:throw new St(m,{method:n.method});case cn.code:throw new cn(m);case Mn.code:throw new Mn(m);case Qt.code:throw new Qt(m);case zn.code:throw new zn(m);case Un.code:throw new Un(m);case Ln.code:throw new Ln(m);case jn.code:throw new jn(m);case Dn.code:throw new Dn(m);case Hn.code:throw new Hn(m);case Gn.code:throw new Gn(m);case Vn.code:throw new Vn(m);case qn.code:throw new qn(m);case Wn.code:throw new Wn(m);case Kn.code:throw new Kn(m);case Zn.code:throw new Zn(m);case 5e3:throw new Qt(m);default:throw b instanceof S?b:new bp(m)}}},{delay:({count:b,error:m})=>{var g;if(m&&m instanceof En){const w=(g=m==null?void 0:m.headers)==null?void 0:g.get("Retry-After");if(w!=null&&w.match(/\d/))return Number.parseInt(w,10)*1e3}return~~(1<<b)*o},retryCount:a,shouldRetry:({error:b})=>Nb(b)}),{enabled:i,id:l})}}function Nb(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===cn.code||e.code===Ot.code:e instanceof En&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Mb(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function zb(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function Ub(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Aa=Ub();function Lb(e,t={}){return{async request(n){var b;const{body:r,fetchFn:i=t.fetchFn??fetch,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:l,signal:h}=c;try{const m=await zb(async({signal:w})=>{const B={...c,body:Array.isArray(r)?pe(r.map(v=>({jsonrpc:"2.0",id:v.id??Aa.take(),...v}))):pe({jsonrpc:"2.0",id:r.id??Aa.take(),...r}),headers:{"Content-Type":"application/json",...d},method:l||"POST",signal:h||(a>0?w:null)},A=new Request(e,B),T=await(s==null?void 0:s(A,B))??{...B,url:e};return await i(T.url??e,T)},{errorInstance:new ra({body:r,url:e}),timeout:a,signal:!0});o&&await o(m);let g;if((b=m.headers.get("Content-Type"))!=null&&b.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(w){if(m.ok)throw w;g={error:g}}}if(!m.ok)throw new En({body:r,details:pe(g.error)||m.statusText,headers:m.headers,status:m.status,url:e});return g}catch(m){throw m instanceof En||m instanceof ra?m:new En({body:r,cause:m,url:e})}}}}const jb=`Ethereum Signed Message:
`;function Db(e){const t=typeof e=="string"?Sn(e):typeof e.raw=="string"?e.raw:oe(e.raw),n=Sn(`${jb}${ne(t)}`);return it([n,t])}function f0(e,t){return he(Db(e),t)}class Hb extends S{constructor({domain:t}){super(`Invalid domain "${pe(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Gb extends S{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Vb extends S{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function qb(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(o,a)=>{for(const c of o){const{name:d,type:l}=c,h=a[d],b=l.match(eu);if(b&&(typeof h=="number"||typeof h=="bigint")){const[w,B,A]=b;N(h,{signed:B==="int",size:Number.parseInt(A,10)/8})}if(l==="address"&&typeof h=="string"&&!ce(h))throw new ge({address:h});const m=l.match(Th);if(m){const[w,B]=m;if(B&&ne(h)!==Number.parseInt(B,10))throw new ah({expectedSize:Number.parseInt(B,10),givenSize:ne(h)})}const g=i[l];g&&(Kb(l),s(g,h))}};if(i.EIP712Domain&&t){if(typeof t!="object")throw new Hb({domain:t});s(i.EIP712Domain,t)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new Gb({primaryType:r,types:i})}function Wb({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Kb(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Vb({type:e})}function Zb(e){const{domain:t={},message:n,primaryType:r}=e,i={EIP712Domain:Wb({domain:t}),...e.types};qb({domain:t,message:n,primaryType:r,types:i});const s=["0x1901"];return t&&s.push(Yb({domain:t,types:i})),r!=="EIP712Domain"&&s.push(d0({data:n,primaryType:r,types:i})),he(it(s))}function Yb({domain:e,types:t}){return d0({data:e,primaryType:"EIP712Domain",types:t})}function d0({data:e,primaryType:t,types:n}){const r=l0({data:e,primaryType:t,types:n});return he(r)}function l0({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],i=[Jb({primaryType:t,types:n})];for(const s of n[t]){const[o,a]=p0({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(o),i.push(a)}return Bt(r,i)}function Jb({primaryType:e,types:t}){const n=$e(Xb({primaryType:e,types:t}));return he(n)}function Xb({primaryType:e,types:t}){let n="";const r=h0({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const s of i)n+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function h0({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),i=r==null?void 0:r[0];if(n.has(i)||t[i]===void 0)return n;n.add(i);for(const s of t[i])h0({primaryType:s.type,types:t},n);return n}function p0({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},he(l0({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},he(r)];if(n==="string")return[{type:"bytes32"},he($e(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>p0({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},he(Bt(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}class Qb extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const em={checksum:new Qb(8192)},Ei=em.checksum;function b0(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=xs(i1(e));return n==="Bytes"?r:De(r)}const tm=/^0x[a-fA-F0-9]{40}$/;function ti(e,t={}){const{strict:n=!0}=t;if(!tm.test(e))throw new Pa({address:e,cause:new nm});if(n){if(e.toLowerCase()===e)return;if(m0(e)!==e)throw new Pa({address:e,cause:new rm})}}function m0(e){if(Ei.has(e))return Ei.get(e);ti(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=b0(o1(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return Ei.set(e,i),i}function ss(e,t={}){const{strict:n=!0}=t??{};try{return ti(e,{strict:n}),!0}catch{return!1}}class Pa extends Z{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class nm extends Z{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class rm extends Z{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const im=/^(.*)\[([0-9]*)\]$/,sm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,y0=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ia=2n**256n-1n;function tn(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=go(t.type);if(s){const[o,a]=s;return am(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(t.type==="tuple")return dm(e,t,{checksumAddress:r,staticPosition:i});if(t.type==="address")return om(e,{checksum:r});if(t.type==="bool")return cm(e);if(t.type.startsWith("bytes"))return um(e,t,{staticPosition:i});if(t.type.startsWith("uint")||t.type.startsWith("int"))return fm(e,t);if(t.type==="string")return lm(e,{staticPosition:i});throw new xo(t.type)}const Ba=32,os=32;function om(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(s=>n?m0(s):s)(De(c1(r,-20))),32]}function am(e,t,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=ht(e.readBytes(os)),d=s+c,l=d+Ba;e.setPosition(d);const h=ht(e.readBytes(Ba)),b=Qn(t);let m=0;const g=[];for(let w=0;w<h;++w){e.setPosition(l+(b?w*32:m));const[B,A]=tn(e,t,{checksumAddress:r,staticPosition:l});m+=A,g.push(B)}return e.setPosition(s+32),[g,32]}if(Qn(t)){const c=ht(e.readBytes(os)),d=s+c,l=[];for(let h=0;h<i;++h){e.setPosition(d+h*32);const[b]=tn(e,t,{checksumAddress:r,staticPosition:d});l.push(b)}return e.setPosition(s+32),[l,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[d,l]=tn(e,t,{checksumAddress:r,staticPosition:s+o});o+=l,a.push(d)}return[a,o]}function cm(e){return[f1(e.readBytes(32),{size:32}),32]}function um(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=ht(e.readBytes(32));e.setPosition(n+o);const a=ht(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[De(c),32]}return[De(e.readBytes(Number.parseInt(i,10),32)),32]}function fm(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?u1(i,{signed:n}):ht(i,{signed:n}),32]}function dm(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=t.components.length===0||t.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(Qn(t)){const c=ht(e.readBytes(os)),d=i+c;for(let l=0;l<t.components.length;++l){const h=t.components[l];e.setPosition(d+a);const[b,m]=tn(e,h,{checksumAddress:r,staticPosition:d});a+=m,o[s?l:h==null?void 0:h.name]=b}return e.setPosition(i+32),[o,32]}for(let c=0;c<t.components.length;++c){const d=t.components[c],[l,h]=tn(e,d,{checksumAddress:r,staticPosition:i});o[s?c:d==null?void 0:d.name]=l,a+=h}return[o,a]}function lm(e,{staticPosition:t}){const n=ht(e.readBytes(32)),r=t+n;e.setPosition(r);const i=ht(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=d1(Lu(s));return e.setPosition(t+32),[o,32]}function hm({checksumAddress:e,parameters:t,values:n}){const r=[];for(let i=0;i<t.length;i++)r.push(mo({checksumAddress:e,parameter:t[i],value:n[i]}));return r}function mo({checksumAddress:e=!1,parameter:t,value:n}){const r=t,i=go(r.type);if(i){const[s,o]=i;return bm(n,{checksumAddress:e,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return xm(n,{checksumAddress:e,parameter:r});if(r.type==="address")return pm(n,{checksum:e});if(r.type==="bool")return ym(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=y0.exec(r.type)??[];return gm(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return mm(n,{type:r.type});if(r.type==="string")return wm(n);throw new xo(r.type)}function yo(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=Se(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(be(t+i,{size:32})),r.push(a),i+=Se(a)):n.push(a)}return je(...n,...r)}function pm(e,t){const{checksum:n=!1}=t;return ti(e,{strict:n}),{dynamic:!1,encoded:Mt(e.toLowerCase())}}function bm(e,t){const{checksumAddress:n,length:r,parameter:i}=t,s=r===null;if(!Array.isArray(e))throw new Tm(e);if(!s&&e.length!==r)throw new Sm({expectedLength:r,givenLength:e.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const d=mo({checksumAddress:n,parameter:i,value:e[c]});d.dynamic&&(o=!0),a.push(d)}if(s||o){const c=yo(a);if(s){const d=be(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?je(d,c):d}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:je(...a.map(({encoded:c})=>c))}}function mm(e,{type:t}){const[,n]=t.split("bytes"),r=Se(e);if(!n){let i=e;return r%32!==0&&(i=zt(i,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:je(Mt(be(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new w0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:zt(e)}}function ym(e){if(typeof e!="boolean")throw new Z(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Mt(ju(e))}}function gm(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new Gu({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:be(e,{size:32,signed:t})}}function wm(e){const t=oo(e),n=Math.ceil(Se(t)/32),r=[];for(let i=0;i<n;i++)r.push(zt(et(t,i*32,(i+1)*32)));return{dynamic:!0,encoded:je(zt(be(Se(t),{size:32})),...r)}}function xm(e,t){const{checksumAddress:n,parameter:r}=t;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,d=mo({checksumAddress:n,parameter:a,value:e[c]});s.push(d),d.dynamic&&(i=!0)}return{dynamic:i,encoded:i?yo(s):je(...s.map(({encoded:o})=>o))}}function go(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Qn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Qn);const n=go(e.type);return!!(n&&Qn({...e,type:n[1]}))}const vm={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Pm({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Am({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new $a({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new $a({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Em(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(vm);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class $a extends Z{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Am extends Z{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Pm extends Z{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Im(e,t,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof t=="string"?Uu(t):t,o=Em(s);if(Zt(s)===0&&e.length>0)throw new $m;if(Zt(s)&&Zt(s)<32)throw new Bm({data:typeof t=="string"?t:De(t),parameters:e,size:Zt(s)});let a=0;const c=r==="Array"?[]:{};for(let d=0;d<e.length;++d){const l=e[d];o.setPosition(a);const[h,b]=tn(o,l,{checksumAddress:i,staticPosition:0});a+=b,r==="Array"?c.push(h):c[l.name??d]=h}return c}function wo(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new x0({expectedLength:e.length,givenLength:t.length});const i=hm({checksumAddress:r,parameters:e,values:t}),s=yo(i);return s.length===0?"0x":s}function as(e,t){if(e.length!==t.length)throw new x0({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(as.encode(i,s))}return je(...n)}(function(e){function t(n,r,i=!1){if(n==="address"){const c=r;return ti(c),Mt(c.toLowerCase(),i?32:0)}if(n==="string")return oo(r);if(n==="bytes")return r;if(n==="bool")return Mt(ju(r),i?32:1);const s=n.match(y0);if(s){const[c,d,l="256"]=s,h=Number.parseInt(l,10)/8;return be(r,{size:i?32:h,signed:d==="int"})}const o=n.match(sm);if(o){const[c,d]=o;if(Number.parseInt(d,10)!==(r.length-2)/2)throw new w0({expectedSize:Number.parseInt(d,10),value:r});return zt(r,i?32:0)}const a=n.match(im);if(a&&Array.isArray(r)){const[c,d]=a,l=[];for(let h=0;h<r.length;h++)l.push(t(d,r[h],!0));return l.length===0?"0x":je(...l)}throw new xo(n)}e.encode=t})(as||(as={}));function g0(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Vo(e):e}class Bm extends Z{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Wt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class $m extends Z{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Sm extends Z{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class w0 extends Z{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Se(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class x0 extends Z{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Tm extends Z{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class xo extends Z{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ee=BigInt(0),ye=BigInt(1),Tt=BigInt(2),Cm=BigInt(3),v0=BigInt(4),E0=BigInt(5),A0=BigInt(8);function ve(e,t){const n=e%t;return n>=Ee?n:t+n}function Ce(e,t,n){let r=e;for(;t-- >Ee;)r*=r,r%=n;return r}function cs(e,t){if(e===Ee)throw new Error("invert: expected non-zero number");if(t<=Ee)throw new Error("invert: expected positive modulus, got "+t);let n=ve(e,t),r=t,i=Ee,s=ye;for(;n!==Ee;){const a=r/n,c=r%n,d=i-s*a;r=n,n=c,i=s,s=d}if(r!==ye)throw new Error("invert: does not exist");return ve(i,t)}function P0(e,t){const n=(e.ORDER+ye)/v0,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Rm(e,t){const n=(e.ORDER-E0)/A0,r=e.mul(t,Tt),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Tt),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function km(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ye,n=0;for(;t%Tt===Ee;)t/=Tt,n++;let r=Tt;const i=vo(e);for(;Sa(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return P0;let s=i.pow(r,t);const o=(t+ye)/Tt;return function(c,d){if(c.is0(d))return d;if(Sa(c,d)!==1)throw new Error("Cannot find square root");let l=n,h=c.mul(c.ONE,s),b=c.pow(d,t),m=c.pow(d,o);for(;!c.eql(b,c.ONE);){if(c.is0(b))return c.ZERO;let g=1,w=c.sqr(b);for(;!c.eql(w,c.ONE);)if(g++,w=c.sqr(w),g===l)throw new Error("Cannot find square root");const B=ye<<BigInt(l-g-1),A=c.pow(h,B);l=g,h=c.sqr(A),b=c.mul(b,h),m=c.mul(m,A)}return m}}function Fm(e){return e%v0===Cm?P0:e%A0===E0?Rm:km(e)}const Om=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _m(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Om.reduce((r,i)=>(r[i]="function",r),t);return Wr(e,n)}function Nm(e,t,n){if(n<Ee)throw new Error("invalid exponent, negatives unsupported");if(n===Ee)return e.ONE;if(n===ye)return t;let r=e.ONE,i=t;for(;n>Ee;)n&ye&&(r=e.mul(r,i)),i=e.sqr(i),n>>=ye;return r}function I0(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}function Sa(e,t){const n=(e.ORDER-ye)/Tt,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function B0(e,t){t!==void 0&&Pn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function vo(e,t,n=!1,r={}){if(e<=Ee)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=B0(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:qr(i),ZERO:Ee,ONE:ye,create:c=>ve(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ee<=c&&c<e},is0:c=>c===Ee,isOdd:c=>(c&ye)===ye,neg:c=>ve(-c,e),eql:(c,d)=>c===d,sqr:c=>ve(c*c,e),add:(c,d)=>ve(c+d,e),sub:(c,d)=>ve(c-d,e),mul:(c,d)=>ve(c*d,e),pow:(c,d)=>Nm(a,c,d),div:(c,d)=>ve(c*cs(d,e),e),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>cs(c,e),sqrt:r.sqrt||(c=>(o||(o=Fm(e)),o(a,c))),toBytes:c=>n?Ou(c,s):sr(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Fu(c):Rt(c)},invertBatch:c=>I0(a,c),cmov:(c,d,l)=>l?d:c});return Object.freeze(a)}function $0(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function S0(e){const t=$0(e);return t+Math.ceil(t/2)}function Mm(e,t,n=!1){const r=e.length,i=$0(t),s=S0(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Fu(e):Rt(e),a=ve(o,t-ye)+ye;return n?Ou(a,i):sr(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ta=BigInt(0),us=BigInt(1);function Ai(e,t){const n=t.negate();return e?n:t}function T0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Pi(e,t){T0(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=qr(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Ca(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=us);const d=t*r,l=d+Math.abs(a)-1,h=a===0,b=a<0,m=t%2!==0;return{nextN:c,offset:l,isZero:h,isNeg:b,isNegF:m,offsetF:d}}function zm(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Um(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Ii=new WeakMap,C0=new WeakMap;function Bi(e){return C0.get(e)||1}function Lm(e,t){return{constTimeNegate:Ai,hasPrecomputes(n){return Bi(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>Ta;)r&us&&(i=i.add(s)),s=s.double(),r>>=us;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Pi(r,t),o=[];let a=n,c=a;for(let d=0;d<i;d++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=Pi(n,t);for(let c=0;c<a.windows;c++){const{nextN:d,offset:l,isZero:h,isNeg:b,isNegF:m,offsetF:g}=Ca(i,c,a);i=d,h?o=o.add(Ai(m,r[g])):s=s.add(Ai(b,r[l]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=Pi(n,t);for(let a=0;a<o.windows&&i!==Ta;a++){const{nextN:c,offset:d,isZero:l,isNeg:h}=Ca(i,a,o);if(i=c,!l){const b=r[d];s=s.add(h?b.negate():b)}}return s},getPrecomputes(n,r,i){let s=Ii.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Ii.set(r,i(s))),s},wNAFCached(n,r,i){const s=Bi(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Bi(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){T0(r,t),C0.set(n,r),Ii.delete(n)}}}function jm(e,t,n,r){zm(n,e),Um(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Wp(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const d=qr(c),l=new Array(Number(d)+1).fill(o),h=Math.floor((t.BITS-1)/c)*c;let b=o;for(let m=h;m>=0;m-=c){l.fill(o);for(let w=0;w<s;w++){const B=r[w],A=Number(B>>BigInt(m)&d);l[A]=l[A].add(n[w])}let g=o;for(let w=l.length-1,B=o;w>0;w--)B=B.add(l[w]),g=g.add(B);if(b=b.add(g),m!==0)for(let w=0;w<c;w++)b=b.double()}return b}function R0(e){return _m(e.Fp),Wr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...B0(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ra(e){e.lowS!==void 0&&Jn("lowS",e.lowS),e.prehash!==void 0&&Jn("prehash",e.prehash)}function Dm(e){const t=R0(e);Wr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Hm extends Error{constructor(t=""){super(t)}}const ft={Err:Hm,_tlv:{encode:(e,t)=>{const{Err:n}=ft;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=mr(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?mr(i.length/2|128):"";return mr(e)+s+i+t},decode(e,t){const{Err:n}=ft;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+c);if(d.length!==c)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of d)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=ft;if(e<dt)throw new t("integer: negative integers are not allowed");let n=mr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ft;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Rt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ft,i=Oe("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:d,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=ft,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}};function $i(e,t){return Xn(sr(e,t))}const dt=BigInt(0),de=BigInt(1);BigInt(2);const Si=BigInt(3),Gm=BigInt(4);function Vm(e){const t=Dm(e),{Fp:n}=t,r=vo(t.n,t.nBitLength),i=t.toBytes||((P,v,I)=>{const R=v.toAffine();return Pr(Uint8Array.from([4]),n.toBytes(R.x),n.toBytes(R.y))}),s=t.fromBytes||(P=>{const v=P.subarray(1),I=n.fromBytes(v.subarray(0,n.BYTES)),R=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:I,y:R}});function o(P){const{a:v,b:I}=t,R=n.sqr(P),C=n.mul(R,P);return n.add(n.add(C,n.mul(P,v)),I)}function a(P,v){const I=n.sqr(v),R=o(P);return n.eql(I,R)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Si),Gm),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,d)))throw new Error("bad curve params: a or b");function l(P){return so(P,de,t.n)}function h(P){const{allowedPrivateKeyLengths:v,nByteLength:I,wrapPrivateKey:R,n:C}=t;if(v&&typeof P!="bigint"){if(ir(P)&&(P=Xn(P)),typeof P!="string"||!v.includes(P.length))throw new Error("invalid private key");P=P.padStart(I*2,"0")}let O;try{O=typeof P=="bigint"?P:Rt(Oe("private key",P,I))}catch{throw new Error("invalid private key, expected hex or "+I+" bytes, got "+typeof P)}return R&&(O=ve(O,C)),en("private key",O,de,C),O}function b(P){if(!(P instanceof w))throw new Error("ProjectivePoint expected")}const m=ha((P,v)=>{const{px:I,py:R,pz:C}=P;if(n.eql(C,n.ONE))return{x:I,y:R};const O=P.is0();v==null&&(v=O?n.ONE:n.inv(C));const U=n.mul(I,v),H=n.mul(R,v),M=n.mul(C,v);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:U,y:H}}),g=ha(P=>{if(P.is0()){if(t.allowInfinityPoint&&!n.is0(P.py))return;throw new Error("bad point: ZERO")}const{x:v,y:I}=P.toAffine();if(!n.isValid(v)||!n.isValid(I))throw new Error("bad point: x or y not FE");if(!a(v,I))throw new Error("bad point: equation left != right");if(!P.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(v,I,R){if(v==null||!n.isValid(v))throw new Error("x required");if(I==null||!n.isValid(I)||n.is0(I))throw new Error("y required");if(R==null||!n.isValid(R))throw new Error("z required");this.px=v,this.py=I,this.pz=R,Object.freeze(this)}static fromAffine(v){const{x:I,y:R}=v||{};if(!v||!n.isValid(I)||!n.isValid(R))throw new Error("invalid affine point");if(v instanceof w)throw new Error("projective point not allowed");const C=O=>n.eql(O,n.ZERO);return C(I)&&C(R)?w.ZERO:new w(I,R,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const I=I0(n,v.map(R=>R.pz));return v.map((R,C)=>R.toAffine(I[C])).map(w.fromAffine)}static fromHex(v){const I=w.fromAffine(s(Oe("pointHex",v)));return I.assertValidity(),I}static fromPrivateKey(v){return w.BASE.multiply(h(v))}static msm(v,I){return jm(w,r,v,I)}_setWindowSize(v){T.setWindowSize(this,v)}assertValidity(){g(this)}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){b(v);const{px:I,py:R,pz:C}=this,{px:O,py:U,pz:H}=v,M=n.eql(n.mul(I,H),n.mul(O,C)),L=n.eql(n.mul(R,H),n.mul(U,C));return M&&L}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:I}=t,R=n.mul(I,Si),{px:C,py:O,pz:U}=this;let H=n.ZERO,M=n.ZERO,L=n.ZERO,z=n.mul(C,C),X=n.mul(O,O),F=n.mul(U,U),_=n.mul(C,O);return _=n.add(_,_),L=n.mul(C,U),L=n.add(L,L),H=n.mul(v,L),M=n.mul(R,F),M=n.add(H,M),H=n.sub(X,M),M=n.add(X,M),M=n.mul(H,M),H=n.mul(_,H),L=n.mul(R,L),F=n.mul(v,F),_=n.sub(z,F),_=n.mul(v,_),_=n.add(_,L),L=n.add(z,z),z=n.add(L,z),z=n.add(z,F),z=n.mul(z,_),M=n.add(M,z),F=n.mul(O,U),F=n.add(F,F),z=n.mul(F,_),H=n.sub(H,z),L=n.mul(F,X),L=n.add(L,L),L=n.add(L,L),new w(H,M,L)}add(v){b(v);const{px:I,py:R,pz:C}=this,{px:O,py:U,pz:H}=v;let M=n.ZERO,L=n.ZERO,z=n.ZERO;const X=t.a,F=n.mul(t.b,Si);let _=n.mul(I,O),G=n.mul(R,U),k=n.mul(C,H),j=n.add(I,R),V=n.add(O,U);j=n.mul(j,V),V=n.add(_,G),j=n.sub(j,V),V=n.add(I,C);let q=n.add(O,H);return V=n.mul(V,q),q=n.add(_,k),V=n.sub(V,q),q=n.add(R,C),M=n.add(U,H),q=n.mul(q,M),M=n.add(G,k),q=n.sub(q,M),z=n.mul(X,V),M=n.mul(F,k),z=n.add(M,z),M=n.sub(G,z),z=n.add(G,z),L=n.mul(M,z),G=n.add(_,_),G=n.add(G,_),k=n.mul(X,k),V=n.mul(F,V),G=n.add(G,k),k=n.sub(_,k),k=n.mul(X,k),V=n.add(V,k),_=n.mul(G,V),L=n.add(L,_),_=n.mul(q,V),M=n.mul(j,M),M=n.sub(M,_),_=n.mul(j,G),z=n.mul(q,z),z=n.add(z,_),new w(M,L,z)}subtract(v){return this.add(v.negate())}is0(){return this.equals(w.ZERO)}wNAF(v){return T.wNAFCached(this,v,w.normalizeZ)}multiplyUnsafe(v){const{endo:I,n:R}=t;en("scalar",v,dt,R);const C=w.ZERO;if(v===dt)return C;if(this.is0()||v===de)return this;if(!I||T.hasPrecomputes(this))return T.wNAFCachedUnsafe(this,v,w.normalizeZ);let{k1neg:O,k1:U,k2neg:H,k2:M}=I.splitScalar(v),L=C,z=C,X=this;for(;U>dt||M>dt;)U&de&&(L=L.add(X)),M&de&&(z=z.add(X)),X=X.double(),U>>=de,M>>=de;return O&&(L=L.negate()),H&&(z=z.negate()),z=new w(n.mul(z.px,I.beta),z.py,z.pz),L.add(z)}multiply(v){const{endo:I,n:R}=t;en("scalar",v,de,R);let C,O;if(I){const{k1neg:U,k1:H,k2neg:M,k2:L}=I.splitScalar(v);let{p:z,f:X}=this.wNAF(H),{p:F,f:_}=this.wNAF(L);z=T.constTimeNegate(U,z),F=T.constTimeNegate(M,F),F=new w(n.mul(F.px,I.beta),F.py,F.pz),C=z.add(F),O=X.add(_)}else{const{p:U,f:H}=this.wNAF(v);C=U,O=H}return w.normalizeZ([C,O])[0]}multiplyAndAddUnsafe(v,I,R){const C=w.BASE,O=(H,M)=>M===dt||M===de||!H.equals(C)?H.multiplyUnsafe(M):H.multiply(M),U=O(this,I).add(O(v,R));return U.is0()?void 0:U}toAffine(v){return m(this,v)}isTorsionFree(){const{h:v,isTorsionFree:I}=t;if(v===de)return!0;if(I)return I(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:I}=t;return v===de?this:I?I(w,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return Jn("isCompressed",v),this.assertValidity(),i(w,this,v)}toHex(v=!0){return Jn("isCompressed",v),Xn(this.toRawBytes(v))}}w.BASE=new w(t.Gx,t.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const{endo:B,nBitLength:A}=t,T=Lm(w,B?Math.ceil(A/2):A);return{CURVE:t,ProjectivePoint:w,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:l}}function qm(e){const t=R0(e);return Wr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Wm(e){const t=qm(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(F){return ve(F,r)}function d(F){return cs(F,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:b,isWithinCurveOrder:m}=Vm({...t,toBytes(F,_,G){const k=_.toAffine(),j=n.toBytes(k.x),V=Pr;return Jn("isCompressed",G),G?V(Uint8Array.from([_.hasEvenY()?2:3]),j):V(Uint8Array.from([4]),j,n.toBytes(k.y))},fromBytes(F){const _=F.length,G=F[0],k=F.subarray(1);if(_===o&&(G===2||G===3)){const j=Rt(k);if(!so(j,de,n.ORDER))throw new Error("Point is not on curve");const V=b(j);let q;try{q=n.sqrt(V)}catch(ae){const re=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+re)}const J=(q&de)===de;return(G&1)===1!==J&&(q=n.neg(q)),{x:j,y:q}}else if(_===a&&G===4){const j=n.fromBytes(k.subarray(0,n.BYTES)),V=n.fromBytes(k.subarray(n.BYTES,2*n.BYTES));return{x:j,y:V}}else{const j=o,V=a;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+V+", got "+_)}}});function g(F){const _=r>>de;return F>_}function w(F){return g(F)?c(-F):F}const B=(F,_,G)=>Rt(F.slice(_,G));class A{constructor(_,G,k){en("r",_,de,r),en("s",G,de,r),this.r=_,this.s=G,k!=null&&(this.recovery=k),Object.freeze(this)}static fromCompact(_){const G=i;return _=Oe("compactSignature",_,G*2),new A(B(_,0,G),B(_,G,2*G))}static fromDER(_){const{r:G,s:k}=ft.toSig(Oe("DER",_));return new A(G,k)}assertValidity(){}addRecoveryBit(_){return new A(this.r,this.s,_)}recoverPublicKey(_){const{r:G,s:k,recovery:j}=this,V=C(Oe("msgHash",_));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const q=j===2||j===3?G+t.n:G;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=j&1?"03":"02",ue=l.fromHex(J+$i(q,n.BYTES)),ae=d(q),re=c(-V*ae),fe=c(k*ae),_e=l.BASE.multiplyAndAddUnsafe(ue,re,fe);if(!_e)throw new Error("point at infinify");return _e.assertValidity(),_e}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ar(this.toDERHex())}toDERHex(){return ft.hexFromSig(this)}toCompactRawBytes(){return Ar(this.toCompactHex())}toCompactHex(){const _=i;return $i(this.r,_)+$i(this.s,_)}}const T={isValidPrivateKey(F){try{return h(F),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const F=S0(t.n);return Mm(t.randomBytes(F),t.n)},precompute(F=8,_=l.BASE){return _._setWindowSize(F),_.multiply(BigInt(3)),_}};function P(F,_=!0){return l.fromPrivateKey(F).toRawBytes(_)}function v(F){if(typeof F=="bigint")return!1;if(F instanceof l)return!0;const G=Oe("key",F).length,k=n.BYTES,j=k+1,V=2*k+1;if(!(t.allowedPrivateKeyLengths||i===j))return G===j||G===V}function I(F,_,G=!0){if(v(F)===!0)throw new Error("first arg must be private key");if(v(_)===!1)throw new Error("second arg must be public key");return l.fromHex(_).multiply(h(F)).toRawBytes(G)}const R=t.bits2int||function(F){if(F.length>8192)throw new Error("input is too large");const _=Rt(F),G=F.length*8-s;return G>0?_>>BigInt(G):_},C=t.bits2int_modN||function(F){return c(R(F))},O=qr(s);function U(F){return en("num < 2^"+s,F,dt,O),sr(F,i)}function H(F,_,G=M){if(["recovered","canonical"].some(Ne=>Ne in G))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:j}=t;let{lowS:V,prehash:q,extraEntropy:J}=G;V==null&&(V=!0),F=Oe("msgHash",F),Ra(G),q&&(F=Oe("prehashed msgHash",k(F)));const ue=C(F),ae=h(_),re=[U(ae),U(ue)];if(J!=null&&J!==!1){const Ne=J===!0?j(n.BYTES):J;re.push(Oe("extraEntropy",Ne))}const fe=Pr(...re),_e=ue;function Ke(Ne){const st=R(Ne);if(!m(st))return;const mn=d(st),yt=l.BASE.multiply(st).toAffine(),xe=c(yt.x);if(xe===dt)return;const Me=c(mn*c(_e+xe*ae));if(Me===dt)return;let $t=(yt.x===xe?0:2)|Number(yt.y&de),gt=Me;return V&&g(Me)&&(gt=w(Me),$t^=1),new A(xe,gt,$t)}return{seed:fe,k2sig:Ke}}const M={lowS:t.lowS,prehash:!1},L={lowS:t.lowS,prehash:!1};function z(F,_,G=M){const{seed:k,k2sig:j}=H(F,_,G),V=t;return Kp(V.hash.outputLen,V.nByteLength,V.hmac)(k,j)}l.BASE._setWindowSize(8);function X(F,_,G,k=L){var $t;const j=F;_=Oe("msgHash",_),G=Oe("publicKey",G);const{lowS:V,prehash:q,format:J}=k;if(Ra(k),"strict"in k)throw new Error("options.strict was renamed to lowS");if(J!==void 0&&J!=="compact"&&J!=="der")throw new Error("format must be compact or der");const ue=typeof j=="string"||ir(j),ae=!ue&&!J&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!ue&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,fe;try{if(ae&&(re=new A(j.r,j.s)),ue){try{J!=="compact"&&(re=A.fromDER(j))}catch(gt){if(!(gt instanceof ft.Err))throw gt}!re&&J!=="der"&&(re=A.fromCompact(j))}fe=l.fromHex(G)}catch{return!1}if(!re||V&&re.hasHighS())return!1;q&&(_=t.hash(_));const{r:_e,s:Ke}=re,Ne=C(_),st=d(Ke),mn=c(Ne*st),yt=c(_e*st),xe=($t=l.BASE.multiplyAndAddUnsafe(fe,mn,yt))==null?void 0:$t.toAffine();return xe?c(xe.x)===_e:!1}return{CURVE:t,getPublicKey:P,getSharedSecret:I,sign:z,verify:X,ProjectivePoint:l,Signature:A,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Km(e){return{hash:e,hmac:(t,...n)=>dc(e,t,lf(...n)),randomBytes:hf}}function Zm(e,t){const n=r=>Wm({...e,...Km(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ka=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ym=BigInt(0),Jm=BigInt(1),fs=BigInt(2),Fa=(e,t)=>(e+t/fs)/t;function Xm(e){const t=k0,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),d=e*e*e%t,l=d*d*e%t,h=Ce(l,n,t)*l%t,b=Ce(h,n,t)*l%t,m=Ce(b,fs,t)*d%t,g=Ce(m,i,t)*m%t,w=Ce(g,s,t)*g%t,B=Ce(w,a,t)*w%t,A=Ce(B,c,t)*B%t,T=Ce(A,a,t)*w%t,P=Ce(T,n,t)*l%t,v=Ce(P,o,t)*g%t,I=Ce(v,r,t)*d%t,R=Ce(I,fs,t);if(!ds.eql(ds.sqr(R),e))throw new Error("Cannot find square root");return R}const ds=vo(k0,void 0,void 0,{sqrt:Xm}),F0=Zm({a:Ym,b:BigInt(7),Fp:ds,n:ka,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ka,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Jm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Fa(s*e,t),c=Fa(-r*e,t);let d=ve(e-a*n-c*i,t),l=ve(-a*r-c*s,t);const h=d>o,b=l>o;if(h&&(d=t-d),b&&(l=t-l),d>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:d,k2neg:b,k2:l}}}},Za),Qm=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:F0},Symbol.toStringTag,{value:"Module"}));function O0(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Ti({signature:e});if(typeof e.s>"u")throw new Ti({signature:e});if(n&&typeof e.yParity>"u")throw new Ti({signature:e});if(e.r<0n||e.r>Ia)throw new oy({value:e.r});if(e.s<0n||e.s>Ia)throw new ay({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Ao({value:e.yParity})}function ey(e){return _0(De(e))}function _0(e){if(e.length!==130&&e.length!==132)throw new sy({signature:e});const t=BigInt(et(e,0,32)),n=BigInt(et(e,32,64)),r=(()=>{const i=+`0x${e.slice(130)}`;if(!Number.isNaN(i))try{return Eo(i)}catch{throw new Ao({value:i})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function ty(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return ny(e)}function ny(e){const t=typeof e=="string"?_0(e):e instanceof Uint8Array?ey(e):typeof e.r=="string"?iy(e):e.v?ry(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return O0(t),t}function ry(e){return{r:e.r,s:e.s,yParity:Eo(e.v)}}function iy(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Eo(n)),typeof r!="number")throw new Ao({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Eo(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new cy({value:e})}class sy extends Z{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Se(w1(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Ti extends Z{constructor({signature:t}){super(`Signature \`${zu(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class oy extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class ay extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Ao extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class cy extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function uy(e,t={}){return typeof e.chainId=="string"?fy(e):{...e,...t.signature}}function fy(e){const{address:t,chainId:n,nonce:r}=e,i=ty(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...i}}const dy="0x8010801080108010801080108010801080108010801080108010801080108010",ly=g0("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function N0(e){if(typeof e=="string"){if(et(e,-32)!==dy)throw new by(e)}else O0(e.authorization)}function hy(e){N0(e);const t=Hu(et(e,-64,-32)),n=et(e,-t-64,-64),r=et(e,0,-t-64),[i,s,o]=Im(ly,n);return{authorization:uy({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function py(e){try{return N0(e),!0}catch{return!1}}let by=class extends Z{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function my(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function yy(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?nt(e.nonce):void 0,storageProof:e.storageProof?my(e.storageProof):void 0}}async function gy(e,{address:t,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??"latest",o=n!==void 0?N(n):void 0,a=await e.request({method:"eth_getProof",params:[t,i,o||s]});return yy(a)}async function wy(e,{address:t,blockNumber:n,blockTag:r="latest",slot:i}){const s=n!==void 0?N(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,i,s||r]})}async function Po(e,{blockHash:t,blockNumber:n,blockTag:r,hash:i,index:s,sender:o,nonce:a}){var b,m,g;const c=r||"latest",d=n!==void 0?N(n):void 0;let l=null;if(i?l=await e.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,N(s)]},{dedupe:!0}):typeof s=="number"?l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||c,N(s)]},{dedupe:!!d}):o&&typeof a=="number"&&(l=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,N(a)]},{dedupe:!0})),!l)throw new cu({blockHash:t,blockNumber:n,blockTag:c,hash:i,index:s});return(((g=(m=(b=e.chain)==null?void 0:b.formatters)==null?void 0:m.transaction)==null?void 0:g.format)||Gr)(l,"getTransaction")}async function xy(e,{hash:t,transactionReceipt:n}){const[r,i]=await Promise.all([W(e,cr,"getBlockNumber")({}),t?W(e,Po,"getTransaction")({hash:t}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function xr(e,{hash:t}){var i,s,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new uu({hash:t});return(((o=(s=(i=e.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||uo)(n,"getTransactionReceipt")}async function vy(e,t){var T;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=t,d=t.contracts,{batchSize:l=t.batchSize??1024,deployless:h=t.deployless??!1}=typeof((T=e.batch)==null?void 0:T.multicall)=="object"?e.batch.multicall:{},b=(()=>{if(t.multicallAddress)return t.multicallAddress;if(h)return null;if(e.chain)return bn({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),m=[[]];let g=0,w=0;for(let P=0;P<d.length;P++){const{abi:v,address:I,args:R,functionName:C}=d[P];try{const O=We({abi:v,args:R,functionName:C});w+=(O.length-2)/2,l>0&&w>l&&m[g].length>0&&(g++,w=(O.length-2)/2,m[g]=[]),m[g]=[...m[g],{allowFailure:!0,callData:O,target:I}]}catch(O){const U=un(O,{abi:v,address:I,args:R,docsPath:"/docs/contract/multicall",functionName:C,sender:n});if(!i)throw U;m[g]=[...m[g],{allowFailure:!0,callData:"0x",target:I}]}}const B=await Promise.allSettled(m.map(P=>W(e,He,"readContract")({...b===null?{code:ao}:{address:b},abi:Ir,account:n,args:[P],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),A=[];for(let P=0;P<B.length;P++){const v=B[P];if(v.status==="rejected"){if(!i)throw v.reason;for(let R=0;R<m[P].length;R++)A.push({status:"failure",error:v.reason,result:void 0});continue}const I=v.value;for(let R=0;R<I.length;R++){const{returnData:C,success:O}=I[R],{callData:U}=m[P][R],{abi:H,address:M,functionName:L,args:z}=d[A.length];try{if(U==="0x")throw new er;if(!O)throw new Lr({data:C});const X=jt({abi:H,args:z,data:C,functionName:L});A.push(i?{result:X,status:"success"}:X)}catch(X){const F=un(X,{abi:H,address:M,args:z,docsPath:"/docs/contract/multicall",functionName:L});if(!i)throw F;A.push({error:F,result:void 0,status:"failure"})}}}if(A.length!==d.length)throw new S("multicall results mismatch");return A}async function ls(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=t;try{const c=[];for(const b of i){const m=b.blockOverrides?qu(b.blockOverrides):void 0,g=b.calls.map(B=>{const A=B,T=A.account?qe(A.account):void 0,P=A.abi?We(A):A.data,v={...A,account:T,data:A.dataSuffix?it([P||"0x",A.dataSuffix]):P,from:A.from??(T==null?void 0:T.address)};return rr(v),Dr(v)}),w=b.stateOverrides?qs(b.stateOverrides):void 0;c.push({blockOverrides:m,calls:g,stateOverrides:w})}const l=(typeof n=="bigint"?N(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},l]})).map((b,m)=>({...Ks(b),calls:b.calls.map((g,w)=>{var H,M;const{abi:B,args:A,functionName:T,to:P}=i[m].calls[w],v=((H=g.error)==null?void 0:H.data)??g.returnData,I=BigInt(g.gasUsed),R=(M=g.logs)==null?void 0:M.map(L=>bt(L)),C=g.status==="0x1"?"success":"failure",O=B&&C==="success"&&v!=="0x"?jt({abi:B,data:v,functionName:T}):null,U=(()=>{var z;if(C==="success")return;let L;if(((z=g.error)==null?void 0:z.data)==="0x"?L=new er:g.error&&(L=new Lr(g.error)),!!L)return un(L,{abi:B??[],address:P??"0x",args:A,functionName:T??"<unknown>"})})();return{data:v,gasUsed:I,logs:R,status:C,...C==="success"?{result:O}:{error:U}}})}))}catch(c){const d=c,l=Hs(d,{});throw l instanceof jr?d:l}}function hs(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new Z("Unable to normalize signature.");return i}function ps(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ss(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>ps(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>ps(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function M0(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return M0(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ss(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ss(n[r],{strict:!1}):!1)return o}}function z0(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Go(e):e;return{...r,...n?{hash:Yt(r)}:{}}}function ni(e,t,n){const{args:r=[],prepare:i=!0}=n??{},s=x1(t,{strict:!1}),o=e.filter(d=>s?d.type==="function"||d.type==="error"?U0(d)===et(t,0,4):d.type==="event"?Yt(d)===t:!1:"name"in d&&d.name===t);if(o.length===0)throw new Br({name:t});if(o.length===1)return{...o[0],...i?{hash:Yt(o[0])}:{}};let a;for(const d of o){if(!("inputs"in d))continue;if(!r||r.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...i?{hash:Yt(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==r.length)continue;if(r.every((h,b)=>{const m="inputs"in d&&d.inputs[b];return m?ps(h,m):!1})){if(a&&"inputs"in a&&a.inputs){const h=M0(d.inputs,a.inputs,r);if(h)throw new Ay({abiItem:d,type:h[0]},{abiItem:a,type:h[1]})}a=d}}const c=(()=>{if(a)return a;const[d,...l]=o;return{...d,overloads:l}})();if(!c)throw new Br({name:t});return{...c,...i?{hash:Yt(c)}:{}}}function U0(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return ni(n,r)}return e[0]})();return et(Yt(t),0,4)}function Ey(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,i]=e;return ni(r,i)}return e[0]})(),n=typeof t=="string"?t:Er(t);return hs(n)}function Yt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return ni(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:b0(oo(Ey(t)))}class Ay extends Z{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${hs(Er(t.abiItem))}\`, and`,`\`${n.type}\` in \`${hs(Er(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Br extends Z{constructor({name:t,data:n,type:r="item"}){const i=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Py(...e){var s;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[By(o),a]}return e})(),{bytecode:r,args:i}=n;return je(r,(s=t.inputs)!=null&&s.length&&(i!=null&&i.length)?wo(t.inputs,i):"0x")}function Iy(e){return z0(e)}function By(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Br({name:"constructor"});return t}function $y(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[d,l,h]=e;return[Oa(d,l,{args:h}),h]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,i=r?Oa([t,...r],t.name,{args:n}):t,s=Sy(i),o=n.length>0?wo(i.inputs,n):void 0;return o?je(s,o):s}function Vt(e,t={}){return z0(e,t)}function Oa(e,t,n){const r=ni(e,t,n);if(r.type!=="function")throw new Br({name:t,type:"function"});return r}function Sy(e){return U0(e)}const Ty="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Je="0x0000000000000000000000000000000000000000",Cy="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Ry(e,t){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=t,d=t.account?qe(t.account):void 0;if(o&&!d)throw new S("`account` is required when `traceAssetChanges` is true");const l=d?Py(Iy("constructor(bytes, bytes)"),{bytecode:Yu,args:[Cy,$y(Vt("function getBalance(address)"),[d.address])]}):void 0,h=o?await Promise.all(t.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:j}=await a0(e,{account:d.address,...k,data:k.abi?We(k):k.data});return j.map(({address:V,storageKeys:q})=>q.length>0?V:null)})).then(k=>k.flat().filter(Boolean)):[],b=await ls(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:l}],stateOverrides:s},{calls:h.map((k,j)=>({abi:[Vt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:k,from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]}]:[],{calls:[...i,{}].map(k=>({...k,from:d==null?void 0:d.address})),stateOverrides:s},...o?[{calls:[{data:l}]},{calls:h.map((k,j)=>({abi:[Vt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:k,from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]},{calls:h.map((k,j)=>({to:k,abi:[Vt("function decimals() returns (uint256)")],functionName:"decimals",from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]},{calls:h.map((k,j)=>({to:k,abi:[Vt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]},{calls:h.map((k,j)=>({to:k,abi:[Vt("function symbol() returns (string)")],functionName:"symbol",from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]}]:[]],traceTransfers:a,validation:c}),m=o?b[2]:b[0],[g,w,,B,A,T,P,v]=o?b:[],{calls:I,...R}=m,C=I.slice(0,-1)??[],O=(g==null?void 0:g.calls)??[],U=(w==null?void 0:w.calls)??[],H=[...O,...U].map(k=>k.status==="success"?me(k.data):null),M=(B==null?void 0:B.calls)??[],L=(A==null?void 0:A.calls)??[],z=[...M,...L].map(k=>k.status==="success"?me(k.data):null),X=((T==null?void 0:T.calls)??[]).map(k=>k.status==="success"?k.result:null),F=((v==null?void 0:v.calls)??[]).map(k=>k.status==="success"?k.result:null),_=((P==null?void 0:P.calls)??[]).map(k=>k.status==="success"?k.result:null),G=[];for(const[k,j]of z.entries()){const V=H[k];if(typeof j!="bigint"||typeof V!="bigint")continue;const q=X[k-1],J=F[k-1],ue=_[k-1],ae=k===0?{address:Ty,decimals:18,symbol:"ETH"}:{address:h[k-1],decimals:ue||q?Number(q??1):void 0,symbol:J??void 0};G.some(re=>re.token.address===ae.address)||G.push({token:ae,value:{pre:V,post:j,diff:j-V}})}return{assetChanges:G,block:R,results:C}}const L0="0x6492649264926492649264926492649264926492649264926492649264926492";function ky(e){if(et(e,-32)!==L0)throw new _y(e)}function Fy(e){const{data:t,signature:n,to:r}=e;return je(wo(g0("address, bytes, bytes"),[r,t,n]),L0)}function Oy(e){try{return ky(e),!0}catch{return!1}}class _y extends Z{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Ny({r:e,s:t,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new F0.Signature(me(e),me(t)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:rt(o)}async function ri(e,t){var a,c,d,l,h,b;const{address:n,hash:r,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??((d=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:d.address),multicallAddress:s=t.multicallAddress??((b=(h=(l=e.chain)==null?void 0:l.contracts)==null?void 0:h.multicall3)==null?void 0:b.address)}=t,o=(()=>{const m=t.signature;return tt(m)?m:typeof m=="object"&&"r"in m&&"s"in m?Ny(m):oe(m)})();try{return py(o)?await My(e,{...t,multicallAddress:s,signature:o}):await zy(e,{...t,verifierAddress:i,signature:o})}catch(m){try{if(Vr(Yc(n),await hu({hash:r,signature:o})))return!0}catch{}if(m instanceof Ut)return!1;throw m}}async function My(e,t){var B;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=t,{authorization:a,data:c,signature:d,to:l}=hy(t.signature);if(await is(e,{address:n,blockNumber:r,blockTag:i})===Ve(["0xef0100",a.address]))return await Uy(e,{address:n,blockNumber:r,blockTag:i,hash:s,signature:d});const b={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:N(a.r,{size:32}),s:N(a.s,{size:32}),yParity:a.yParity};if(!await Fb({address:n,authorization:b}))throw new Ut;const g=await W(e,He,"readContract")({...o?{address:o}:{code:ao},authorizationList:[b],abi:Ir,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:l??n,callData:c}]:[],{allowFailure:!0,target:n,callData:We({abi:Zu,functionName:"isValidSignature",args:[s,d]})}]]}),w=(B=g[g.length-1])==null?void 0:B.returnData;if(w!=null&&w.startsWith("0x1626ba7e"))return!0;throw new Ut}async function zy(e,t){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=t,d=await(async()=>!r&&!i||Oy(o)?o:Fy({data:i,signature:o,to:r}))(),l=a?{to:a,data:We({abi:wa,functionName:"isValidSig",args:[n,s,d]}),...c}:{data:co({abi:wa,args:[n,s,d],bytecode:$1}),...c},{data:h}=await W(e,Yr,"call")(l).catch(b=>{throw b instanceof fu?new Ut:b});if(mh(h??"0x0"))return!0;throw new Ut}async function Uy(e,t){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=t;if((await W(e,He,"readContract")({address:n,abi:Zu,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof du?new Ut:c})).startsWith("0x1626ba7e"))return!0;throw new Ut}class Ut extends Error{}async function Ly(e,{address:t,message:n,factory:r,factoryData:i,signature:s,...o}){const a=f0(n);return ri(e,{address:t,factory:r,factoryData:i,hash:a,signature:s,...o})}async function jy(e,t){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:d,...l}=t,h=Zb({message:o,primaryType:a,types:c,domain:d});return ri(e,{address:n,factory:r,factoryData:i,hash:h,signature:s,...l})}function j0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=e.pollingInterval}){const a=typeof s<"u"?s:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const h=pe(["watchBlockNumber",e.uid,t,n,o]);return It(h,{onBlockNumber:r,onError:i},b=>ar(async()=>{var m;try{const g=await W(e,cr,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(g===c)return;if(g-c>1&&n)for(let w=c+1n;w<g;w++)b.onBlockNumber(w,c),c=w}(c===void 0||g>c)&&(b.onBlockNumber(g,c),c=g)}catch(g){(m=b.onError)==null||m.call(b,g)}},{emitOnBegin:t,interval:o}))})():(()=>{const h=pe(["watchBlockNumber",e.uid,t,n]);return It(h,{onBlockNumber:r,onError:i},b=>{let m=!0,g=()=>m=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),{unsubscribe:B}=await w.subscribe({params:["newHeads"],onData(A){var P;if(!m)return;const T=me((P=A.result)==null?void 0:P.number);b.onBlockNumber(T,c),c=T},onError(A){var T;(T=b.onError)==null||T.call(b,A)}});g=B,m||g()}catch(w){i==null||i(w)}})(),()=>g()})})()}async function Dy(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:I})=>~~(1<<I)*200,timeout:c=18e4}=t,d=pe(["waitForTransactionReceipt",e.uid,i]),l=(()=>{var I;return t.pollingInterval?t.pollingInterval:(I=e.chain)!=null&&I.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let h,b,m,g=!1,w,B;const{promise:A,resolve:T,reject:P}=Qu(),v=c?setTimeout(()=>{B==null||B(),w==null||w(),P(new fp({hash:i}))},c):void 0;return w=It(d,{onReplaced:s,resolve:T,reject:P},async I=>{if(m=await W(e,xr,"getTransactionReceipt")({hash:i}).catch(()=>{}),m&&r<=1){clearTimeout(v),I.resolve(m),w==null||w();return}B=W(e,j0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(R){const C=U=>{clearTimeout(v),B==null||B(),U(),w==null||w()};let O=R;if(!g)try{if(m){if(r>1&&(!m.blockNumber||O-m.blockNumber+1n<r))return;C(()=>I.resolve(m));return}if(n&&!h&&(g=!0,await ts(async()=>{h=await W(e,Po,"getTransaction")({hash:i}),h.blockNumber&&(O=h.blockNumber)},{delay:a,retryCount:o}),g=!1),m=await W(e,xr,"getTransactionReceipt")({hash:i}),r>1&&(!m.blockNumber||O-m.blockNumber+1n<r))return;C(()=>I.resolve(m))}catch(U){if(U instanceof cu||U instanceof uu){if(!h){g=!1;return}try{b=h,g=!0;const H=await ts(()=>W(e,Qe,"getBlock")({blockNumber:O,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:z})=>z instanceof yu});g=!1;const M=H.transactions.find(({from:z,nonce:X})=>z===b.from&&X===b.nonce);if(!M||(m=await W(e,xr,"getTransactionReceipt")({hash:M.hash}),r>1&&(!m.blockNumber||O-m.blockNumber+1n<r)))return;let L="replaced";M.to===b.to&&M.value===b.value&&M.input===b.input?L="repriced":M.from===M.to&&M.value===0n&&(L="cancelled"),C(()=>{var z;(z=I.onReplaced)==null||z.call(I,{reason:L,replacedTransaction:b,transaction:M,transactionReceipt:m}),I.resolve(m)})}catch(H){C(()=>I.reject(H))}}else C(()=>I.reject(U))}}})}),A}function Hy(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const d=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),l=o??!1;let h;return d?(()=>{const g=pe(["watchBlocks",e.uid,t,n,r,l,c]);return It(g,{onBlock:i,onError:s},w=>ar(async()=>{var B;try{const A=await W(e,Qe,"getBlock")({blockTag:t,includeTransactions:l});if(A.number!==null&&(h==null?void 0:h.number)!=null){if(A.number===h.number)return;if(A.number-h.number>1&&n)for(let T=(h==null?void 0:h.number)+1n;T<A.number;T++){const P=await W(e,Qe,"getBlock")({blockNumber:T,includeTransactions:l});w.onBlock(P,h),h=P}}((h==null?void 0:h.number)==null||t==="pending"&&(A==null?void 0:A.number)==null||A.number!==null&&A.number>h.number)&&(w.onBlock(A,h),h=A)}catch(A){(B=w.onError)==null||B.call(w,A)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,w=!0,B=()=>g=!1;return(async()=>{try{r&&W(e,Qe,"getBlock")({blockTag:t,includeTransactions:l}).then(P=>{g&&w&&(i(P,void 0),w=!1)}).catch(s);const A=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),{unsubscribe:T}=await A.subscribe({params:["newHeads"],async onData(P){var I;if(!g)return;const v=await W(e,Qe,"getBlock")({blockNumber:(I=P.result)==null?void 0:I.number,includeTransactions:l}).catch(()=>{});g&&(i(v,h),w=!1,h=v)},onError(P){s==null||s(P)}});B=T,g||B()}catch(A){s==null||s(A)}})(),()=>B()})()}function Gy(e,{address:t,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:d,pollingInterval:l=e.pollingInterval,strict:h}){const b=typeof d<"u"?d:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),m=h??!1;return b?(()=>{const B=pe(["watchEvent",t,n,r,e.uid,i,l,o]);return It(B,{onLogs:c,onError:a},A=>{let T;o!==void 0&&(T=o-1n);let P,v=!1;const I=ar(async()=>{var R;if(!v){try{P=await W(e,c0,"createEventFilter")({address:t,args:n,event:i,events:s,strict:m,fromBlock:o})}catch{}v=!0;return}try{let C;if(P)C=await W(e,Jr,"getFilterChanges")({filter:P});else{const O=await W(e,cr,"getBlockNumber")({});T&&T!==O?C=await W(e,no,"getLogs")({address:t,args:n,event:i,events:s,fromBlock:T+1n,toBlock:O}):C=[],T=O}if(C.length===0)return;if(r)A.onLogs(C);else for(const O of C)A.onLogs([O])}catch(C){P&&C instanceof _t&&(v=!1),(R=A.onError)==null||R.call(A,C)}},{emitOnBegin:!0,interval:l});return async()=>{P&&await W(e,Xr,"uninstallFilter")({filter:P}),I()}})})():(()=>{let B=!0,A=()=>B=!1;return(async()=>{try{const T=(()=>{if(e.transport.type==="fallback"){const R=e.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return R?R.value:e.transport}return e.transport})(),P=s??(i?[i]:void 0);let v=[];P&&(v=[P.flatMap(C=>nr({abi:[C],eventName:C.name,args:n}))],i&&(v=v[0]));const{unsubscribe:I}=await T.subscribe({params:["logs",{address:t,topics:v}],onData(R){var O;if(!B)return;const C=R.result;try{const{eventName:U,args:H}=eo({abi:P??[],data:C.data,topics:C.topics,strict:m}),M=bt(C,{args:H,eventName:U});c([M])}catch(U){let H,M;if(U instanceof $n||U instanceof _r){if(h)return;H=U.abiItem.name,M=(O=U.abiItem.inputs)==null?void 0:O.some(z=>!("name"in z&&z.name))}const L=bt(C,{args:M?[]:{},eventName:H});c([L])}},onError(R){a==null||a(R)}});A=I,B||A()}catch(T){a==null||a(T)}})(),()=>A()})()}function Vy(e,{batch:t=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=e.pollingInterval}){return(typeof i<"u"?i:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const d=pe(["watchPendingTransactions",e.uid,t,s]);return It(d,{onTransactions:r,onError:n},l=>{let h;const b=ar(async()=>{var m;try{if(!h)try{h=await W(e,u0,"createPendingTransactionFilter")({});return}catch(w){throw b(),w}const g=await W(e,Jr,"getFilterChanges")({filter:h});if(g.length===0)return;if(t)l.onTransactions(g);else for(const w of g)l.onTransactions([w])}catch(g){(m=l.onError)==null||m.call(l,g)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await W(e,Xr,"uninstallFilter")({filter:h}),b()}})})():(()=>{let d=!0,l=()=>d=!1;return(async()=>{try{const{unsubscribe:h}=await e.transport.subscribe({params:["newPendingTransactions"],onData(b){if(!d)return;const m=b.result;r([m])},onError(b){n==null||n(b)}});l=h,d||l()}catch(h){n==null||n(h)}})(),()=>l()})()}function qy(e){var h,b,m;const{scheme:t,statement:n,...r}=((h=e.match(Wy))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...d}=((b=e.match(Ky))==null?void 0:b.groups)??{},l=(m=e.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...d,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Wy=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Ky=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Zy(e){const{address:t,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=e;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!ce(r.address,{strict:!1})||t&&!Vr(r.address,t))return!1}catch{return!1}return!0}async function Yy(e,t){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...d}=t,l=qy(i);if(!l.address||!Zy({address:n,domain:r,message:l,nonce:s,scheme:o,time:c}))return!1;const b=f0(i);return ri(e,{address:l.address,hash:b,signature:a,...d})}async function Jy(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,d;const i=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,N(r)]:[t]},{retryCount:0}),o=(((d=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:d.format)||uo)(i);if(o.status==="reverted"&&n)throw new up({receipt:o});return o}function Xy(e){return{call:t=>Yr(e,t),createAccessList:t=>a0(e,t),createBlockFilter:()=>lb(e),createContractEventFilter:t=>nu(e,t),createEventFilter:t=>c0(e,t),createPendingTransactionFilter:()=>u0(e),estimateContractGas:t=>Hp(e,t),estimateGas:t=>Qs(e,t),getBalance:t=>hb(e,t),getBlobBaseFee:()=>pb(e),getBlock:t=>Qe(e,t),getBlockNumber:t=>cr(e,t),getBlockTransactionCount:t=>bb(e,t),getBytecode:t=>is(e,t),getChainId:()=>Su(e),getCode:t=>is(e,t),getContractEvents:t=>Cu(e,t),getEip712Domain:t=>yb(e,t),getEnsAddress:t=>Y1(e,t),getEnsAvatar:t=>ub(e,t),getEnsName:t=>fb(e,t),getEnsResolver:t=>db(e,t),getEnsText:t=>o0(e,t),getFeeHistory:t=>xb(e,t),estimateFeesPerGas:t=>_p(e,t),getFilterChanges:t=>Jr(e,t),getFilterLogs:t=>vb(e,t),getGasPrice:()=>Zs(e),getLogs:t=>no(e,t),getProof:t=>gy(e,t),estimateMaxPriorityFeePerGas:t=>Op(e,t),getStorageAt:t=>wy(e,t),getTransaction:t=>Po(e,t),getTransactionConfirmations:t=>xy(e,t),getTransactionCount:t=>xu(e,t),getTransactionReceipt:t=>xr(e,t),multicall:t=>vy(e,t),prepareTransactionRequest:t=>Tu(e,t),readContract:t=>He(e,t),sendRawTransaction:t=>L1(e,t),sendRawTransactionSync:t=>Jy(e,t),simulate:t=>ls(e,t),simulateBlocks:t=>ls(e,t),simulateCalls:t=>Ry(e,t),simulateContract:t=>k1(e,t),verifyHash:t=>ri(e,t),verifyMessage:t=>Ly(e,t),verifySiweMessage:t=>Yy(e,t),verifyTypedData:t=>jy(e,t),uninstallFilter:t=>Xr(e,t),waitForTransactionReceipt:t=>Dy(e,t),watchBlocks:t=>Hy(e,t),watchBlockNumber:t=>j0(e,t),watchContractEvent:t=>U1(e,t),watchEvent:t=>Gy(e,t),watchPendingTransactions:t=>Vy(e,t)}}function Qy(e){const{key:t="public",name:n="Public Client"}=e;return H1({...e,key:t,name:n,type:"publicClient"}).extend(Xy)}function eg({key:e,methods:t,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const d=n0();return{config:{key:e,methods:t,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:_b(r,{methods:t,retryCount:i,retryDelay:s,uid:d}),value:c}}function tg(e,t={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:d,retryDelay:l,raw:h}=t;return({chain:b,retryCount:m,timeout:g})=>{const{batchSize:w=1e3,wait:B=0}=typeof n=="object"?n:{},A=t.retryCount??m,T=g??t.timeout??1e4,P=e,v=Lb(P,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:d,timeout:T});return eg({key:s,methods:o,name:a,async request({method:I,params:R}){const C={method:I,params:R},{schedule:O}=e0({id:P,wait:B,shouldSplitBatch(L){return L.length>w},fn:L=>v.request({body:L}),sort:(L,z)=>L.id-z.id}),U=async L=>n?O(L):[await v.request({body:L})],[{error:H,result:M}]=await U(C);if(h)return{error:H,result:M};if(H)throw new Ds({body:C,error:H,url:P});return M},retryCount:A,retryDelay:l,timeout:T,type:"http"},{fetchOptions:i,url:P})}}const ng={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},rg={block:Fp({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const i=Gr(r);return i.typeHex==="0x7e"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?me(r.mint):void 0,i.sourceHash=r.sourceHash,i.type="deposit"),i}),stateRoot:e.stateRoot}}}),transaction:Rp({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?me(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:D1({format(e){return{l1GasPrice:e.l1GasPrice?me(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?me(e.l1GasUsed):null,l1Fee:e.l1Fee?me(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function ig(e,t){return ag(e)?og(e):Bb(e,t)}const sg={transaction:ig};function og(e){cg(e);const{sourceHash:t,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:c}=e,d=[t,r,a??"0x",o?$e(o):"0x",c?$e(c):"0x",i?$e(i):"0x",s?"0x1":"0x",n??"0x"];return Ve(["0x7e",Pt(d)])}function ag(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function cg(e){const{from:t,to:n}=e;if(t&&!ce(t))throw new ge({address:t});if(n&&!ce(n))throw new ge({address:n})}const _a={blockTime:2e3,contracts:ng,formatters:rg,serializers:sg},xn=1,ug=Mb({..._a,id:480,name:"World Chain",network:"worldchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan",url:"https://worldscan.org",apiUrl:"https://api.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-mainnet.explorer.alchemy.com",apiUrl:"https://worldchain-mainnet.explorer.alchemy.com/api"}},contracts:{..._a.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[xn]:{address:"0x069c4c579671f8c120b1327a73217D01Ea2EC5ea"}},l2OutputOracle:{[xn]:{address:"0x19A6d1E9034596196295CF148509796978343c5D"}},portal:{[xn]:{address:"0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C"}},l1StandardBridge:{[xn]:{address:"0x470458C91978D2d929704489Ad730DC3E3001113"}}},testnet:!1,sourceId:xn});ke.VerificationRejected+"",ke.MaxVerificationsReached+"",ke.CredentialUnavailable+"",ke.MalformedRequest+"",ke.InvalidNetwork+"",ke.InclusionProofFailed+"",ke.InclusionProofPending+"",ke.UnexpectedResponse+"",ke.FailedByHostApp+"",ke.GenericError+"",ke.ConnectionFailed+"";var vn={unknown:"Failed to install MiniKit.",already_installed:"MiniKit is already installed.",outside_of_worldapp:"MiniApp launched outside of WorldApp.",app_out_of_date:"WorldApp is out of date. Please update the app."},fg=e=>{if(e.tokens.some(t=>t.symbol=="USDCE"&&parseFloat(t.token_amount)<.1))return console.error("USDC amount should be greater than $0.1"),!1;if(e.reference.length>36)return console.error("Reference must not exceed 36 characters"),!1;if(typeof e.reference!="string")throw new Error("Reference must be a string");return!0},dg=e=>{let t="";return e.scheme?t+=`${e.scheme}://${e.domain} wants you to sign in with your Ethereum account:
`:t+=`${e.domain} wants you to sign in with your Ethereum account:
`,e.address?t+=`${e.address}
`:t+=`{address}
`,t+=`
`,e.statement&&(t+=`${e.statement}
`),t+=`
`,t+=`URI: ${e.uri}
`,t+=`Version: ${e.version}
`,t+=`Chain ID: ${e.chain_id}
`,t+=`Nonce: ${e.nonce}
`,t+=`Issued At: ${e.issued_at}
`,e.expiration_time&&(t+=`Expiration Time: ${e.expiration_time}
`),e.not_before&&(t+=`Not Before: ${e.not_before}
`),e.request_id&&(t+=`Request ID: ${e.request_id}
`),t},An=e=>{var t,n,r,i,s,o;window.webkit?(i=(r=(n=(t=window.webkit)==null?void 0:t.messageHandlers)==null?void 0:n.minikit)==null?void 0:r.postMessage)==null||i.call(r,e):window.Android&&((o=(s=window.Android).postMessage)==null||o.call(s,JSON.stringify(e)))},Na=!1,lg=()=>{var s;if(Na||typeof navigator<"u"&&!((s=navigator.mediaDevices)!=null&&s.getUserMedia))return;const e=MediaStreamTrack.prototype.stop;MediaStreamTrack.prototype.stop=function(){e.call(this),this.readyState==="ended"&&setTimeout(()=>this.dispatchEvent(new Event("ended")),0)};const t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices),n=new Set;async function r(o){const a=await t(o);return a.getAudioTracks().length>0&&(An({command:"microphone-stream-started",version:1,payload:{streamId:a.id}}),n.add(a),a.getAudioTracks().forEach(d=>{d.addEventListener("ended",()=>{a.getAudioTracks().every(h=>h.readyState==="ended")&&(An({command:"microphone-stream-ended",version:1,payload:{streamId:a.id}}),n.delete(a))})})),a}Object.defineProperty(navigator.mediaDevices,"getUserMedia",{value:r,writable:!1,configurable:!1,enumerable:!0}),Object.freeze(navigator.mediaDevices);const i=()=>{n.forEach(o=>{const a=o.getAudioTracks();a.length>0&&(a.forEach(c=>{c.stop()}),An({command:"microphone-stream-ended",version:1,payload:{streamId:o.id}}))}),n.clear()};Et.subscribe("miniapp-microphone",o=>{o.status==="error"&&(o.error_code==="mini_app_permission_not_enabled"||o.error_code==="world_app_permission_not_enabled")&&(console.log("stopping all microphone streams",o),i())}),window.__stopAllMiniAppMicrophoneStreams=i,Na=!0},hg="0x79f46b94d134109EbcbbddBAeD0E88790409A0e4",pg=[{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"}],name:"compressProof",outputs:[{internalType:"uint256[4]",name:"compressed",type:"uint256[4]"}],stateMutability:"view",type:"function"}],D0=async(e,t)=>{try{const n=Qy({chain:ug,transport:tg(t||"https://worldchain-mainnet.g.alchemy.com/public")}),r=pn([{type:"uint256[8]"}],e)[0],s=[...await n.readContract({address:hg,abi:pg,functionName:"compressProof",args:[r]}),0n,0n,0n,0n];return Bt([{type:"uint256[8]"}],[s])}catch{return e}},Ma=10,H0=50,bg=H0*1024*1024,mg=async e=>{const t=await e.arrayBuffer(),n=new Uint8Array(t);let r="";const i=32768;for(let o=0;o<n.length;o+=i){const a=n.subarray(o,Math.min(o+i,n.length));r+=String.fromCharCode.apply(null,Array.from(a))}const s=btoa(r);return{name:e.name,type:e.type,data:s}},yg=async e=>{if(!e.files)return{title:e.title,text:e.text,url:e.url};if(!Array.isArray(e.files))throw new Error('The "files" property must be an array.');if(e.files.length!==0){if(e.files.length>Ma)throw new Error(`Cannot share more than ${Ma} files.`);let r=0;for(const i of e.files){if(!(i instanceof File))throw new Error(`Each item in the 'files' array must be a File object. Received: ${typeof i}`);r+=i.size}if(r>bg)throw new Error(`Total file size cannot exceed ${H0}MB.`)}const t=e.files.map(r=>mg(r));return{files:await Promise.all(t),title:e.title,text:e.text,url:e.url}},gg=e=>e.nonce?e.nonce.length<8?{valid:!1,message:"'nonce' must be at least 8 characters"}:e.statement&&e.statement.includes(`
`)?{valid:!1,message:"'statement' must not contain newlines"}:e.expirationTime&&new Date(e.expirationTime)<new Date?{valid:!1,message:"'expirationTime' must be in the future"}:e.expirationTime&&new Date(e.expirationTime)>new Date(Date.now()+7*24*60*60*1e3)?{valid:!1,message:"'expirationTime' must be within 7 days"}:e.notBefore&&new Date(e.notBefore)>new Date(Date.now()+7*24*60*60*1e3)?{valid:!1,message:"'notBefore' must be within 7 days"}:{valid:!0}:{valid:!1,message:"'nonce' is required"},wg=e=>/^0x[0-9A-Fa-f]+$/.test(e),bs=e=>e===null||typeof e!="object"?e:Array.isArray(e)?e.map(n=>bs(n)):Object.values(e).map(n=>bs(n)),ms=e=>{if(typeof e=="boolean"||typeof e=="string"||e===null||e===void 0)return e;if(typeof e=="number"||typeof e=="bigint")return String(e);if(Array.isArray(e))return e.map(t=>ms(t));if(typeof e=="object"){const t={...e};if("value"in t&&t.value!==void 0&&(typeof t.value!="string"&&(t.value=String(t.value)),!wg(t.value)))throw console.error("Transaction value must be a valid hex string",t.value),new Error(`Transaction value must be a valid hex string: ${t.value}`);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ms(t[n]));return t}return e},xg=e=>{if(e.formatPayload){const t=ms(e);return t.transaction=t.transaction.map(n=>{const r=bs(n.args);return{...n,args:r}}),t}return e},vg=async e=>{const n=await(await fetch("https://usernames.worldcoin.org/api/v1/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:[e]})})).json();return(n==null?void 0:n[0])??{username:null,profile_picture_url:null}},Re=e=>{An(e)},D=class le{static sendInit(){An({command:"init",payload:{version:this.MINIKIT_VERSION,minorVersion:this.MINIKIT_MINOR_VERSION}})}static subscribe(t,n){if(t==="miniapp-wallet-auth"){const r=n,i=async s=>{if(s.status==="success"){le.user.walletAddress=s.address;try{const o=await le.getUserByAddress(s.address);le.user={...le.user,...o}}catch(o){console.error("Failed to fetch user profile:",o)}}r(s)};this.listeners[t]=i}else if(t==="miniapp-verify-action"){const r=n,i=s=>{s.status==="success"&&s.verification_level===on.Orb?D0(s.proof).then(o=>{s.proof=o,r(s)}):r(s)};this.listeners[t]=i}else this.listeners[t]=n}static unsubscribe(t){delete this.listeners[t]}static trigger(t,n){if(!this.listeners[t]){console.error(`No handler for event ${t}, payload: ${JSON.stringify(n)}`);return}this.listeners[t](n)}static async awaitCommand(t,n,r){return new Promise(i=>{let s=null;const o=a=>{this.unsubscribe(t),i({commandPayload:s,finalPayload:a})};this.subscribe(t,o),s=r()})}static commandsValid(t){let n=!0;return Object.entries(this.miniKitCommandVersion).forEach(([r,i])=>{const s=t.find(a=>a.name===r);let o=!1;s?s.supported_versions.includes(i)?(le.isCommandAvailable[r]=!0,o=!0):(o=!0,console.warn(`Command ${r} version ${i} is not supported by the app. Supported versions: ${s.supported_versions.join(", ")}. This is not an error, but it is recommended to update the World App version.`),le.isCommandAvailable[r]=o):console.warn(`Command ${r} is not supported by the app. Try updating the app version`),o||(n=!1)}),n}static install(t){if(typeof window>"u"||window.MiniKit)return{success:!1,errorCode:"already_installed",errorMessage:vn.already_installed};if(t?le.appId=t:console.warn("App ID not provided during install"),!window.WorldApp)return{success:!1,errorCode:"outside_of_worldapp",errorMessage:vn.outside_of_worldapp};le.user.optedIntoOptionalAnalytics=window.WorldApp.is_optional_analytics,le.user.deviceOS=window.WorldApp.device_os,le.user.worldAppVersion=window.WorldApp.world_app_version,le.deviceProperties.safeAreaInsets=window.WorldApp.safe_area_insets,le.deviceProperties.deviceOS=window.WorldApp.device_os,le.deviceProperties.worldAppVersion=window.WorldApp.world_app_version;try{window.MiniKit=le,this.sendInit()}catch(n){return console.error(vn.unknown,n),{success:!1,errorCode:"unknown",errorMessage:vn.unknown}}return le.isReady=!0,lg(),this.commandsValid(window.WorldApp.supported_commands)?{success:!0}:{success:!1,errorCode:"app_out_of_date",errorMessage:vn.app_out_of_date}}static isInstalled(t){const n=le.isReady&&!!window.MiniKit;return n||console.error("MiniKit is not installed. Make sure you're running the application inside of World App"),t&&n&&console.log("MiniKit is alive!"),n}};D.MINIKIT_VERSION=1;D.MINIKIT_MINOR_VERSION=96;D.miniKitCommandVersion={verify:1,pay:1,"wallet-auth":2,"send-transaction":1,"sign-message":1,"sign-typed-data":1,"share-contacts":1,"request-permission":1,"get-permissions":1,"send-haptic-feedback":1,share:1};D.isCommandAvailable={verify:!1,pay:!1,"wallet-auth":!1,"send-transaction":!1,"sign-message":!1,"sign-typed-data":!1,"share-contacts":!1,"request-permission":!1,"get-permissions":!1,"send-haptic-feedback":!1,share:!1};D.listeners={"miniapp-verify-action":()=>{},"miniapp-payment":()=>{},"miniapp-wallet-auth":()=>{},"miniapp-send-transaction":()=>{},"miniapp-sign-message":()=>{},"miniapp-sign-typed-data":()=>{},"miniapp-share-contacts":()=>{},"miniapp-request-permission":()=>{},"miniapp-get-permissions":()=>{},"miniapp-send-haptic-feedback":()=>{},"miniapp-share":()=>{},"miniapp-microphone":()=>{}};D.appId=null;D.user={};D.deviceProperties={};D.isReady=!1;D.getUserByAddress=async e=>{const t=await vg(e??D.user.walletAddress);return{walletAddress:e??D.user.walletAddress,username:t.username,profilePictureUrl:t.profile_picture_url}};D.getUserByUsername=async e=>{const n=await(await fetch(`https://usernames.worldcoin.org/api/v1/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();return{walletAddress:n.address,username:n.username,profilePictureUrl:n.profile_picture_url}};D.getUserInfo=D.getUserByAddress;D.commands={verify:e=>{if(typeof window>"u"||!D.isCommandAvailable.verify)return console.error("'verify' command is unavailable. Check MiniKit.install() or update the app version"),null;const t=new Date().toISOString(),n={action:hc(e.action),signal:lc(e.signal).digest,verification_level:e.verification_level||on.Orb,timestamp:t};return Re({command:"verify",version:D.miniKitCommandVersion.verify,payload:n}),n},pay:e=>{if(typeof window>"u"||!D.isCommandAvailable.pay)return console.error("'pay' command is unavailable. Check MiniKit.install() or update the app version"),null;if(!fg(e))return null;const t={...e,network:"worldchain"};return Re({command:"pay",version:D.miniKitCommandVersion.pay,payload:t}),t},walletAuth:e=>{var o,a;if(typeof window>"u"||!D.isCommandAvailable["wallet-auth"])return console.error("'walletAuth' command is unavailable. Check MiniKit.install() or update the app version"),null;const t=gg(e);if(!t.valid)return console.error(`Failed to validate wallet auth input:

 -->`,t.message),null;let n=null;try{n=new URL(window.location.href).protocol.split(":")[0]}catch(c){return console.error("Failed to get current URL",c),null}const i={siweMessage:dg({scheme:n,domain:window.location.host,statement:e.statement??void 0,uri:window.location.href,version:"1",chain_id:480,nonce:e.nonce,issued_at:new Date().toISOString(),expiration_time:((o=e.expirationTime)==null?void 0:o.toISOString())??void 0,not_before:((a=e.notBefore)==null?void 0:a.toISOString())??void 0,request_id:e.requestId??void 0})},s=D.user.worldAppVersion&&D.user.worldAppVersion>2087900?D.miniKitCommandVersion["wallet-auth"]:1;return Re({command:"wallet-auth",version:s,payload:i}),i},sendTransaction:e=>{if(typeof window>"u"||!D.isCommandAvailable["send-transaction"])return console.error("'sendTransaction' command is unavailable. Check MiniKit.install() or update the app version"),null;e.formatPayload=e.formatPayload!==!1;const t=xg(e);return Re({command:"send-transaction",version:D.miniKitCommandVersion["send-transaction"],payload:t}),t},signMessage:e=>typeof window>"u"||!D.isCommandAvailable["sign-message"]?(console.error("'signMessage' command is unavailable. Check MiniKit.install() or update the app version"),null):(Re({command:"sign-message",version:D.miniKitCommandVersion["sign-message"],payload:e}),e),signTypedData:e=>typeof window>"u"||!D.isCommandAvailable["sign-typed-data"]?(console.error("'signTypedData' command is unavailable. Check MiniKit.install() or update the app version"),null):(e.chainId||(e.chainId=480),Re({command:"sign-typed-data",version:D.miniKitCommandVersion["sign-typed-data"],payload:e}),e),shareContacts:e=>typeof window>"u"||!D.isCommandAvailable["share-contacts"]?(console.error("'shareContacts' command is unavailable. Check MiniKit.install() or update the app version"),null):(Re({command:"share-contacts",version:D.miniKitCommandVersion["share-contacts"],payload:e}),e),requestPermission:e=>typeof window>"u"||!D.isCommandAvailable["request-permission"]?(console.error("'requestPermission' command is unavailable. Check MiniKit.install() or update the app version"),null):(Re({command:"request-permission",version:D.miniKitCommandVersion["request-permission"],payload:e}),e),getPermissions:()=>typeof window>"u"||!D.isCommandAvailable["get-permissions"]?(console.error("'getPermissions' command is unavailable. Check MiniKit.install() or update the app version"),null):(Re({command:"get-permissions",version:D.miniKitCommandVersion["get-permissions"],payload:{}}),{status:"sent"}),sendHapticFeedback:e=>typeof window>"u"||!D.isCommandAvailable["send-haptic-feedback"]?(console.error("'sendHapticFeedback' command is unavailable. Check MiniKit.install() or update the app version"),null):(Re({command:"send-haptic-feedback",version:D.miniKitCommandVersion["send-haptic-feedback"],payload:e}),e),share:e=>typeof window>"u"||!D.isCommandAvailable.share?(console.error("'share' command is unavailable. Check MiniKit.install() or update the app version"),null):(D.deviceProperties.deviceOS==="ios"&&typeof navigator<"u"?(Re({command:"share",version:D.miniKitCommandVersion.share,payload:e}),navigator.share(e)):(yg(e).then(t=>{Re({command:"share",version:D.miniKitCommandVersion.share,payload:t})}).catch(t=>{console.error("Failed to format share input",t)}),D.subscribe("miniapp-share",t=>{console.log("Share Response",t)})),e)};D.commandsAsync={verify:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-verify-action","verify",()=>D.commands.verify(e));r.finalPayload.status==="success"&&r.finalPayload.verification_level===on.Orb&&(r.finalPayload.proof=await D0(r.finalPayload.proof)),t(r)}catch(r){n(r)}}),pay:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-payment","pay",()=>D.commands.pay(e));t(r)}catch(r){n(r)}}),walletAuth:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-wallet-auth","wallet-auth",()=>D.commands.walletAuth(e));return t(r)}catch(r){n(r)}}),sendTransaction:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-send-transaction","send-transaction",()=>D.commands.sendTransaction(e));return t(r)}catch(r){n(r)}}),signMessage:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-sign-message","sign-message",()=>D.commands.signMessage(e));return t(r)}catch(r){n(r)}}),signTypedData:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-sign-typed-data","sign-typed-data",()=>D.commands.signTypedData(e));return t(r)}catch(r){n(r)}}),shareContacts:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-share-contacts","share-contacts",()=>D.commands.shareContacts(e));return t(r)}catch(r){n(r)}}),requestPermission:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-request-permission","request-permission",()=>D.commands.requestPermission(e));t(r)}catch(r){n(r)}}),getPermissions:async()=>new Promise(async(e,t)=>{try{const n=await D.awaitCommand("miniapp-get-permissions","get-permissions",()=>D.commands.getPermissions());e(n)}catch(n){t(n)}}),sendHapticFeedback:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-send-haptic-feedback","send-haptic-feedback",()=>D.commands.sendHapticFeedback(e));t(r)}catch(r){n(r)}}),share:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-share","share",()=>D.commands.share(e));t({commandPayload:r.commandPayload,finalPayload:r.finalPayload})}catch(r){n(r)}})};var Et=D;const Ci="http://localhost:3000/api",Eg="Elite Connect",Ag="app_486e187afe7bc69a19456a3fa901a162",za="signin";console.log(" Initializing MiniKit...");try{Et.install(Ag),console.log(" MiniKit installed")}catch(e){console.error(" MiniKit installation error:",e)}function Pg(){try{if(!Et)return console.log(" MiniKit not available"),!1;const e=Et.isInstalled();return console.log(" MiniKit.isInstalled():",e),e}catch(e){return console.error("Error checking MiniKit:",e),!1}}class Ie{static show(t,n="info",r=3e3){console.log(`[${n.toUpperCase()}] ${t}`);const i=document.createElement("div");i.className=`toast toast-${n}`;const s={success:"",error:"",warning:"",info:""};i.innerHTML=`
      <span style="font-size:1.25rem;margin-right:0.5rem">${s[n]}</span>
      <span>${t}</span>
    `,document.body.appendChild(i),setTimeout(()=>i.classList.add("show"),10),setTimeout(()=>{i.classList.remove("show"),setTimeout(()=>i.remove(),300)},r)}static success(t){this.show(t,"success")}static error(t){this.show(t,"error")}static warning(t){this.show(t,"warning")}static info(t){this.show(t,"info")}}class Ua{constructor(){console.log(" Elite Connect Starting..."),console.log("Environment:",{MiniKit:!!Et,VerificationLevel:!!on,userAgent:navigator.userAgent}),this.token=localStorage.getItem("token"),this.user=null,this.currentPage="auth",this.render()}render(){console.log(" Rendering app...");const t=Pg();if(console.log("In World App:",t),!t){console.log(" Showing World App required screen"),this.showWorldAppRequired();return}console.log(" In World App, checking auth..."),this.token?(console.log(" Token found, checking authentication"),this.init()):(console.log(" No token, showing sign-in"),this.showAuth())}showWorldAppRequired(){console.log(" Rendering: World App Required");const t=document.getElementById("app");if(!t){console.error(" #app element not found!");return}t.innerHTML=`
      <div class="auth-container">
        <div class="auth-card">
          <div class="logo" style="background:linear-gradient(135deg, #667eea, #764ba2)"></div>
          <h1 class="gradient-text">Open in World App</h1>
          <p class="subtitle">This app requires World App to function</p>
          
          <div style="background:#f0f9ff;padding:1.5rem;border-radius:12px;margin:2rem 0;text-align:left">
            <h3 style="margin:0 0 1rem 0;color:#0369a1"> How to Open:</h3>
            <ol style="margin:0;padding-left:1.5rem;line-height:2;color:#0c4a6e">
              <li>Open <strong>World App</strong> on your phone</li>
              <li>Tap the <strong>Browser</strong> tab</li>
              <li>Enter this URL: <code style="background:#e0f2fe;padding:0.25rem 0.5rem;border-radius:4px;font-size:0.875rem">${window.location.href}</code></li>
              <li>App will work automatically! </li>
            </ol>
          </div>
          
          <div style="background:#fef3c7;padding:1rem;border-radius:8px;margin:1rem 0">
            <p style="margin:0;font-size:0.875rem;color:#92400e">
              <strong> Why World App?</strong><br>
              Elite Connect uses World ID for secure verification.<br>
              World ID only works inside World App.
            </p>
          </div>
          
          <button class="btn" onclick="window.location.reload()" style="background:#667eea;margin-top:1rem">
             Reload Page
          </button>
          
          <p class="footer-text" style="margin-top:1.5rem">
             Privacy-preserving   Verified humans only
          </p>
        </div>
      </div>
    `,console.log(" World App Required screen rendered")}showAuth(){console.log(" Rendering: Sign-in screen"),document.getElementById("app").innerHTML=`
      <div class="auth-container">
        <div class="auth-card">
          <div class="logo"></div>
          <h1 class="gradient-text">${Eg}</h1>
          <p class="subtitle">Verified connections, genuine hearts</p>
          
          <button class="btn" id="signInBtn">
             Sign in with World ID
          </button>
          
          <p class="footer-text">One person, one profile. Verified humans only.</p>
          
          <div style="background:#f0fdf4;padding:1rem;border-radius:8px;margin-top:1.5rem">
            <p style="font-size:0.875rem;color:#166534;margin:0;line-height:1.6">
               Privacy-preserving verification<br>
               No personal data shared<br>
               Proof of unique human
            </p>
          </div>
        </div>
      </div>
    `;const t=document.getElementById("signInBtn");t&&(t.onclick=()=>this.verifyWithWorldID(),console.log(" Sign-in button ready"))}async verifyWithWorldID(){if(console.log(" Starting World ID verification..."),!Et){Ie.error("MiniKit not available. Please refresh.");return}try{if(!Et.isInstalled()){console.error(" MiniKit not installed"),Ie.error("Please open this app in World App"),this.showWorldAppRequired();return}Ie.info("Opening World ID verification..."),console.log(" Calling MiniKit.commandsAsync.verify...");const{finalPayload:t}=await Et.commandsAsync.verify({action:za,signal:"",verification_level:on.Device});if(console.log(" World ID response:",t),t.status==="success"){console.log(" World ID verification successful"),Ie.info("Verifying with backend...");const r=await(await fetch(`${Ci}/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:t,action:za,signal:""})})).json();console.log(" Backend response:",r),r.success?(console.log(" Backend verification successful"),this.token=r.token,this.user=r.user,localStorage.setItem("token",this.token),Ie.success("Welcome to Elite Connect!"),r.user.profile_completed?this.showHome():this.showProfileSetup()):Ie.error(r.error||"Verification failed")}else console.log(" Verification not successful:",t.status),Ie.warning("Verification cancelled")}catch(t){console.error(" Verification error:",t),Ie.error("Verification failed: "+t.message)}}async init(){try{console.log(" Checking authentication...");const t=await fetch(`${Ci}/auth/me`,{headers:{Authorization:`Bearer ${this.token}`}});t.ok?(this.user=await t.json(),console.log(" User authenticated:",this.user),this.user.profile_completed?this.showHome():this.showProfileSetup()):(console.log(" Authentication failed"),this.logout())}catch(t){console.error(" Init error:",t),this.logout()}}showProfileSetup(){console.log(" Rendering: Profile Setup"),document.getElementById("app").innerHTML=`
      <div class="page-container">
        <div class="content-wrapper">
          <div class="page-header">
            <div class="page-icon"></div>
            <h1>Create Your Profile</h1>
            <p>Tell us about yourself</p>
          </div>
          
          <div class="card">
            <form id="profileForm" class="profile-form">
              <div class="form-group">
                <label>Name *</label>
                <input type="text" name="name" required placeholder="Your name" />
              </div>
              
              <div class="form-group">
                <label>Age *</label>
                <input type="number" name="age" min="18" max="100" required placeholder="18" />
              </div>
              
              <div class="form-group">
                <label>Gender *</label>
                <select name="gender" required>
                  <option value="">Select gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                  <option value="non-binary">Non-binary</option>
                  <option value="other">Other</option>
                </select>
              </div>
              
              <div class="form-group">
                <label>Bio</label>
                <textarea name="bio" rows="4" placeholder="Tell us about yourself..."></textarea>
              </div>
              
              <button type="submit" class="btn">Complete Profile</button>
            </form>
          </div>
        </div>
      </div>
    `;const t=document.getElementById("profileForm");t&&(t.onsubmit=n=>this.submitProfile(n))}async submitProfile(t){t.preventDefault(),console.log(" Submitting profile...");const n=new FormData(t.target),r=Object.fromEntries(n);try{Ie.info("Creating your profile...");const s=await(await fetch(`${Ci}/profile/create`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(r)})).json();s.success?(console.log(" Profile created"),this.user.profile_completed=!0,Ie.success("Profile created successfully!"),this.showHome()):Ie.error(s.error||"Failed to create profile")}catch(i){console.error(" Profile error:",i),Ie.error("Failed to create profile")}}showHome(){console.log(" Rendering: Home"),document.getElementById("app").innerHTML=`
      <div class="page-container with-nav">
        <div class="content-wrapper">
          <div class="welcome-card">
            <div class="welcome-icon"></div>
            <h1>Welcome Back!</h1>
            <p>Ready to find your match?</p>
          </div>

          <div class="action-grid">
            <div class="action-card" onclick="alert('Explore coming soon!')">
              <div class="action-icon"></div>
              <h3>Discover</h3>
              <p>Find profiles</p>
            </div>
            
            <div class="action-card" onclick="alert('Chat coming soon!')">
              <div class="action-icon"></div>
              <h3>Messages</h3>
              <p>Your chats</p>
            </div>
          </div>

          <div class="info-card">
            <p> Verified with World ID</p>
          </div>
          
          <button class="btn btn-logout" onclick="window.app.logout()" style="margin-top:2rem">
            Logout
          </button>
        </div>
      </div>
    `}logout(){console.log(" Logging out"),localStorage.removeItem("token"),this.token=null,this.user=null,Ie.info("Logged out successfully"),this.showAuth()}}console.log(" Initializing Elite Connect...");document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{console.log(" DOM ready, creating app"),window.app=new Ua}):(console.log(" DOM already ready, creating app"),window.app=new Ua);console.log(" Script loaded");export{S as B,En as H,q1 as a,it as b,Yr as c,Qh as d,Bt as e,tt as f,js as g,Vr as i,Qr as l,pe as s};
//# sourceMappingURL=index-BCyH8h2D.js.map
