(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rr={},kr={};kr.byteLength=X0;kr.toByteArray=ef;kr.fromByteArray=rf;var Xe=[],_e=[],Y0=typeof Uint8Array<"u"?Uint8Array:Array,co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dt=0,J0=co.length;Dt<J0;++Dt)Xe[Dt]=co[Dt],_e[co.charCodeAt(Dt)]=Dt;_e[45]=62;_e[95]=63;function Ga(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function X0(e){var t=Ga(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Q0(e,t,n){return(t+n)*3/4-n}function ef(e){var t,n=Ga(e),r=n[0],o=n[1],i=new Y0(Q0(e,r,o)),s=0,a=o>0?r-4:r,c;for(c=0;c<a;c+=4)t=_e[e.charCodeAt(c)]<<18|_e[e.charCodeAt(c+1)]<<12|_e[e.charCodeAt(c+2)]<<6|_e[e.charCodeAt(c+3)],i[s++]=t>>16&255,i[s++]=t>>8&255,i[s++]=t&255;return o===2&&(t=_e[e.charCodeAt(c)]<<2|_e[e.charCodeAt(c+1)]>>4,i[s++]=t&255),o===1&&(t=_e[e.charCodeAt(c)]<<10|_e[e.charCodeAt(c+1)]<<4|_e[e.charCodeAt(c+2)]>>2,i[s++]=t>>8&255,i[s++]=t&255),i}function tf(e){return Xe[e>>18&63]+Xe[e>>12&63]+Xe[e>>6&63]+Xe[e&63]}function nf(e,t,n){for(var r,o=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(tf(r));return o.join("")}function rf(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(nf(e,s,s+i>a?a:s+i));return r===1?(t=e[n-1],o.push(Xe[t>>2]+Xe[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],o.push(Xe[t>>10]+Xe[t>>4&63]+Xe[t<<2&63]+"=")),o.join("")}var Ei={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ei.read=function(e,t,n,r,o){var i,s,a=o*8-r-1,c=(1<<a)-1,l=c>>1,d=-7,p=n?o-1:0,m=n?-1:1,y=e[t+p];for(p+=m,i=y&(1<<-d)-1,y>>=-d,d+=a;d>0;i=i*256+e[t+p],p+=m,d-=8);for(s=i&(1<<-d)-1,i>>=-d,d+=r;d>0;s=s*256+e[t+p],p+=m,d-=8);if(i===0)i=1-l;else{if(i===c)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,r),i=i-l}return(y?-1:1)*s*Math.pow(2,i-r)};Ei.write=function(e,t,n,r,o,i){var s,a,c,l=i*8-o-1,d=(1<<l)-1,p=d>>1,m=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:i-1,x=r?1:-1,v=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+p>=1?t+=m/c:t+=m*Math.pow(2,1-p),t*c>=2&&(s++,c/=2),s+p>=d?(a=0,s=d):s+p>=1?(a=(t*c-1)*Math.pow(2,o),s=s+p):(a=t*Math.pow(2,p-1)*Math.pow(2,o),s=0));o>=8;e[n+y]=a&255,y+=x,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+y]=s&255,y+=x,s/=256,l-=8);e[n+y-x]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=kr,n=Ei,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=k,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const h=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(h,u),h.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(h){if(h>o)throw new RangeError('The value "'+h+'" is invalid for option "size"');const u=new Uint8Array(h);return Object.setPrototypeOf(u,a.prototype),u}function a(h,u,f){if(typeof h=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(h)}return c(h,u,f)}a.poolSize=8192;function c(h,u,f){if(typeof h=="string")return m(h,u);if(ArrayBuffer.isView(h))return x(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Ze(h,ArrayBuffer)||h&&Ze(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(h,SharedArrayBuffer)||h&&Ze(h.buffer,SharedArrayBuffer)))return v(h,u,f);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const b=h.valueOf&&h.valueOf();if(b!=null&&b!==h)return a.from(b,u,f);const g=I(h);if(g)return g;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return a.from(h[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}a.from=function(h,u,f){return c(h,u,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function d(h,u,f){return l(h),h<=0?s(h):u!==void 0?typeof f=="string"?s(h).fill(u,f):s(h).fill(u):s(h)}a.alloc=function(h,u,f){return d(h,u,f)};function p(h){return l(h),s(h<0?0:$(h)|0)}a.allocUnsafe=function(h){return p(h)},a.allocUnsafeSlow=function(h){return p(h)};function m(h,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const f=A(h,u)|0;let b=s(f);const g=b.write(h,u);return g!==f&&(b=b.slice(0,g)),b}function y(h){const u=h.length<0?0:$(h.length)|0,f=s(u);for(let b=0;b<u;b+=1)f[b]=h[b]&255;return f}function x(h){if(Ze(h,Uint8Array)){const u=new Uint8Array(h);return v(u.buffer,u.byteOffset,u.byteLength)}return y(h)}function v(h,u,f){if(u<0||h.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');let b;return u===void 0&&f===void 0?b=new Uint8Array(h):f===void 0?b=new Uint8Array(h,u):b=new Uint8Array(h,u,f),Object.setPrototypeOf(b,a.prototype),b}function I(h){if(a.isBuffer(h)){const u=$(h.length)|0,f=s(u);return f.length===0||h.copy(f,0,0,u),f}if(h.length!==void 0)return typeof h.length!="number"||ao(h.length)?s(0):y(h);if(h.type==="Buffer"&&Array.isArray(h.data))return y(h.data)}function $(h){if(h>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return h|0}function k(h){return+h!=h&&(h=0),a.alloc(+h)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,f){if(Ze(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),Ze(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(u)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;let b=u.length,g=f.length;for(let P=0,B=Math.min(b,g);P<B;++P)if(u[P]!==f[P]){b=u[P],g=f[P];break}return b<g?-1:g<b?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);let b;if(f===void 0)for(f=0,b=0;b<u.length;++b)f+=u[b].length;const g=a.allocUnsafe(f);let P=0;for(b=0;b<u.length;++b){let B=u[b];if(Ze(B,Uint8Array))P+B.length>g.length?(a.isBuffer(B)||(B=a.from(B)),B.copy(g,P)):Uint8Array.prototype.set.call(g,B,P);else if(a.isBuffer(B))B.copy(g,P);else throw new TypeError('"list" argument must be an Array of Buffers');P+=B.length}return g};function A(h,u){if(a.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||Ze(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const f=h.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&f===0)return 0;let g=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return so(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Ss(h).length;default:if(g)return b?-1:so(h).length;u=(""+u).toLowerCase(),g=!0}}a.byteLength=A;function w(h,u,f){let b=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return"";for(h||(h="utf8");;)switch(h){case"hex":return G(this,u,f);case"utf8":case"utf-8":return Y(this,u,f);case"ascii":return H(this,u,f);case"latin1":case"binary":return N(this,u,f);case"base64":return D(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,u,f);default:if(b)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),b=!0}}a.prototype._isBuffer=!0;function E(h,u,f){const b=h[u];h[u]=h[f],h[f]=b}a.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<u;f+=2)E(this,f,f+1);return this},a.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<u;f+=4)E(this,f,f+3),E(this,f+1,f+2);return this},a.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<u;f+=8)E(this,f,f+7),E(this,f+1,f+6),E(this,f+2,f+5),E(this,f+3,f+4);return this},a.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?Y(this,0,u):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){let u="";const f=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(u,f,b,g,P){if(Ze(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),b===void 0&&(b=u?u.length:0),g===void 0&&(g=0),P===void 0&&(P=this.length),f<0||b>u.length||g<0||P>this.length)throw new RangeError("out of range index");if(g>=P&&f>=b)return 0;if(g>=P)return-1;if(f>=b)return 1;if(f>>>=0,b>>>=0,g>>>=0,P>>>=0,this===u)return 0;let B=P-g,X=b-f;const re=Math.min(B,X),te=this.slice(g,P),oe=u.slice(f,b);for(let Q=0;Q<re;++Q)if(te[Q]!==oe[Q]){B=te[Q],X=oe[Q];break}return B<X?-1:X<B?1:0};function S(h,u,f,b,g){if(h.length===0)return-1;if(typeof f=="string"?(b=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,ao(f)&&(f=g?0:h.length-1),f<0&&(f=h.length+f),f>=h.length){if(g)return-1;f=h.length-1}else if(f<0)if(g)f=0;else return-1;if(typeof u=="string"&&(u=a.from(u,b)),a.isBuffer(u))return u.length===0?-1:T(h,u,f,b,g);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?g?Uint8Array.prototype.indexOf.call(h,u,f):Uint8Array.prototype.lastIndexOf.call(h,u,f):T(h,[u],f,b,g);throw new TypeError("val must be string, number or Buffer")}function T(h,u,f,b,g){let P=1,B=h.length,X=u.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(h.length<2||u.length<2)return-1;P=2,B/=2,X/=2,f/=2}function re(oe,Q){return P===1?oe[Q]:oe.readUInt16BE(Q*P)}let te;if(g){let oe=-1;for(te=f;te<B;te++)if(re(h,te)===re(u,oe===-1?0:te-oe)){if(oe===-1&&(oe=te),te-oe+1===X)return oe*P}else oe!==-1&&(te-=te-oe),oe=-1}else for(f+X>B&&(f=B-X),te=f;te>=0;te--){let oe=!0;for(let Q=0;Q<X;Q++)if(re(h,te+Q)!==re(u,Q)){oe=!1;break}if(oe)return te}return-1}a.prototype.includes=function(u,f,b){return this.indexOf(u,f,b)!==-1},a.prototype.indexOf=function(u,f,b){return S(this,u,f,b,!0)},a.prototype.lastIndexOf=function(u,f,b){return S(this,u,f,b,!1)};function F(h,u,f,b){f=Number(f)||0;const g=h.length-f;b?(b=Number(b),b>g&&(b=g)):b=g;const P=u.length;b>P/2&&(b=P/2);let B;for(B=0;B<b;++B){const X=parseInt(u.substr(B*2,2),16);if(ao(X))return B;h[f+B]=X}return B}function j(h,u,f,b){return dr(so(u,h.length-f),h,f,b)}function C(h,u,f,b){return dr(V0(u),h,f,b)}function U(h,u,f,b){return dr(Ss(u),h,f,b)}function L(h,u,f,b){return dr(W0(u,h.length-f),h,f,b)}a.prototype.write=function(u,f,b,g){if(f===void 0)g="utf8",b=this.length,f=0;else if(b===void 0&&typeof f=="string")g=f,b=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(b)?(b=b>>>0,g===void 0&&(g="utf8")):(g=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const P=this.length-f;if((b===void 0||b>P)&&(b=P),u.length>0&&(b<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");g||(g="utf8");let B=!1;for(;;)switch(g){case"hex":return F(this,u,f,b);case"utf8":case"utf-8":return j(this,u,f,b);case"ascii":case"latin1":case"binary":return C(this,u,f,b);case"base64":return U(this,u,f,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,u,f,b);default:if(B)throw new TypeError("Unknown encoding: "+g);g=(""+g).toLowerCase(),B=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(h,u,f){return u===0&&f===h.length?t.fromByteArray(h):t.fromByteArray(h.slice(u,f))}function Y(h,u,f){f=Math.min(h.length,f);const b=[];let g=u;for(;g<f;){const P=h[g];let B=null,X=P>239?4:P>223?3:P>191?2:1;if(g+X<=f){let re,te,oe,Q;switch(X){case 1:P<128&&(B=P);break;case 2:re=h[g+1],(re&192)===128&&(Q=(P&31)<<6|re&63,Q>127&&(B=Q));break;case 3:re=h[g+1],te=h[g+2],(re&192)===128&&(te&192)===128&&(Q=(P&15)<<12|(re&63)<<6|te&63,Q>2047&&(Q<55296||Q>57343)&&(B=Q));break;case 4:re=h[g+1],te=h[g+2],oe=h[g+3],(re&192)===128&&(te&192)===128&&(oe&192)===128&&(Q=(P&15)<<18|(re&63)<<12|(te&63)<<6|oe&63,Q>65535&&Q<1114112&&(B=Q))}}B===null?(B=65533,X=1):B>65535&&(B-=65536,b.push(B>>>10&1023|55296),B=56320|B&1023),b.push(B),g+=X}return O(b)}const _=4096;function O(h){const u=h.length;if(u<=_)return String.fromCharCode.apply(String,h);let f="",b=0;for(;b<u;)f+=String.fromCharCode.apply(String,h.slice(b,b+=_));return f}function H(h,u,f){let b="";f=Math.min(h.length,f);for(let g=u;g<f;++g)b+=String.fromCharCode(h[g]&127);return b}function N(h,u,f){let b="";f=Math.min(h.length,f);for(let g=u;g<f;++g)b+=String.fromCharCode(h[g]);return b}function G(h,u,f){const b=h.length;(!u||u<0)&&(u=0),(!f||f<0||f>b)&&(f=b);let g="";for(let P=u;P<f;++P)g+=K0[h[P]];return g}function W(h,u,f){const b=h.slice(u,f);let g="";for(let P=0;P<b.length-1;P+=2)g+=String.fromCharCode(b[P]+b[P+1]*256);return g}a.prototype.slice=function(u,f){const b=this.length;u=~~u,f=f===void 0?b:~~f,u<0?(u+=b,u<0&&(u=0)):u>b&&(u=b),f<0?(f+=b,f<0&&(f=0)):f>b&&(f=b),f<u&&(f=u);const g=this.subarray(u,f);return Object.setPrototypeOf(g,a.prototype),g};function V(h,u,f){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+u>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,f,b){u=u>>>0,f=f>>>0,b||V(u,f,this.length);let g=this[u],P=1,B=0;for(;++B<f&&(P*=256);)g+=this[u+B]*P;return g},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,f,b){u=u>>>0,f=f>>>0,b||V(u,f,this.length);let g=this[u+--f],P=1;for(;f>0&&(P*=256);)g+=this[u+--f]*P;return g},a.prototype.readUint8=a.prototype.readUInt8=function(u,f){return u=u>>>0,f||V(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||V(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||V(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||V(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||V(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readBigUInt64LE=xt(function(u){u=u>>>0,we(u,"offset");const f=this[u],b=this[u+7];(f===void 0||b===void 0)&&Ue(u,this.length-8);const g=f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,P=this[++u]+this[++u]*2**8+this[++u]*2**16+b*2**24;return BigInt(g)+(BigInt(P)<<BigInt(32))}),a.prototype.readBigUInt64BE=xt(function(u){u=u>>>0,we(u,"offset");const f=this[u],b=this[u+7];(f===void 0||b===void 0)&&Ue(u,this.length-8);const g=f*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],P=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+b;return(BigInt(g)<<BigInt(32))+BigInt(P)}),a.prototype.readIntLE=function(u,f,b){u=u>>>0,f=f>>>0,b||V(u,f,this.length);let g=this[u],P=1,B=0;for(;++B<f&&(P*=256);)g+=this[u+B]*P;return P*=128,g>=P&&(g-=Math.pow(2,8*f)),g},a.prototype.readIntBE=function(u,f,b){u=u>>>0,f=f>>>0,b||V(u,f,this.length);let g=f,P=1,B=this[u+--g];for(;g>0&&(P*=256);)B+=this[u+--g]*P;return P*=128,B>=P&&(B-=Math.pow(2,8*f)),B},a.prototype.readInt8=function(u,f){return u=u>>>0,f||V(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,f){u=u>>>0,f||V(u,2,this.length);const b=this[u]|this[u+1]<<8;return b&32768?b|4294901760:b},a.prototype.readInt16BE=function(u,f){u=u>>>0,f||V(u,2,this.length);const b=this[u+1]|this[u]<<8;return b&32768?b|4294901760:b},a.prototype.readInt32LE=function(u,f){return u=u>>>0,f||V(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,f){return u=u>>>0,f||V(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readBigInt64LE=xt(function(u){u=u>>>0,we(u,"offset");const f=this[u],b=this[u+7];(f===void 0||b===void 0)&&Ue(u,this.length-8);const g=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(b<<24);return(BigInt(g)<<BigInt(32))+BigInt(f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),a.prototype.readBigInt64BE=xt(function(u){u=u>>>0,we(u,"offset");const f=this[u],b=this[u+7];(f===void 0||b===void 0)&&Ue(u,this.length-8);const g=(f<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(g)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+b)}),a.prototype.readFloatLE=function(u,f){return u=u>>>0,f||V(u,4,this.length),n.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,f){return u=u>>>0,f||V(u,4,this.length),n.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||V(u,8,this.length),n.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||V(u,8,this.length),n.read(this,u,!1,52,8)};function J(h,u,f,b,g,P){if(!a.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>g||u<P)throw new RangeError('"value" argument is out of bounds');if(f+b>h.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,f,b,g){if(u=+u,f=f>>>0,b=b>>>0,!g){const X=Math.pow(2,8*b)-1;J(this,u,f,b,X,0)}let P=1,B=0;for(this[f]=u&255;++B<b&&(P*=256);)this[f+B]=u/P&255;return f+b},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,f,b,g){if(u=+u,f=f>>>0,b=b>>>0,!g){const X=Math.pow(2,8*b)-1;J(this,u,f,b,X,0)}let P=b-1,B=1;for(this[f+P]=u&255;--P>=0&&(B*=256);)this[f+P]=u/B&255;return f+b},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,1,255,0),this[f]=u&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function ge(h,u,f,b,g){gt(u,b,g,h,f,7);let P=Number(u&BigInt(4294967295));h[f++]=P,P=P>>8,h[f++]=P,P=P>>8,h[f++]=P,P=P>>8,h[f++]=P;let B=Number(u>>BigInt(32)&BigInt(4294967295));return h[f++]=B,B=B>>8,h[f++]=B,B=B>>8,h[f++]=B,B=B>>8,h[f++]=B,f}function fe(h,u,f,b,g){gt(u,b,g,h,f,7);let P=Number(u&BigInt(4294967295));h[f+7]=P,P=P>>8,h[f+6]=P,P=P>>8,h[f+5]=P,P=P>>8,h[f+4]=P;let B=Number(u>>BigInt(32)&BigInt(4294967295));return h[f+3]=B,B=B>>8,h[f+2]=B,B=B>>8,h[f+1]=B,B=B>>8,h[f]=B,f+8}a.prototype.writeBigUInt64LE=xt(function(u,f=0){return ge(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xt(function(u,f=0){return fe(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(u,f,b,g){if(u=+u,f=f>>>0,!g){const re=Math.pow(2,8*b-1);J(this,u,f,b,re-1,-re)}let P=0,B=1,X=0;for(this[f]=u&255;++P<b&&(B*=256);)u<0&&X===0&&this[f+P-1]!==0&&(X=1),this[f+P]=(u/B>>0)-X&255;return f+b},a.prototype.writeIntBE=function(u,f,b,g){if(u=+u,f=f>>>0,!g){const re=Math.pow(2,8*b-1);J(this,u,f,b,re-1,-re)}let P=b-1,B=1,X=0;for(this[f+P]=u&255;--P>=0&&(B*=256);)u<0&&X===0&&this[f+P+1]!==0&&(X=1),this[f+P]=(u/B>>0)-X&255;return f+b},a.prototype.writeInt8=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},a.prototype.writeInt16LE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeInt16BE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeInt32LE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},a.prototype.writeInt32BE=function(u,f,b){return u=+u,f=f>>>0,b||J(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},a.prototype.writeBigInt64LE=xt(function(u,f=0){return ge(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xt(function(u,f=0){return fe(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function se(h,u,f,b,g,P){if(f+b>h.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ot(h,u,f,b,g){return u=+u,f=f>>>0,g||se(h,u,f,4),n.write(h,u,f,b,23,4),f+4}a.prototype.writeFloatLE=function(u,f,b){return ot(this,u,f,!0,b)},a.prototype.writeFloatBE=function(u,f,b){return ot(this,u,f,!1,b)};function Ne(h,u,f,b,g){return u=+u,f=f>>>0,g||se(h,u,f,8),n.write(h,u,f,b,52,8),f+8}a.prototype.writeDoubleLE=function(u,f,b){return Ne(this,u,f,!0,b)},a.prototype.writeDoubleBE=function(u,f,b){return Ne(this,u,f,!1,b)},a.prototype.copy=function(u,f,b,g){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(b||(b=0),!g&&g!==0&&(g=this.length),f>=u.length&&(f=u.length),f||(f=0),g>0&&g<b&&(g=b),g===b||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(g<0)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length),u.length-f<g-b&&(g=u.length-f+b);const P=g-b;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,b,g):Uint8Array.prototype.set.call(u,this.subarray(b,g),f),P},a.prototype.fill=function(u,f,b,g){if(typeof u=="string"){if(typeof f=="string"?(g=f,f=0,b=this.length):typeof b=="string"&&(g=b,b=this.length),g!==void 0&&typeof g!="string")throw new TypeError("encoding must be a string");if(typeof g=="string"&&!a.isEncoding(g))throw new TypeError("Unknown encoding: "+g);if(u.length===1){const B=u.charCodeAt(0);(g==="utf8"&&B<128||g==="latin1")&&(u=B)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<b)throw new RangeError("Out of range index");if(b<=f)return this;f=f>>>0,b=b===void 0?this.length:b>>>0,u||(u=0);let P;if(typeof u=="number")for(P=f;P<b;++P)this[P]=u;else{const B=a.isBuffer(u)?u:a.from(u,g),X=B.length;if(X===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(P=0;P<b-f;++P)this[P+f]=B[P%X]}return this};const Ke={};function Me(h,u,f){Ke[h]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(g){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:g,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}Me("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Me("ERR_INVALID_ARG_TYPE",function(h,u){return`The "${h}" argument must be of type number. Received type ${typeof u}`},TypeError),Me("ERR_OUT_OF_RANGE",function(h,u,f){let b=`The value of "${h}" is out of range.`,g=f;return Number.isInteger(f)&&Math.abs(f)>2**32?g=it(String(f)):typeof f=="bigint"&&(g=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(g=it(g)),g+="n"),b+=` It must be ${u}. Received ${g}`,b},RangeError);function it(h){let u="",f=h.length;const b=h[0]==="-"?1:0;for(;f>=b+4;f-=3)u=`_${h.slice(f-3,f)}${u}`;return`${h.slice(0,f)}${u}`}function bn(h,u,f){we(u,"offset"),(h[u]===void 0||h[u+f]===void 0)&&Ue(u,h.length-(f+1))}function gt(h,u,f,b,g,P){if(h>f||h<u){const B=typeof u=="bigint"?"n":"";let X;throw u===0||u===BigInt(0)?X=`>= 0${B} and < 2${B} ** ${(P+1)*8}${B}`:X=`>= -(2${B} ** ${(P+1)*8-1}${B}) and < 2 ** ${(P+1)*8-1}${B}`,new Ke.ERR_OUT_OF_RANGE("value",X,h)}bn(b,g,P)}function we(h,u){if(typeof h!="number")throw new Ke.ERR_INVALID_ARG_TYPE(u,"number",h)}function Ue(h,u,f){throw Math.floor(h)!==h?(we(h,f),new Ke.ERR_OUT_OF_RANGE("offset","an integer",h)):u<0?new Ke.ERR_BUFFER_OUT_OF_BOUNDS:new Ke.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,h)}const wt=/[^+/0-9A-Za-z-_]/g;function lr(h){if(h=h.split("=")[0],h=h.trim().replace(wt,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function so(h,u){u=u||1/0;let f;const b=h.length;let g=null;const P=[];for(let B=0;B<b;++B){if(f=h.charCodeAt(B),f>55295&&f<57344){if(!g){if(f>56319){(u-=3)>-1&&P.push(239,191,189);continue}else if(B+1===b){(u-=3)>-1&&P.push(239,191,189);continue}g=f;continue}if(f<56320){(u-=3)>-1&&P.push(239,191,189),g=f;continue}f=(g-55296<<10|f-56320)+65536}else g&&(u-=3)>-1&&P.push(239,191,189);if(g=null,f<128){if((u-=1)<0)break;P.push(f)}else if(f<2048){if((u-=2)<0)break;P.push(f>>6|192,f&63|128)}else if(f<65536){if((u-=3)<0)break;P.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((u-=4)<0)break;P.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return P}function V0(h){const u=[];for(let f=0;f<h.length;++f)u.push(h.charCodeAt(f)&255);return u}function W0(h,u){let f,b,g;const P=[];for(let B=0;B<h.length&&!((u-=2)<0);++B)f=h.charCodeAt(B),b=f>>8,g=f%256,P.push(g),P.push(b);return P}function Ss(h){return t.toByteArray(lr(h))}function dr(h,u,f,b){let g;for(g=0;g<b&&!(g+f>=u.length||g>=h.length);++g)u[g+f]=h[g];return g}function Ze(h,u){return h instanceof u||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===u.name}function ao(h){return h!==h}const K0=function(){const h="0123456789abcdef",u=new Array(256);for(let f=0;f<16;++f){const b=f*16;for(let g=0;g<16;++g)u[b+g]=h[f]+h[g]}return u}();function xt(h){return typeof BigInt>"u"?Z0:h}function Z0(){throw new Error("BigInt not supported")}})(Rr);const of="1.2.3";let Pe=class No extends Error{constructor(t,n={}){const r=n.cause instanceof No?n.cause.details:n.cause?.message?n.cause.message:n.details,o=n.cause instanceof No&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...o?[`Docs: https://abitype.dev${o}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${of}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.shortMessage=t}};function yt(e,t){return e.exec(t)?.groups}const qa=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Va=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Wa=/^\(.+?\).*?$/,Ts=/^tuple(?<array>(\[(\d*)\])*)$/;function Mo(e){let t=e.type;if(Ts.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let o=0;o<n;o++){const i=e.components[o];t+=Mo(i),o<n-1&&(t+=", ")}const r=yt(Ts,e.type);return t+=`)${r?.array||""}`,Mo({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Vt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const o=e[r];t+=Mo(o),r!==n-1&&(t+=", ")}return t}function Pr(e){return e.type==="function"?`function ${e.name}(${Vt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${Vt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Vt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Vt(e.inputs)})`:e.type==="constructor"?`constructor(${Vt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Ka=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function sf(e){return Ka.test(e)}function af(e){return yt(Ka,e)}const Za=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function cf(e){return Za.test(e)}function uf(e){return yt(Za,e)}const Ya=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ff(e){return Ya.test(e)}function lf(e){return yt(Ya,e)}const Ja=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Fr(e){return Ja.test(e)}function df(e){return yt(Ja,e)}const Xa=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function pf(e){return Xa.test(e)}function hf(e){return yt(Xa,e)}const Qa=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function mf(e){return Qa.test(e)}function bf(e){return yt(Qa,e)}const yf=/^receive\(\) external payable$/;function gf(e){return yf.test(e)}const Cs=new Set(["memory","indexed","storage","calldata"]),wf=new Set(["indexed"]),Uo=new Set(["calldata","memory","storage"]);class xf extends Pe{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class vf extends Pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Ef extends Pe{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Pf extends Pe{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Af extends Pe{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class If extends Pe{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Bf extends Pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class $f extends Pe{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Sf extends Pe{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class un extends Pe{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Tf extends Pe{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Cf extends Pe{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Rf extends Pe{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class kf extends Pe{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ff(e,t,n){let r="";if(n)for(const o of Object.entries(n)){if(!o)continue;let i="";for(const s of o[1])i+=`[${s.type}${s.name?`:${s.name}`:""}]`;r+=`(${o[0]}{${i}})`}return t?`${t}:${e}${r}`:`${e}${r}`}const uo=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function zo(e,t={}){if(ff(e))return _f(e,t);if(cf(e))return Of(e,t);if(sf(e))return Nf(e,t);if(pf(e))return Mf(e,t);if(mf(e))return Uf(e);if(gf(e))return{type:"receive",stateMutability:"payable"};throw new Tf({signature:e})}function _f(e,t={}){const n=lf(e);if(!n)throw new un({signature:e,type:"function"});const r=Se(n.parameters),o=[],i=r.length;for(let a=0;a<i;a++)o.push(mt(r[a],{modifiers:Uo,structs:t,type:"function"}));const s=[];if(n.returns){const a=Se(n.returns),c=a.length;for(let l=0;l<c;l++)s.push(mt(a[l],{modifiers:Uo,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:o,outputs:s}}function Of(e,t={}){const n=uf(e);if(!n)throw new un({signature:e,type:"event"});const r=Se(n.parameters),o=[],i=r.length;for(let s=0;s<i;s++)o.push(mt(r[s],{modifiers:wf,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:o}}function Nf(e,t={}){const n=af(e);if(!n)throw new un({signature:e,type:"error"});const r=Se(n.parameters),o=[],i=r.length;for(let s=0;s<i;s++)o.push(mt(r[s],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:o}}function Mf(e,t={}){const n=hf(e);if(!n)throw new un({signature:e,type:"constructor"});const r=Se(n.parameters),o=[],i=r.length;for(let s=0;s<i;s++)o.push(mt(r[s],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:o}}function Uf(e){const t=bf(e);if(!t)throw new un({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const zf=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Lf=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,jf=/^u?int$/;function mt(e,t){const n=Ff(e,t?.type,t?.structs);if(uo.has(n))return uo.get(n);const r=Wa.test(e),o=yt(r?Lf:zf,e);if(!o)throw new Af({param:e});if(o.name&&Hf(o.name))throw new If({param:e,name:o.name});const i=o.name?{name:o.name}:{},s=o.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,l={};if(r){c="tuple";const p=Se(o.type),m=[],y=p.length;for(let x=0;x<y;x++)m.push(mt(p[x],{structs:a}));l={components:m}}else if(o.type in a)c="tuple",l={components:a[o.type]};else if(jf.test(o.type))c=`${o.type}256`;else if(o.type==="address payable")c="address";else if(c=o.type,t?.type!=="struct"&&!ec(c))throw new Ef({type:c});if(o.modifier){if(!t?.modifiers?.has?.(o.modifier))throw new Bf({param:e,type:t?.type,modifier:o.modifier});if(Uo.has(o.modifier)&&!Gf(c,!!o.array))throw new $f({param:e,type:t?.type,modifier:o.modifier})}const d={type:`${c}${o.array??""}`,...i,...s,...l};return uo.set(n,d),d}function Se(e,t=[],n="",r=0){const o=e.trim().length;for(let i=0;i<o;i++){const s=e[i],a=e.slice(i+1);switch(s){case",":return r===0?Se(a,[...t,n.trim()]):Se(a,t,`${n}${s}`,r);case"(":return Se(a,t,`${n}${s}`,r+1);case")":return Se(a,t,`${n}${s}`,r-1);default:return Se(a,t,`${n}${s}`,r)}}if(n==="")return t;if(r!==0)throw new kf({current:n,depth:r});return t.push(n.trim()),t}function ec(e){return e==="address"||e==="bool"||e==="function"||e==="string"||qa.test(e)||Va.test(e)}const Df=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Hf(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||qa.test(e)||Va.test(e)||Df.test(e)}function Gf(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Pi(e){const t={},n=e.length;for(let s=0;s<n;s++){const a=e[s];if(!Fr(a))continue;const c=df(a);if(!c)throw new un({signature:a,type:"struct"});const l=c.properties.split(";"),d=[],p=l.length;for(let m=0;m<p;m++){const x=l[m].trim();if(!x)continue;const v=mt(x,{type:"struct"});d.push(v)}if(!d.length)throw new Cf({signature:a});t[c.name]=d}const r={},o=Object.entries(t),i=o.length;for(let s=0;s<i;s++){const[a,c]=o[s];r[a]=tc(c,t)}return r}const qf=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function tc(e=[],t={},n=new Set){const r=[],o=e.length;for(let i=0;i<o;i++){const s=e[i];if(Wa.test(s.type))r.push(s);else{const c=yt(qf,s.type);if(!c?.type)throw new Sf({abiParameter:s});const{array:l,type:d}=c;if(d in t){if(n.has(d))throw new Rf({type:d});r.push({...s,type:`tuple${l??""}`,components:tc(t[d],t,new Set([...n,d]))})}else if(ec(d))r.push(s);else throw new vf({type:d})}}return r}function nc(e){const t=Pi(e),n=[],r=e.length;for(let o=0;o<r;o++){const i=e[o];Fr(i)||n.push(zo(i,t))}return n}function Rs(e){let t;if(typeof e=="string")t=zo(e);else{const n=Pi(e),r=e.length;for(let o=0;o<r;o++){const i=e[o];if(!Fr(i)){t=zo(i,n);break}}}if(!t)throw new xf({signature:e});return t}function ks(e){const t=[];if(typeof e=="string"){const n=Se(e),r=n.length;for(let o=0;o<r;o++)t.push(mt(n[o],{modifiers:Cs}))}else{const n=Pi(e),r=e.length;for(let o=0;o<r;o++){const i=e[o];if(Fr(i))continue;const s=Se(i),a=s.length;for(let c=0;c<a;c++)t.push(mt(s[c],{modifiers:Cs,structs:n}))}}if(t.length===0)throw new Pf({params:e});return t}const Vf="0.1.1";function Wf(){return Vf}let ye=class Lo extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof Lo){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause?.message?n.cause.message:n.details})(),o=n.cause instanceof Lo&&n.cause.docsPath||n.docsPath,s=`https://oxlib.sh${o??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||o?["",r?`Details: ${r}`:void 0,o?`See: ${s}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Wf()}`}),this.cause=n.cause,this.details=r,this.docs=s,this.docsPath=o,this.shortMessage=t}walk(t){return rc(this,t)}};function rc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?rc(e.cause,t):t?null:e}const Ht=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Pn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function kt(e,...t){if(!Kf(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Zf(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Pn(e.outputLen),Pn(e.blockLen)}function nn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function oc(e,t){kt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Yf(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function rn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function fo(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ye(e,t){return e<<32-t|e>>>t}const Jf=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Xf(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function Qf(e){for(let t=0;t<e.length;t++)e[t]=Xf(e[t]);return e}const Fs=Jf?e=>e:Qf;function el(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function _r(e){return typeof e=="string"&&(e=el(e)),kt(e),e}function tl(...e){let t=0;for(let r=0;r<e.length;r++){const o=e[r];kt(o),t+=o.length}const n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const i=e[r];n.set(i,o),o+=i.length}return n}class Ai{}function ic(e){const t=r=>e().update(_r(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function nl(e=32){if(Ht&&typeof Ht.getRandomValues=="function")return Ht.getRandomValues(new Uint8Array(e));if(Ht&&typeof Ht.randomBytes=="function")return Uint8Array.from(Ht.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function rl(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),s=Number(n>>o&i),a=Number(n&i),c=r?4:0,l=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+l,a,r)}function ol(e,t,n){return e&t^~e&n}function il(e,t,n){return e&t^e&n^t&n}class sl extends Ai{constructor(t,n,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(t),this.view=fo(this.buffer)}update(t){nn(this),t=_r(t),kt(t);const{view:n,buffer:r,blockLen:o}=this,i=t.length;for(let s=0;s<i;){const a=Math.min(o-this.pos,i-s);if(a===o){const c=fo(t);for(;o<=i-s;s+=o)this.process(c,s);continue}r.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){nn(this),oc(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:s}=this;n[s++]=128,rn(this.buffer.subarray(s)),this.padOffset>o-s&&(this.process(r,0),s=0);for(let p=s;p<o;p++)n[p]=0;rl(r,o-8,BigInt(this.length*8),i),this.process(r,0);const a=fo(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<l;p++)a.setUint32(4*p,d[p],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=i,t.length=o,t.pos=a,o%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const vt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pr=BigInt(2**32-1),_s=BigInt(32);function al(e,t=!1){return t?{h:Number(e&pr),l:Number(e>>_s&pr)}:{h:Number(e>>_s&pr)|0,l:Number(e&pr)|0}}function cl(e,t=!1){const n=e.length;let r=new Uint32Array(n),o=new Uint32Array(n);for(let i=0;i<n;i++){const{h:s,l:a}=al(e[i],t);[r[i],o[i]]=[s,a]}return[r,o]}const ul=(e,t,n)=>e<<n|t>>>32-n,fl=(e,t,n)=>t<<n|e>>>32-n,ll=(e,t,n)=>t<<n-32|e>>>64-n,dl=(e,t,n)=>e<<n-32|t>>>64-n,pl=BigInt(0),yn=BigInt(1),hl=BigInt(2),ml=BigInt(7),bl=BigInt(256),yl=BigInt(113),sc=[],ac=[],cc=[];for(let e=0,t=yn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],sc.push(2*(5*r+n)),ac.push((e+1)*(e+2)/2%64);let o=pl;for(let i=0;i<7;i++)t=(t<<yn^(t>>ml)*yl)%bl,t&hl&&(o^=yn<<(yn<<BigInt(i))-yn);cc.push(o)}const uc=cl(cc,!0),gl=uc[0],wl=uc[1],Os=(e,t,n)=>n>32?ll(e,t,n):ul(e,t,n),Ns=(e,t,n)=>n>32?dl(e,t,n):fl(e,t,n);function xl(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let s=0;s<10;s++)n[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const a=(s+8)%10,c=(s+2)%10,l=n[c],d=n[c+1],p=Os(l,d,1)^n[a],m=Ns(l,d,1)^n[a+1];for(let y=0;y<50;y+=10)e[s+y]^=p,e[s+y+1]^=m}let o=e[2],i=e[3];for(let s=0;s<24;s++){const a=ac[s],c=Os(o,i,a),l=Ns(o,i,a),d=sc[s];o=e[d],i=e[d+1],e[d]=c,e[d+1]=l}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)n[a]=e[s+a];for(let a=0;a<10;a++)e[s+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=gl[r],e[1]^=wl[r]}rn(n)}class Ii extends Ai{constructor(t,n,r,o=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=o,this.rounds=i,Pn(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Yf(this.state)}clone(){return this._cloneInto()}keccak(){Fs(this.state32),xl(this.state32,this.rounds),Fs(this.state32),this.posOut=0,this.pos=0}update(t){nn(this),t=_r(t),kt(t);const{blockLen:n,state:r}=this,o=t.length;for(let i=0;i<o;){const s=Math.min(n-this.pos,o-i);for(let a=0;a<s;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:o}=this;t[r]^=n,n&128&&r===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){nn(this,!1),kt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let o=0,i=t.length;o<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-o);t.set(n.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pn(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(oc(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,rn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:o,rounds:i,enableXOF:s}=this;return t||(t=new Ii(n,r,o,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=o,t.enableXOF=s,t.destroyed=this.destroyed,t}}const vl=(e,t,n)=>ic(()=>new Ii(t,e,n)),Bi=vl(1,136,256/8),El=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Et=new Uint32Array(64);class Pl extends sl{constructor(t=32){super(64,t,8,!1),this.A=vt[0]|0,this.B=vt[1]|0,this.C=vt[2]|0,this.D=vt[3]|0,this.E=vt[4]|0,this.F=vt[5]|0,this.G=vt[6]|0,this.H=vt[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:s,G:a,H:c}=this;return[t,n,r,o,i,s,a,c]}set(t,n,r,o,i,s,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(t,n){for(let p=0;p<16;p++,n+=4)Et[p]=t.getUint32(n,!1);for(let p=16;p<64;p++){const m=Et[p-15],y=Et[p-2],x=Ye(m,7)^Ye(m,18)^m>>>3,v=Ye(y,17)^Ye(y,19)^y>>>10;Et[p]=v+Et[p-7]+x+Et[p-16]|0}let{A:r,B:o,C:i,D:s,E:a,F:c,G:l,H:d}=this;for(let p=0;p<64;p++){const m=Ye(a,6)^Ye(a,11)^Ye(a,25),y=d+m+ol(a,c,l)+El[p]+Et[p]|0,v=(Ye(r,2)^Ye(r,13)^Ye(r,22))+il(r,o,i)|0;d=l,l=c,c=a,a=s+y|0,s=i,i=o,o=r,r=y+v|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,o,i,s,a,c,l,d)}roundClean(){rn(Et)}destroy(){this.set(0,0,0,0,0,0,0,0),rn(this.buffer)}}const fc=ic(()=>new Pl),Al=fc,Il="#__bigint";function $i(e,t,n){return JSON.stringify(e,(r,o)=>typeof t=="function"?t(r,o):typeof o=="bigint"?o.toString()+Il:o,n)}$i.parseError=e=>e;function Bl(e,t){if(jo(e)>t)throw new _l({givenSize:jo(e),maxSize:t})}const st={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ms(e){if(e>=st.zero&&e<=st.nine)return e-st.zero;if(e>=st.A&&e<=st.F)return e-(st.A-10);if(e>=st.a&&e<=st.f)return e-(st.a-10)}function $l(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Ol({size:e.length,targetSize:r,type:"Bytes"});const o=new Uint8Array(r);for(let i=0;i<r;i++){const s=n==="right";o[s?i:r-i-1]=e[s?i:e.length-i-1]}return o}function Si(e,t){if(Ar(e)>t)throw new Rl({givenSize:Ar(e),maxSize:t})}function lc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const o=e.replace("0x","");if(o.length>r*2)throw new kl({size:Math.ceil(o.length/2),targetSize:r,type:"Hex"});return`0x${o[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Sl=new TextEncoder,Tl=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dc(e,t={}){const{strict:n=!1}=t;if(!e)throw new Us(e);if(typeof e!="string")throw new Us(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new zs(e);if(!e.startsWith("0x"))throw new zs(e)}dc.parseError=e=>e;function Ti(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}Ti.parseError=e=>e;function pc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Si(n,t.size),An(n,t.size)):n}pc.parseError=e=>e;function Ci(e,t={}){let n="";for(let o=0;o<e.length;o++)n+=Tl[e[o]];const r=`0x${n}`;return typeof t.size=="number"?(Si(r,t.size),Or(r,t.size)):r}Ci.parseError=e=>e;function hc(e,t={}){const{signed:n,size:r}=t,o=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<s){const l=typeof e=="bigint"?"n":"";throw new Cl({max:i?`${i}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?An(c,r):c}hc.parseError=e=>e;function mc(e,t={}){return Ci(Sl.encode(e),t)}mc.parseError=e=>e;function An(e,t){return lc(e,{dir:"left",size:t})}An.parseError=e=>e;function Or(e,t){return lc(e,{dir:"right",size:t})}Or.parseError=e=>e;function Ar(e){return Math.ceil((e.length-2)/2)}Ar.parseError=e=>e;function bc(e,t={}){const{strict:n=!1}=t;try{return dc(e,{strict:n}),!0}catch{return!1}}bc.parseError=e=>e;let Cl=class extends ye{constructor({max:t,min:n,signed:r,size:o,value:i}){super(`Number \`${i}\` is not in safe${o?` ${o*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},Us=class extends ye{constructor(t){super(`Value \`${typeof t=="object"?$i(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},zs=class extends ye{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Rl=class extends ye{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},kl=class extends ye{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const Fl=new TextEncoder;function yc(e){if(!(e instanceof Uint8Array)){if(!e)throw new hr(e);if(typeof e!="object")throw new hr(e);if(!("BYTES_PER_ELEMENT"in e))throw new hr(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new hr(e)}}yc.parseError=e=>e;function gc(e){return e instanceof Uint8Array?e:typeof e=="string"?xc(e):wc(e)}gc.parseError=e=>e;function wc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}wc.parseError=e=>e;function xc(e,t={}){const{size:n}=t;let r=e;n&&(Si(e,n),r=Or(e,n));let o=r.slice(2);o.length%2&&(o=`0${o}`);const i=o.length/2,s=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=Ms(o.charCodeAt(c++)),d=Ms(o.charCodeAt(c++));if(l===void 0||d===void 0)throw new ye(`Invalid byte sequence ("${o[c-2]}${o[c-1]}" in "${o}").`);s[a]=l*16+d}return s}xc.parseError=e=>e;function vc(e,t={}){const{size:n}=t,r=Fl.encode(e);return typeof n=="number"?(Bl(r,n),Ec(r,n)):r}vc.parseError=e=>e;function Ec(e,t){return $l(e,{dir:"right",size:t})}Ec.parseError=e=>e;function jo(e){return e.length}jo.parseError=e=>e;function Pc(e){try{return yc(e),!0}catch{return!1}}Pc.parseError=e=>e;class hr extends ye{constructor(t){super(`Value \`${typeof t=="object"?$i(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let _l=class extends ye{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Ol=class extends ye{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function Ri(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Bi(gc(e));return n==="Bytes"?r:Ci(r)}Ri.parseError=e=>e;let Nl=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ml={checksum:new Nl(8192)},lo=Ml.checksum,Ul=/^0x[a-fA-F0-9]{40}$/;function ki(e,t={}){const{strict:n=!0}=t;if(!Ul.test(e))throw new Ls({address:e,cause:new zl});if(n){if(e.toLowerCase()===e)return;if(Ac(e)!==e)throw new Ls({address:e,cause:new Ll})}}ki.parseError=e=>e;function Ac(e){if(lo.has(e))return lo.get(e);ki(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Ri(vc(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const o=`0x${r.join("")}`;return lo.set(e,o),o}Ac.parseError=e=>e;let Ls=class extends ye{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},zl=class extends ye{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},Ll=class extends ye{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const jl=/^(.*)\[([0-9]*)\]$/,Dl=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Hl=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function In(e,t){if(e.length!==t.length)throw new ql({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r];n.push(In.encode(o,i))}return Ti(...n)}(function(e){function t(n,r,o=!1){if(n==="address"){const c=r;return ki(c),An(c.toLowerCase(),o?32:0)}if(n==="string")return mc(r);if(n==="bytes")return r;if(n==="bool")return An(pc(r),o?32:1);const i=n.match(Hl);if(i){const[c,l,d="256"]=i,p=Number.parseInt(d)/8;return hc(r,{size:o?32:p,signed:l==="int"})}const s=n.match(Dl);if(s){const[c,l]=s;if(Number.parseInt(l)!==(r.length-2)/2)throw new Gl({expectedSize:Number.parseInt(l),value:r});return Or(r,o?32:0)}const a=n.match(jl);if(a&&Array.isArray(r)){const[c,l]=a,d=[];for(let p=0;p<r.length;p++)d.push(t(l,r[p],!0));return d.length===0?"0x":Ti(...d)}throw new Vl(n)}e.encode=t})(In||(In={}));In.parseError=e=>e;let Gl=class extends ye{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Ar(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},ql=class extends ye{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},Vl=class extends ye{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};class Ic extends Ai{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Zf(t);const r=_r(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),rn(i)}update(t){return nn(this),this.iHash.update(t),this}digestInto(t){nn(this),kt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Bc=(e,t,n)=>new Ic(e,t).update(n).digest();Bc.create=(e,t)=>new Ic(e,t);function Wl(e){return Pc(e)||bc(e)?Fi(e):Zl(e)}function Kl(e){const[t,n]=e.reduce(([r,o],[i,s])=>(r.push(i),o.push(s),[r,o]),[[],[]]);return Fi(In(t,n))}function Zl(e){const t=Rr.Buffer.from(e);return Fi(t)}function Fi(e){const t=BigInt(Ri(e,{as:"Hex"}))>>8n,n=t.toString(16);return{hash:t,digest:`0x${n.padStart(64,"0")}`}}var $c=e=>!e||typeof e=="string"?Wl(e??""):Kl(e.types.map((t,n)=>[t,e.values[n]])),Sc=e=>e?typeof e=="string"?e:e.types.map((t,n)=>`${t}(${e.values[n]})`).join(","):"";const Yl={},js=e=>{let t;const n=new Set,r=(d,p)=>{const m=typeof d=="function"?d(t):d;if(!Object.is(m,t)){const y=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,y))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>l,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Yl?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,o,c);return c},Jl=e=>e?js(e):js;var Tc={exports:{}},Z={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _i=Symbol.for("react.transitional.element"),Xl=Symbol.for("react.portal"),Ql=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),td=Symbol.for("react.profiler"),nd=Symbol.for("react.consumer"),rd=Symbol.for("react.context"),od=Symbol.for("react.forward_ref"),id=Symbol.for("react.suspense"),sd=Symbol.for("react.memo"),Cc=Symbol.for("react.lazy"),ad=Symbol.for("react.activity"),Ds=Symbol.iterator;function cd(e){return e===null||typeof e!="object"?null:(e=Ds&&e[Ds]||e["@@iterator"],typeof e=="function"?e:null)}var Rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kc=Object.assign,Fc={};function fn(e,t,n){this.props=e,this.context=t,this.refs=Fc,this.updater=n||Rc}fn.prototype.isReactComponent={};fn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _c(){}_c.prototype=fn.prototype;function Oi(e,t,n){this.props=e,this.context=t,this.refs=Fc,this.updater=n||Rc}var Ni=Oi.prototype=new _c;Ni.constructor=Oi;kc(Ni,fn.prototype);Ni.isPureReactComponent=!0;var Hs=Array.isArray;function Do(){}var ee={H:null,A:null,T:null,S:null},Oc=Object.prototype.hasOwnProperty;function Mi(e,t,n){var r=n.ref;return{$$typeof:_i,type:e,key:t,ref:r!==void 0?r:null,props:n}}function ud(e,t){return Mi(e.type,t,e.props)}function Ui(e){return typeof e=="object"&&e!==null&&e.$$typeof===_i}function fd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gs=/\/+/g;function po(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fd(""+e.key):t.toString(36)}function ld(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Do,Do):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Wt(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case _i:case Xl:s=!0;break;case Cc:return s=e._init,Wt(s(e._payload),t,n,r,o)}}if(s)return o=o(e),s=r===""?"."+po(e,0):r,Hs(o)?(n="",s!=null&&(n=s.replace(Gs,"$&/")+"/"),Wt(o,t,n,"",function(l){return l})):o!=null&&(Ui(o)&&(o=ud(o,n+(o.key==null||e&&e.key===o.key?"":(""+o.key).replace(Gs,"$&/")+"/")+s)),t.push(o)),1;s=0;var a=r===""?".":r+":";if(Hs(e))for(var c=0;c<e.length;c++)r=e[c],i=a+po(r,c),s+=Wt(r,t,n,i,o);else if(c=cd(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,i=a+po(r,c++),s+=Wt(r,t,n,i,o);else if(i==="object"){if(typeof e.then=="function")return Wt(ld(e),t,n,r,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function mr(e,t,n){if(e==null)return e;var r=[],o=0;return Wt(e,r,"","",function(i){return t.call(n,i,o++)}),r}function dd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pd={map:mr,forEach:function(e,t,n){mr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mr(e,function(){t++}),t},toArray:function(e){return mr(e,function(t){return t})||[]},only:function(e){if(!Ui(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Activity=ad;Z.Children=pd;Z.Component=fn;Z.Fragment=Ql;Z.Profiler=td;Z.PureComponent=Oi;Z.StrictMode=ed;Z.Suspense=id;Z.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee;Z.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ee.H.useMemoCache(e)}};Z.cache=function(e){return function(){return e.apply(null,arguments)}};Z.cacheSignal=function(){return null};Z.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=kc({},e.props),o=e.key;if(t!=null)for(i in t.key!==void 0&&(o=""+t.key),t)!Oc.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(r[i]=t[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var s=Array(i),a=0;a<i;a++)s[a]=arguments[a+2];r.children=s}return Mi(e.type,o,r)};Z.createContext=function(e){return e={$$typeof:rd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:nd,_context:e},e};Z.createElement=function(e,t,n){var r,o={},i=null;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)Oc.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(o[r]=t[r]);var s=arguments.length-2;if(s===1)o.children=n;else if(1<s){for(var a=Array(s),c=0;c<s;c++)a[c]=arguments[c+2];o.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)o[r]===void 0&&(o[r]=s[r]);return Mi(e,i,o)};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:od,render:e}};Z.isValidElement=Ui;Z.lazy=function(e){return{$$typeof:Cc,_payload:{_status:-1,_result:e},_init:dd}};Z.memo=function(e,t){return{$$typeof:sd,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=ee.T,n={};ee.T=n;try{var r=e(),o=ee.S;o!==null&&o(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Do,qs)}catch(i){qs(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),ee.T=t}};Z.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()};Z.use=function(e){return ee.H.use(e)};Z.useActionState=function(e,t,n){return ee.H.useActionState(e,t,n)};Z.useCallback=function(e,t){return ee.H.useCallback(e,t)};Z.useContext=function(e){return ee.H.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e,t){return ee.H.useDeferredValue(e,t)};Z.useEffect=function(e,t){return ee.H.useEffect(e,t)};Z.useEffectEvent=function(e){return ee.H.useEffectEvent(e)};Z.useId=function(){return ee.H.useId()};Z.useImperativeHandle=function(e,t,n){return ee.H.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return ee.H.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return ee.H.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return ee.H.useMemo(e,t)};Z.useOptimistic=function(e,t){return ee.H.useOptimistic(e,t)};Z.useReducer=function(e,t,n){return ee.H.useReducer(e,t,n)};Z.useRef=function(e){return ee.H.useRef(e)};Z.useState=function(e){return ee.H.useState(e)};Z.useSyncExternalStore=function(e,t,n){return ee.H.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return ee.H.useTransition()};Z.version="19.2.3";Tc.exports=Z;var zi=Tc.exports;const hd=Ha(zi);var Nc={exports:{}},Mc={},Uc={exports:{}},zc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=zi;function md(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bd=typeof Object.is=="function"?Object.is:md,yd=on.useState,gd=on.useEffect,wd=on.useLayoutEffect,xd=on.useDebugValue;function vd(e,t){var n=t(),r=yd({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return wd(function(){o.value=n,o.getSnapshot=t,ho(o)&&i({inst:o})},[e,n,t]),gd(function(){return ho(o)&&i({inst:o}),e(function(){ho(o)&&i({inst:o})})},[e]),xd(n),n}function ho(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bd(e,n)}catch{return!0}}function Ed(e,t){return t()}var Pd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ed:vd;zc.useSyncExternalStore=on.useSyncExternalStore!==void 0?on.useSyncExternalStore:Pd;Uc.exports=zc;var Ad=Uc.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=zi,Id=Ad;function Bd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $d=typeof Object.is=="function"?Object.is:Bd,Sd=Id.useSyncExternalStore,Td=Nr.useRef,Cd=Nr.useEffect,Rd=Nr.useMemo,kd=Nr.useDebugValue;Mc.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=Td(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Rd(function(){function c(y){if(!l){if(l=!0,d=y,y=r(y),o!==void 0&&s.hasValue){var x=s.value;if(o(x,y))return p=x}return p=y}if(x=p,$d(d,y))return x;var v=r(y);return o!==void 0&&o(x,v)?(d=y,x):(d=y,p=v)}var l=!1,d,p,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,o]);var a=Sd(e,i[0],i[1]);return Cd(function(){s.hasValue=!0,s.value=a},[a]),kd(a),a};Nc.exports=Mc;var Fd=Nc.exports;const _d=Ha(Fd),Lc={},{useDebugValue:Od}=hd,{useSyncExternalStoreWithSelector:Nd}=_d;let Vs=!1;const Md=e=>e;function Ud(e,t=Md,n){(Lc?"production":void 0)!=="production"&&n&&!Vs&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Vs=!0);const r=Nd(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Od(r),r}const Ws=e=>{(Lc?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Jl(e):e,n=(r,o)=>Ud(t,r,o);return Object.assign(n,t),n},zd=e=>e?Ws(e):Ws;var Ld=typeof window<"u"&&typeof window.document<"u";typeof process<"u"&&process.versions!=null&&process.versions.node!=null;typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&"userAgent"in navigator&&typeof navigator.userAgent=="string"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";var $e=(e=>(e.ConnectionFailed="connection_failed",e.VerificationRejected="verification_rejected",e.MaxVerificationsReached="max_verifications_reached",e.CredentialUnavailable="credential_unavailable",e.MalformedRequest="malformed_request",e.InvalidNetwork="invalid_network",e.InclusionProofFailed="inclusion_proof_failed",e.InclusionProofPending="inclusion_proof_pending",e.UnexpectedResponse="unexpected_response",e.FailedByHostApp="failed_by_host_app",e.GenericError="generic_error",e))($e||{}),Ft=(e=>(e.Orb="orb",e.SecureDocument="secure_document",e.Document="document",e.Device="device",e))(Ft||{});function jd(e,t){try{new URL(e)}catch{return{valid:!1,errors:["Failed to parse Bridge URL."]}}const n=new URL(e),r=[];return t&&["localhost","127.0.0.1"].includes(n.hostname)?(console.log("Using staging app_id with localhost bridge_url. Skipping validation."),{valid:!0}):(n.protocol!=="https:"&&r.push("Bridge URL must use HTTPS."),n.port&&r.push("Bridge URL must use the default port (443)."),n.pathname!=="/"&&r.push("Bridge URL must not have a path."),n.search&&r.push("Bridge URL must not have query parameters."),n.hash&&r.push("Bridge URL must not have a fragment."),!n.hostname.endsWith(".worldcoin.org")&&!n.hostname.endsWith(".toolsforhumanity.com")&&console.warn("Bridge URL should be a subdomain of worldcoin.org or toolsforhumanity.com. The user's identity wallet may refuse to connect. This is a temporary measure and may be removed in the future."),r.length?{valid:!1,errors:r}:{valid:!0})}var Dd=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Hd=()=>Ld,Gd=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw new Error("Unable to locate global object")},br=()=>{const e=Gd();if(typeof e.crypto<"u")return e.crypto;throw new Error("Crypto API not available. For React Native, ensure polyfills are set up properly.")},Ks="orb",Jt=e=>Rr.Buffer.from(e).toString("base64"),Li=e=>Rr.Buffer.from(e,"base64"),qd=e=>{switch(e){case"device":return["orb","device"];case"document":return["document","secure_document","orb"];case"secure_document":return["secure_document","orb"];case"orb":return["orb"];default:throw new Error(`Unknown verification level: ${e}`)}},Vd=e=>{switch(e){case"orb":return"orb";case"secure_document":return"secure_document";case"document":return"document";case"device":return"device";default:throw new Error(`Unknown credential_type: ${e}`)}},Wd=class{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}async generateKey(){return{iv:window.crypto.getRandomValues(new Uint8Array(12)),key:await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}}async exportKey(e){return Jt(await window.crypto.subtle.exportKey("raw",e))}async encryptRequest(e,t,n){return{iv:Jt(t),payload:Jt(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,this.encoder.encode(n)))}}async decryptResponse(e,t,n){return this.decoder.decode(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,Li(n)))}},Kd=class{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}async generateKey(){const e=br();return{iv:e.getRandomValues(new Uint8Array(12)),key:await e.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}}async exportKey(e){const t=br();return Jt(await t.subtle.exportKey("raw",e))}async encryptRequest(e,t,n){const r=br();return{iv:Jt(t),payload:Jt(await r.subtle.encrypt({name:"AES-GCM",iv:t},e,this.encoder.encode(n)))}}async decryptResponse(e,t,n){const r=br();return this.decoder.decode(await r.subtle.decrypt({name:"AES-GCM",iv:t},e,Li(n)))}},Gt=null,Mr=()=>{if(Gt)return Gt;if(Hd())return Gt=new Wd,Gt;if(Dd())return Gt=new Kd,Gt;throw new Error("Unsupported platform")},Zd=async()=>Mr().generateKey(),Yd=async e=>Mr().exportKey(e),Jd=async(e,t,n)=>Mr().encryptRequest(e,t,n),Xd=async(e,t,n)=>Mr().decryptResponse(e,t,n),yr="https://bridge.worldcoin.org",Qd=(e,t)=>({iv:null,key:null,result:null,errorCode:null,requestId:null,connectorURI:null,bridge_url:yr,verificationState:"loading_widget",createClient:async({bridge_url:n,app_id:r,verification_level:o,action_description:i,action:s,signal:a,partner:c})=>{const{key:l,iv:d}=await Zd();if(n){const y=jd(n,r.includes("staging"));if(!y.valid)throw console.error(y.errors.join(`
`)),e({verificationState:"failed"}),new Error("Invalid bridge_url. Please check the console for more details.")}const p=await fetch(new URL("/request",n??yr),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(await Jd(l,d,JSON.stringify({app_id:r,action_description:i,action:Sc(s),signal:$c(a).digest,credential_types:qd(o??Ks),verification_level:o??Ks})))});if(!p.ok)throw e({verificationState:"failed"}),new Error("Failed to create client");const{request_id:m}=await p.json();e({iv:d,key:l,requestId:m,bridge_url:n??yr,verificationState:"awaiting_connection",connectorURI:`https://world.org/verify?t=wld&i=${m}&k=${encodeURIComponent(await Yd(l))}${n&&n!==yr?`&b=${encodeURIComponent(n)}`:""}${c?`&partner=${encodeURIComponent(!0)}`:""}`})},pollForUpdates:async()=>{const n=t().key;if(!n)throw new Error("No keypair found. Please call `createClient` first.");const r=await fetch(new URL(`/response/${t().requestId}`,t().bridge_url));if(!r.ok)return e({errorCode:"connection_failed",verificationState:"failed"});const{response:o,status:i}=await r.json();if(i!="completed")return e({verificationState:i=="retrieved"?"awaiting_app":"awaiting_connection"});let s=JSON.parse(await Xd(n,Li(o.iv),o.payload));if("error_code"in s)return e({errorCode:s.error_code,verificationState:"failed"});"credential_type"in s&&(s={verification_level:Vd(s.credential_type),...s}),e({result:s,key:null,requestId:null,connectorURI:null,verificationState:"confirmed"})},reset:()=>{e({iv:null,key:null,result:null,errorCode:null,requestId:null,connectorURI:null,verificationState:"loading_widget"})}});zd(Qd);function q(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const o=e[n];return typeof o=="function"?o:i=>t(e,i)}function je(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new pp(e.type);return`${e.name}(${Ur(e.inputs,{includeName:t})})`}function Ur(e,{includeName:t=!1}={}){return e?e.map(n=>ep(n,{includeName:t})).join(t?", ":","):""}function ep(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Ur(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function et(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ne(e){return et(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const jc="2.43.3";let mo={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${jc}`},R=class Ho extends Error{constructor(t,n={}){const r=n.cause instanceof Ho?n.cause.details:n.cause?.message?n.cause.message:n.details,o=n.cause instanceof Ho&&n.cause.docsPath||n.docsPath,i=mo.getDocsUrl?.({...n,docsPath:o}),s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...mo.version?[`Version: ${mo.version}`]:[]].join(`
`);super(s,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=o,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=jc}walk(t){return Dc(this,t)}};function Dc(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Dc(e.cause,t):t?null:e}class tp extends R{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Zs extends R{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class Hc extends R{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Ur(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Xn extends R{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class np extends R{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class rp extends R{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class op extends R{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class ip extends R{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Ys extends R{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Gc extends R{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class sp extends R{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class ap extends R{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Js extends R{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class sn extends R{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class qc extends R{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class cp extends R{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class up extends R{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${je(t.abiItem)}\`, and`,`\`${n.type}\` in \`${je(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let fp=class extends R{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Ir extends R{constructor({abiItem:t,data:n,params:r,size:o}){super([`Data size of ${o} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Ur(r,{includeName:!0})})`,`Data:   ${n} (${o} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=o}}class ji extends R{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${je(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class lp extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class dp extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Vc=class extends R{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class pp extends R{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class hp extends R{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Wc=class extends R{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Kc=class extends R{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Xs extends R{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function ln(e,{dir:t,size:n=32}={}){return typeof e=="string"?Pt(e,{dir:t,size:n}):mp(e,{dir:t,size:n})}function Pt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Kc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function mp(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Kc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let o=0;o<n;o++){const i=t==="right";r[i?o:n-o-1]=e[i?o:e.length-o-1]}return r}let Zc=class extends R{constructor({max:t,min:n,signed:r,size:o,value:i}){super(`Number "${i}" is not in safe ${o?`${o*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},bp=class extends R{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class yp extends R{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let gp=class extends R{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Le(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let o=0;o<n.length-1&&n[t==="left"?o:n.length-o-1].toString()==="0";o++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function qe(e,{size:t}){if(ne(e)>t)throw new gp({givenSize:ne(e),maxSize:t})}function he(e,t={}){const{signed:n}=t;t.size&&qe(e,{size:t.size});const r=BigInt(e);if(!n)return r;const o=(e.length-2)/2,i=(1n<<BigInt(o)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(o*2,"f")}`)-1n}function wp(e,t={}){let n=e;if(t.size&&(qe(n,{size:t.size}),n=Le(n)),Le(n)==="0x00")return!1;if(Le(n)==="0x01")return!0;throw new yp(n)}function tt(e,t={}){return Number(he(e,t))}const xp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Te(e,t={}){return typeof e=="number"||typeof e=="bigint"?M(e,t):typeof e=="string"?Bn(e,t):typeof e=="boolean"?Yc(e,t):ie(e,t)}function Yc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(qe(n,{size:t.size}),ln(n,{size:t.size})):n}function ie(e,t={}){let n="";for(let o=0;o<e.length;o++)n+=xp[e[o]];const r=`0x${n}`;return typeof t.size=="number"?(qe(r,{size:t.size}),ln(r,{dir:"right",size:t.size})):r}function M(e,t={}){const{signed:n,size:r}=t,o=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<s){const c=typeof e=="bigint"?"n":"";throw new Zc({max:i?`${i}${c}`:void 0,min:`${s}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&o<0?(1n<<BigInt(r*8))+BigInt(o):o).toString(16)}`;return r?ln(a,{size:r}):a}const vp=new TextEncoder;function Bn(e,t={}){const n=vp.encode(e);return ie(n,t)}const Ep=new TextEncoder;function dn(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ap(e,t):typeof e=="boolean"?Pp(e,t):et(e)?nt(e,t):Ct(e,t)}function Pp(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(qe(n,{size:t.size}),ln(n,{size:t.size})):n}const at={zero:48,nine:57,A:65,F:70,a:97,f:102};function Qs(e){if(e>=at.zero&&e<=at.nine)return e-at.zero;if(e>=at.A&&e<=at.F)return e-(at.A-10);if(e>=at.a&&e<=at.f)return e-(at.a-10)}function nt(e,t={}){let n=e;t.size&&(qe(n,{size:t.size}),n=ln(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const o=r.length/2,i=new Uint8Array(o);for(let s=0,a=0;s<o;s++){const c=Qs(r.charCodeAt(a++)),l=Qs(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new R(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[s]=c*16+l}return i}function Ap(e,t){const n=M(e,t);return nt(n)}function Ct(e,t={}){const n=Ep.encode(e);return typeof t.size=="number"?(qe(n,{size:t.size}),ln(n,{dir:"right",size:t.size})):n}function le(e,t){const n=t||"hex",r=Bi(et(e,{strict:!1})?dn(e):e);return n==="bytes"?r:Te(r)}const Ip=e=>le(dn(e));function Bp(e){return Ip(e)}function $p(e){let t=!0,n="",r=0,o="",i=!1;for(let s=0;s<e.length;s++){const a=e[s];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(o))o="";else if(o+=a,a===")"){i=!0;break}continue}if(a===" "){e[s-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}o+=a,n+=a}}if(!i)throw new R("Unable to normalize signature.");return o}const Sp=e=>{const t=typeof e=="string"?e:Pr(e);return $p(t)};function Jc(e){return Bp(Sp(e))}const zr=Jc;let be=class extends R{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Lr=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const bo=new Lr(8192);function jr(e,t){if(bo.has(`${e}.${t}`))return bo.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=le(Ct(n),"bytes"),o=n.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&o[s]&&(o[s]=o[s].toUpperCase()),(r[s>>1]&15)>=8&&o[s+1]&&(o[s+1]=o[s+1].toUpperCase());const i=`0x${o.join("")}`;return bo.set(`${e}.${t}`,i),i}function Xc(e,t){if(!ae(e,{strict:!1}))throw new be({address:e});return jr(e,t)}const Tp=/^0x[a-fA-F0-9]{40}$/,yo=new Lr(8192);function ae(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(yo.has(r))return yo.get(r);const o=Tp.test(e)?e.toLowerCase()===e?!0:n?jr(e)===e:!0:!1;return yo.set(r,o),o}function rt(e){return typeof e[0]=="string"?Ve(e):Cp(e)}function Cp(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function Ve(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function _t(e,t,n,{strict:r}={}){return et(e,{strict:!1})?Rp(e,t,n,{strict:r}):tu(e,t,n,{strict:r})}function Qc(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new Wc({offset:t,position:"start",size:ne(e)})}function eu(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new Wc({offset:n,position:"end",size:ne(e)})}function tu(e,t,n,{strict:r}={}){Qc(e,t);const o=e.slice(t,n);return r&&eu(o,t,n),o}function Rp(e,t,n,{strict:r}={}){Qc(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&eu(o,t,n),o}const kp=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,nu=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function $t(e,t){if(e.length!==t.length)throw new op({expectedLength:e.length,givenLength:t.length});const n=Fp({params:e,values:t}),r=Hi(n);return r.length===0?"0x":r}function Fp({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Di({param:e[r],value:t[r]}));return n}function Di({param:e,value:t}){const n=Gi(e.type);if(n){const[r,o]=n;return Op(t,{length:r,param:{...e,type:o}})}if(e.type==="tuple")return Lp(t,{param:e});if(e.type==="address")return _p(t);if(e.type==="bool")return Mp(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,o="256"]=nu.exec(e.type)??[];return Up(t,{signed:r,size:Number(o)})}if(e.type.startsWith("bytes"))return Np(t,{param:e});if(e.type==="string")return zp(t);throw new lp(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Hi(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:a}=e[i];s?t+=32:t+=ne(a)}const n=[],r=[];let o=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:a}=e[i];s?(n.push(M(t+o,{size:32})),r.push(a),o+=ne(a)):n.push(a)}return rt([...n,...r])}function _p(e){if(!ae(e))throw new be({address:e});return{dynamic:!1,encoded:Pt(e.toLowerCase())}}function Op(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Vc(e);if(!r&&e.length!==t)throw new np({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let o=!1;const i=[];for(let s=0;s<e.length;s++){const a=Di({param:n,value:e[s]});a.dynamic&&(o=!0),i.push(a)}if(r||o){const s=Hi(i);if(r){const a=M(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?rt([a,s]):a}}if(o)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:rt(i.map(({encoded:s})=>s))}}function Np(e,{param:t}){const[,n]=t.type.split("bytes"),r=ne(e);if(!n){let o=e;return r%32!==0&&(o=Pt(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:rt([Pt(M(r,{size:32})),o])}}if(r!==Number.parseInt(n,10))throw new rp({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Pt(e,{dir:"right"})}}function Mp(e){if(typeof e!="boolean")throw new R(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Pt(Yc(e))}}function Up(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,o=t?-r-1n:0n;if(e>r||e<o)throw new Zc({max:r.toString(),min:o.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:M(e,{size:32,signed:t})}}function zp(e){const t=Bn(e),n=Math.ceil(ne(t)/32),r=[];for(let o=0;o<n;o++)r.push(Pt(_t(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:rt([Pt(M(ne(t),{size:32})),...r])}}function Lp(e,{param:t}){let n=!1;const r=[];for(let o=0;o<t.components.length;o++){const i=t.components[o],s=Array.isArray(e)?o:i.name,a=Di({param:i,value:e[s]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Hi(r):rt(r.map(({encoded:o})=>o))}}function Gi(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Qn=e=>_t(Jc(e),0,4);function Lt(e){const{abi:t,args:n=[],name:r}=e,o=et(r,{strict:!1}),i=t.filter(a=>o?a.type==="function"?Qn(a)===r:a.type==="event"?zr(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let s;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,d)=>{const p="inputs"in a&&a.inputs[d];return p?Go(l,p):!1})){if(s&&"inputs"in s&&s.inputs){const l=ru(a.inputs,s.inputs,n);if(l)throw new up({abiItem:a,type:l[0]},{abiItem:s,type:l[1]})}s=a}}return s||i[0]}function Go(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ae(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((o,i)=>Go(Object.values(e)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(o=>Go(o,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ru(e,t,n){for(const r in e){const o=e[r],i=t[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return ru(o.components,i.components,n[r]);const s=[o.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?ae(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?ae(n[r],{strict:!1}):!1)return s}}const ea="/docs/contract/encodeEventTopics";function er(e){const{abi:t,eventName:n,args:r}=e;let o=t[0];if(n){const c=Lt({abi:t,name:n});if(!c)throw new Js(n,{docsPath:ea});o=c}if(o.type!=="event")throw new Js(void 0,{docsPath:ea});const i=je(o),s=zr(i);let a=[];if(r&&"inputs"in o){const c=o.inputs?.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?c?.map(d=>r[d.name])??[]:[];l.length>0&&(a=c?.map((d,p)=>Array.isArray(l[p])?l[p].map((m,y)=>ta({param:d,value:l[p][y]})):typeof l[p]<"u"&&l[p]!==null?ta({param:d,value:l[p]}):null)??[])}return[s,...a]}function ta({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return le(dn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new hp(e.type);return $t([e],[t])}function Dr(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:o,status:i,transport:s})=>{i==="success"&&t===r&&(n[o]=s.request)}),r=>n[r]||e.request}async function ou(e,t){const{address:n,abi:r,args:o,eventName:i,fromBlock:s,strict:a,toBlock:c}=t,l=Dr(e,{method:"eth_newFilter"}),d=i?er({abi:r,args:o,eventName:i}):void 0,p=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof s=="bigint"?M(s):s,toBlock:typeof c=="bigint"?M(c):c,topics:d}]});return{abi:r,args:o,eventName:i,id:p,request:l(p),strict:!!a,type:"event"}}function Ce(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const na="/docs/contract/encodeFunctionData";function jp(e){const{abi:t,args:n,functionName:r}=e;let o=t[0];if(r){const i=Lt({abi:t,args:n,name:r});if(!i)throw new sn(r,{docsPath:na});o=i}if(o.type!=="function")throw new sn(void 0,{docsPath:na});return{abi:[o],functionName:Qn(je(o))}}function We(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:jp(e),o=n[0],i=r,s="inputs"in o&&o.inputs?$t(o.inputs,t??[]):void 0;return Ve([i,s??"0x"])}const Dp={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},iu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Hp={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let ra=class extends R{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},su=class extends R{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Gp=class extends R{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const qp={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Gp({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new su({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ra({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ra({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function qi(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(qp);return n.bytes=e,n.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Vp(e,t={}){typeof t.size<"u"&&qe(e,{size:t.size});const n=ie(e,t);return he(n,t)}function Wp(e,t={}){let n=e;if(typeof t.size<"u"&&(qe(n,{size:t.size}),n=Le(n)),n.length>1||n[0]>1)throw new bp(n);return!!n[0]}function pt(e,t={}){typeof t.size<"u"&&qe(e,{size:t.size});const n=ie(e,t);return tt(n,t)}function Kp(e,t={}){let n=e;return typeof t.size<"u"&&(qe(n,{size:t.size}),n=Le(n,{dir:"right"})),new TextDecoder().decode(n)}function pn(e,t){const n=typeof t=="string"?nt(t):t,r=qi(n);if(ne(n)===0&&e.length>0)throw new Xn;if(ne(t)&&ne(t)<32)throw new Hc({data:typeof t=="string"?t:ie(t),params:e,size:ne(t)});let o=0;const i=[];for(let s=0;s<e.length;++s){const a=e[s];r.setPosition(o);const[c,l]=Xt(r,a,{staticPosition:0});o+=l,i.push(c)}return i}function Xt(e,t,{staticPosition:n}){const r=Gi(t.type);if(r){const[o,i]=r;return Yp(e,{...t,type:i},{length:o,staticPosition:n})}if(t.type==="tuple")return eh(e,t,{staticPosition:n});if(t.type==="address")return Zp(e);if(t.type==="bool")return Jp(e);if(t.type.startsWith("bytes"))return Xp(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Qp(e,t);if(t.type==="string")return th(e,{staticPosition:n});throw new dp(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const oa=32,qo=32;function Zp(e){const t=e.readBytes(32);return[jr(ie(tu(t,-20))),32]}function Yp(e,t,{length:n,staticPosition:r}){if(!n){const s=pt(e.readBytes(qo)),a=r+s,c=a+oa;e.setPosition(a);const l=pt(e.readBytes(oa)),d=$n(t);let p=0;const m=[];for(let y=0;y<l;++y){e.setPosition(c+(d?y*32:p));const[x,v]=Xt(e,t,{staticPosition:c});p+=v,m.push(x)}return e.setPosition(r+32),[m,32]}if($n(t)){const s=pt(e.readBytes(qo)),a=r+s,c=[];for(let l=0;l<n;++l){e.setPosition(a+l*32);const[d]=Xt(e,t,{staticPosition:a});c.push(d)}return e.setPosition(r+32),[c,32]}let o=0;const i=[];for(let s=0;s<n;++s){const[a,c]=Xt(e,t,{staticPosition:r+o});o+=c,i.push(a)}return[i,o]}function Jp(e){return[Wp(e.readBytes(32),{size:32}),32]}function Xp(e,t,{staticPosition:n}){const[r,o]=t.type.split("bytes");if(!o){const s=pt(e.readBytes(32));e.setPosition(n+s);const a=pt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[ie(c),32]}return[ie(e.readBytes(Number.parseInt(o,10),32)),32]}function Qp(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),o=e.readBytes(32);return[r>48?Vp(o,{signed:n}):pt(o,{signed:n}),32]}function eh(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:s})=>!s),o=r?[]:{};let i=0;if($n(t)){const s=pt(e.readBytes(qo)),a=n+s;for(let c=0;c<t.components.length;++c){const l=t.components[c];e.setPosition(a+i);const[d,p]=Xt(e,l,{staticPosition:a});i+=p,o[r?c:l?.name]=d}return e.setPosition(n+32),[o,32]}for(let s=0;s<t.components.length;++s){const a=t.components[s],[c,l]=Xt(e,a,{staticPosition:n});o[r?s:a?.name]=c,i+=l}return[o,i]}function th(e,{staticPosition:t}){const n=pt(e.readBytes(32)),r=t+n;e.setPosition(r);const o=pt(e.readBytes(32));if(o===0)return e.setPosition(t+32),["",32];const i=e.readBytes(o,32),s=Kp(Le(i));return e.setPosition(t+32),[s,32]}function $n(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some($n);const n=Gi(e.type);return!!(n&&$n({...e,type:n[1]}))}function nh(e){const{abi:t,data:n}=e,r=_t(n,0,4);if(r==="0x")throw new Xn;const i=[...t||[],iu,Hp].find(s=>s.type==="error"&&r===Qn(je(s)));if(!i)throw new Gc(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?pn(i.inputs,_t(n,4)):void 0,errorName:i.name}}const de=(e,t,n)=>JSON.stringify(e,(r,o)=>typeof o=="bigint"?o.toString():o,n);function au({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((o,i)=>`${r&&o.name?`${o.name}: `:""}${typeof t[i]=="object"?de(t[i]):t[i]}`).join(", ")})`}const rh={gwei:9,wei:18},oh={ether:-9,wei:9};function cu(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[o,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${o||"0"}${i?`.${i}`:""}`}function Vi(e,t="wei"){return cu(e,rh[t])}function Ee(e,t="wei"){return cu(e,oh[t])}class ih extends R{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class sh extends R{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ia(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function ah(e){return e.reduce((t,{address:n,...r})=>{let o=`${t}    ${n}:
`;return r.nonce&&(o+=`      nonce: ${r.nonce}
`),r.balance&&(o+=`      balance: ${r.balance}
`),r.code&&(o+=`      code: ${r.code}
`),r.state&&(o+=`      state:
`,o+=ia(r.state)),r.stateDiff&&(o+=`      stateDiff:
`,o+=ia(r.stateDiff)),o},`  State Override:
`).slice(0,-1)}function tr(e){const t=Object.entries(e).map(([r,o])=>o===void 0||o===!1?null:[r,o]).filter(Boolean),n=t.reduce((r,[o])=>Math.max(r,o.length),0);return t.map(([r,o])=>`  ${`${r}:`.padEnd(n+1)}  ${o}`).join(`
`)}class ch extends R{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class uh extends R{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",tr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class fh extends R{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class lh extends R{constructor(t,{account:n,docsPath:r,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:p,value:m}){const y=tr({chain:o&&`${o?.name} (id: ${o?.id})`,from:n?.address,to:p,value:typeof m<"u"&&`${Vi(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${Ee(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ee(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ee(l)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",y].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class uu extends R{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:o,index:i}){let s="Transaction";r&&i!==void 0&&(s=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(s=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(s=`Transaction at block number "${n}" at index "${i}"`),o&&(s=`Transaction with hash "${o}"`),super(`${s} could not be found.`,{name:"TransactionNotFoundError"})}}class fu extends R{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class dh extends R{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class ph extends R{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const hh=e=>e,Wi=e=>e;class lu extends R{constructor(t,{account:n,docsPath:r,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:p,value:m,stateOverride:y}){const x=n?Ce(n):void 0;let v=tr({from:x?.address,to:p,value:typeof m<"u"&&`${Vi(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${Ee(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ee(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ee(l)} gwei`,nonce:d});y&&(v+=`
${ah(y)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",v].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class du extends R{constructor(t,{abi:n,args:r,contractAddress:o,docsPath:i,functionName:s,sender:a}){const c=Lt({abi:n,args:r,name:s}),l=c?au({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?je(c,{includeName:!0}):void 0,p=tr({address:o&&hh(o),function:d,args:l&&l!=="()"&&`${[...Array(s?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${s}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=o,this.functionName=s,this.sender=a}}class Vo extends R{constructor({abi:t,data:n,functionName:r,message:o}){let i,s,a,c;if(n&&n!=="0x")try{s=nh({abi:t,data:n});const{abiItem:d,errorName:p,args:m}=s;if(p==="Error")c=m[0];else if(p==="Panic"){const[y]=m;c=Dp[y]}else{const y=d?je(d,{includeName:!0}):void 0,x=d&&m?au({abiItem:d,args:m,includeFunctionName:!1,includeName:!1}):void 0;a=[y?`Error: ${y}`:"",x&&x!=="()"?`       ${[...Array(p?.length??0).keys()].map(()=>" ").join("")}${x}`:""]}}catch(d){i=d}else o&&(c=o);let l;i instanceof Gc&&(l=i.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=s,this.raw=n,this.reason=c,this.signature=l}}class mh extends R{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class bh extends R{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Hr extends R{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class vn extends R{constructor({body:t,cause:n,details:r,headers:o,status:i,url:s}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Wi(s)}`,t&&`Request body: ${de(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=o,this.status=i,this.url=s}}class Ki extends R{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Wi(r)}`,`Request body: ${de(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data,this.url=r}}class sa extends R{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Wi(n)}`,`Request body: ${de(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=n}}const yh=-1;class Ae extends R{constructor(t,{code:n,docsPath:r,metaMessages:o,name:i,shortMessage:s}){super(s,{cause:t,docsPath:r,metaMessages:o||t?.metaMessages,name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Ki?t.code:n??yh}}class ke extends Ae{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Sn extends Ae{constructor(t){super(t,{code:Sn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Sn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Tn extends Ae{constructor(t){super(t,{code:Tn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Cn extends Ae{constructor(t,{method:n}={}){super(t,{code:Cn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Rn extends Ae{constructor(t){super(t,{code:Rn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ot extends Ae{constructor(t){super(t,{code:Ot.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class At extends Ae{constructor(t){super(t,{code:At.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class kn extends Ae{constructor(t){super(t,{code:kn.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Fn extends Ae{constructor(t){super(t,{code:Fn.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class _n extends Ae{constructor(t){super(t,{code:_n.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class St extends Ae{constructor(t,{method:n}={}){super(t,{code:St.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class an extends Ae{constructor(t){super(t,{code:an.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class On extends Ae{constructor(t){super(t,{code:On.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Qt extends ke{constructor(t){super(t,{code:Qt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Qt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Nn extends ke{constructor(t){super(t,{code:Nn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Mn extends ke{constructor(t,{method:n}={}){super(t,{code:Mn.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Un extends ke{constructor(t){super(t,{code:Un.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class zn extends ke{constructor(t){super(t,{code:zn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ln extends ke{constructor(t){super(t,{code:Ln.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class jn extends ke{constructor(t){super(t,{code:jn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Dn extends ke{constructor(t){super(t,{code:Dn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Hn extends ke{constructor(t){super(t,{code:Hn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Gn extends ke{constructor(t){super(t,{code:Gn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class qn extends ke{constructor(t){super(t,{code:qn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Vn extends ke{constructor(t){super(t,{code:Vn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Wn extends ke{constructor(t){super(t,{code:Wn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class gh extends Ae{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const wh=3;function cn(e,{abi:t,address:n,args:r,docsPath:o,functionName:i,sender:s}){const a=e instanceof Hr?e:e instanceof R?e.walk(x=>"data"in x)||e.walk():{},{code:c,data:l,details:d,message:p,shortMessage:m}=a,y=e instanceof Xn?new mh({functionName:i}):[wh,Ot.code].includes(c)&&(l||d||p||m)||c===At.code&&d==="execution reverted"&&l?new Vo({abi:t,data:typeof l=="object"?l.data:l,functionName:i,message:a instanceof Ki?d:m??p}):e;return new du(y,{abi:t,args:r,contractAddress:n,docsPath:o,functionName:i,sender:s})}function xh(e){const t=le(`0x${e.substring(4)}`).substring(26);return jr(`0x${t}`)}const vh="modulepreload",Eh=function(e){return"/"+e},aa={},pu=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");o=Promise.allSettled(n.map(c=>{if(c=Eh(c),c in aa)return;aa[c]=!0;const l=c.endsWith(".css"),d=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":vh,l||(p.as="script"),p.crossOrigin="",p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),l)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return o.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};async function Ph({hash:e,signature:t}){const n=et(e)?e:Te(e),{secp256k1:r}=await pu(async()=>{const{secp256k1:s}=await Promise.resolve().then(()=>ny);return{secp256k1:s}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:l,s:d,v:p,yParity:m}=t,y=Number(m??p),x=ca(y);return new r.Signature(he(l),he(d)).addRecoveryBit(x)}const s=et(t)?t:Te(t);if(ne(s)!==65)throw new Error("invalid signature length");const a=tt(`0x${s.slice(130)}`),c=ca(a);return r.Signature.fromCompact(s.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ca(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function hu({hash:e,signature:t}){return xh(await Ph({hash:e,signature:t}))}function It(e,t="hex"){const n=mu(e),r=qi(new Uint8Array(n.length));return n.encode(r),t==="hex"?ie(r.bytes):r.bytes}function mu(e){return Array.isArray(e)?Ah(e.map(t=>mu(t))):Ih(e)}function Ah(e){const t=e.reduce((o,i)=>o+i.length,0),n=bu(t);return{length:t<=55?1+t:1+n+t,encode(o){t<=55?o.pushByte(192+t):(o.pushByte(247+n),n===1?o.pushUint8(t):n===2?o.pushUint16(t):n===3?o.pushUint24(t):o.pushUint32(t));for(const{encode:i}of e)i(o)}}}function Ih(e){const t=typeof e=="string"?nt(e):e,n=bu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(o){t.length===1&&t[0]<128?o.pushBytes(t):t.length<=55?(o.pushByte(128+t.length),o.pushBytes(t)):(o.pushByte(183+n),n===1?o.pushUint8(t.length):n===2?o.pushUint16(t.length):n===3?o.pushUint24(t.length):o.pushUint32(t.length),o.pushBytes(t))}}}function bu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new R("Length is too large.")}function Bh(e){const{chainId:t,nonce:n,to:r}=e,o=e.contractAddress??e.address,i=le(Ve(["0x05",It([t?M(t):"0x",o,n?M(n):"0x"])]));return r==="bytes"?nt(i):i}async function yu(e){const{authorization:t,signature:n}=e;return hu({hash:Bh(t),signature:n??t})}class $h extends R{constructor(t,{account:n,docsPath:r,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:p,value:m}){const y=tr({from:n?.address,to:p,value:typeof m<"u"&&`${Vi(m)} ${o?.nativeCurrency?.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${Ee(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ee(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Ee(l)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",y].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Kt extends R{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Kt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});class Nt extends R{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ee(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Nt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Wo extends R{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ee(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Wo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ko extends R{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Ko,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Zo extends R{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Zo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Yo extends R{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Yo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Jo extends R{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Jo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Xo extends R{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Xo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Qo extends R{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Qo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ei extends R{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ei,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Kn extends R{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ee(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ee(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Kn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class nr extends R{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Gr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof R?e.walk(o=>o?.code===Kt.code):e;return r instanceof R?new Kt({cause:e,message:r.details}):Kt.nodeMessage.test(n)?new Kt({cause:e,message:e.details}):Nt.nodeMessage.test(n)?new Nt({cause:e,maxFeePerGas:t?.maxFeePerGas}):Wo.nodeMessage.test(n)?new Wo({cause:e,maxFeePerGas:t?.maxFeePerGas}):Ko.nodeMessage.test(n)?new Ko({cause:e,nonce:t?.nonce}):Zo.nodeMessage.test(n)?new Zo({cause:e,nonce:t?.nonce}):Yo.nodeMessage.test(n)?new Yo({cause:e,nonce:t?.nonce}):Jo.nodeMessage.test(n)?new Jo({cause:e}):Xo.nodeMessage.test(n)?new Xo({cause:e,gas:t?.gas}):Qo.nodeMessage.test(n)?new Qo({cause:e,gas:t?.gas}):ei.nodeMessage.test(n)?new ei({cause:e}):Kn.nodeMessage.test(n)?new Kn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new nr({cause:e})}function Sh(e,{docsPath:t,...n}){const r=(()=>{const o=Gr(e,n);return o instanceof nr?e:o})();return new $h(r,{docsPath:t,...n})}function qr(e,{format:t}){if(!t)return{};const n={};function r(i){const s=Object.keys(i);for(const a of s)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const o=t(e||{});return r(o),n}function Zi(e,t){return({exclude:n,format:r})=>({exclude:n,format:(o,i)=>{const s=t(o,i);if(n)for(const a of n)delete s[a];return{...s,...r(o,i)}},type:e})}const Th={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function rr(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Ch(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>ie(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=M(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=M(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=M(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=M(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=M(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=M(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Th[e.type]),typeof e.value<"u"&&(n.value=M(e.value)),n}function Ch(e){return e.map(t=>({address:t.address,r:t.r?M(BigInt(t.r)):t.r,s:t.s?M(BigInt(t.s)):t.s,chainId:M(t.chainId),nonce:M(t.nonce),...typeof t.yParity<"u"?{yParity:M(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:M(t.v)}:{}}))}function ua(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Xs({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Xs({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Rh(e){const{balance:t,nonce:n,state:r,stateDiff:o,code:i}=e,s={};if(i!==void 0&&(s.code=i),t!==void 0&&(s.balance=M(t)),n!==void 0&&(s.nonce=M(n)),r!==void 0&&(s.state=ua(r)),o!==void 0){if(s.state)throw new sh;s.stateDiff=ua(o)}return s}function Yi(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ae(n,{strict:!1}))throw new be({address:n});if(t[n])throw new ih({address:n});t[n]=Rh(r)}return t}const Vr=2n**256n-1n;function hn(e){const{account:t,maxFeePerGas:n,maxPriorityFeePerGas:r,to:o}=e,i=t?Ce(t):void 0;if(i&&!ae(i.address))throw new be({address:i.address});if(o&&!ae(o))throw new be({address:o});if(n&&n>Vr)throw new Nt({maxFeePerGas:n});if(r&&n&&r>n)throw new Kn({maxFeePerGas:n,maxPriorityFeePerGas:r})}class gu extends R{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Ji extends R{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class kh extends R{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ee(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class wu extends R{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const xu={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function or(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?tt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?tt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?xu[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=_h(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Fh=Zi("transaction",or);function _h(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Xi(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:or(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const Oh=Zi("block",Xi);async function ze(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:o}={}){const i=o??!1,s=n!==void 0?M(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[s||r,i]},{dedupe:!!s}),!a)throw new wu({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Xi)(a,"getBlock")}async function Qi(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Nh(e,t){return vu(e,t)}async function vu(e,t){const{block:n,chain:r=e.chain,request:o}=t||{};try{const i=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof i=="function"){const a=n||await q(e,ze,"getBlock")({}),c=await i({block:a,client:e,request:o});if(c===null)throw new Error;return c}if(typeof i<"u")return i;const s=await e.request({method:"eth_maxPriorityFeePerGas"});return he(s)}catch{const[i,s]=await Promise.all([n?Promise.resolve(n):q(e,ze,"getBlock")({}),q(e,Qi,"getGasPrice")({})]);if(typeof i.baseFeePerGas!="bigint")throw new Ji;const a=s-i.baseFeePerGas;return a<0n?0n:a}}async function Mh(e,t){return ti(e,t)}async function ti(e,t){const{block:n,chain:r=e.chain,request:o,type:i="eip1559"}=t||{},s=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:o}):r?.fees?.baseFeeMultiplier??1.2)();if(s<1)throw new gu;const c=10**(s.toString().split(".")[1]?.length??0),l=m=>m*BigInt(Math.ceil(s*c))/BigInt(c),d=n||await q(e,ze,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:o,type:i});if(m!==null)return m}if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Ji;const m=typeof o?.maxPriorityFeePerGas=="bigint"?o.maxPriorityFeePerGas:await vu(e,{block:d,chain:r,request:o}),y=l(d.baseFeePerGas);return{maxFeePerGas:o?.maxFeePerGas??y+m,maxPriorityFeePerGas:m}}return{gasPrice:o?.gasPrice??l(await q(e,Qi,"getGasPrice")({}))}}async function Eu(e,{address:t,blockTag:n="latest",blockNumber:r}){const o=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?M(r):n]},{dedupe:!!r});return tt(o)}function es(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>nt(i)):e.blobs,o=[];for(const i of r)o.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?o:o.map(i=>ie(i))}function ts(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>nt(s)):e.blobs,o=typeof e.commitments[0]=="string"?e.commitments.map(s=>nt(s)):e.commitments,i=[];for(let s=0;s<r.length;s++){const a=r[s],c=o[s];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(s=>ie(s))}function Uh(e,t){return Al(et(e,{strict:!1})?dn(e):e)}function zh(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),o=Uh(t);return o.set([n],0),r==="bytes"?o:ie(o)}function Pu(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),o=[];for(const i of t)o.push(zh({commitment:i,to:r,version:n}));return o}const fa=6,Au=32,ns=4096,Iu=Au*ns,la=Iu*fa-1-1*ns*fa,Bu=1;class Lh extends R{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class $u extends R{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class jh extends R{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Dh extends R{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Bu}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Hh(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?nt(e.data):e.data,r=ne(n);if(!r)throw new $u;if(r>la)throw new Lh({maxSize:la,size:r});const o=[];let i=!0,s=0;for(;i;){const a=qi(new Uint8Array(Iu));let c=0;for(;c<ns;){const l=n.slice(s,s+(Au-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),i=!1;break}c++,s+=31}o.push(a)}return t==="bytes"?o.map(a=>a.bytes):o.map(a=>ie(a.bytes))}function Su(e){const{data:t,kzg:n,to:r}=e,o=e.blobs??Hh({data:t,to:r}),i=e.commitments??es({blobs:o,kzg:n,to:r}),s=e.proofs??ts({blobs:o,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<o.length;c++)a.push({blob:o[c],commitment:i[c],proof:s[c]});return a}function Tu(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new uh({transaction:e})}function Gh(e,{docsPath:t,...n}){const r=(()=>{const o=Gr(e,n);return o instanceof nr?e:o})();return new lh(r,{docsPath:t,...n})}async function rs(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return tt(t)}async function Cu(e,t){const{account:n=e.account,accessList:r,authorizationList:o,chain:i=e.chain,blobVersionedHashes:s,blobs:a,data:c,gas:l,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:x,nonceManager:v,to:I,type:$,value:k,...A}=t,w=await(async()=>{if(!n||!v||typeof x<"u")return x;const F=Ce(n),j=i?i.id:await q(e,rs,"getChainId")({});return await v.consume({address:F.address,chainId:j,client:e})})();hn(t);const E=i?.formatters?.transactionRequest?.format,T=(E||rr)({...qr(A,{format:E}),account:n?Ce(n):void 0,accessList:r,authorizationList:o,blobs:a,blobVersionedHashes:s,data:c,gas:l,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:w,to:I,type:$,value:k},"fillTransaction");try{const F=await e.request({method:"eth_fillTransaction",params:[T]}),C=(i?.formatters?.transaction?.format||or)(F.tx);delete C.blockHash,delete C.blockNumber,delete C.r,delete C.s,delete C.transactionIndex,delete C.v,delete C.yParity,C.data=C.input,C.gas&&(C.gas=t.gas??C.gas),C.gasPrice&&(C.gasPrice=t.gasPrice??C.gasPrice),C.maxFeePerBlobGas&&(C.maxFeePerBlobGas=t.maxFeePerBlobGas??C.maxFeePerBlobGas),C.maxFeePerGas&&(C.maxFeePerGas=t.maxFeePerGas??C.maxFeePerGas),C.maxPriorityFeePerGas&&(C.maxPriorityFeePerGas=t.maxPriorityFeePerGas??C.maxPriorityFeePerGas),C.nonce&&(C.nonce=t.nonce??C.nonce);const U=await(async()=>{if(typeof i?.fees?.baseFeeMultiplier=="function"){const _=await q(e,ze,"getBlock")({});return i.fees.baseFeeMultiplier({block:_,client:e,request:t})}return i?.fees?.baseFeeMultiplier??1.2})();if(U<1)throw new gu;const D=10**(U.toString().split(".")[1]?.length??0),Y=_=>_*BigInt(Math.ceil(U*D))/BigInt(D);return C.maxFeePerGas&&!t.maxFeePerGas&&(C.maxFeePerGas=Y(C.maxFeePerGas)),C.gasPrice&&!t.gasPrice&&(C.gasPrice=Y(C.gasPrice)),{raw:F.raw,transaction:{from:T.from,...C}}}catch(F){throw Gh(F,{...t,chain:e.chain})}}const qh=["blobVersionedHashes","chainId","fees","gas","nonce","type"],da=new Map,go=new Lr(128);async function Ru(e,t){let n=t;n.account??=e.account,n.parameters??=qh;const{account:r,chain:o=e.chain,nonceManager:i,parameters:s}=n,a=(()=>{if(typeof o?.prepareTransactionRequest=="function")return{fn:o.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(o?.prepareTransactionRequest))return{fn:o.prepareTransactionRequest[0],runAt:o.prepareTransactionRequest[1].runAt}})();let c;async function l(){return c||(typeof n.chainId<"u"?n.chainId:o?o.id:(c=await q(e,rs,"getChainId")({}),c))}const d=r&&Ce(r);let p=n.nonce;if(s.includes("nonce")&&typeof p>"u"&&d&&i){const w=await l();p=await i.consume({address:d.address,chainId:w,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(n=await a.fn({...n,chain:o},{phase:"beforeFillTransaction"}),p??=n.nonce);const y=((s.includes("blobVersionedHashes")||s.includes("sidecars"))&&n.kzg&&n.blobs||go.get(e.uid)===!1||!["fees","gas"].some(E=>s.includes(E))?!1:!!(s.includes("chainId")&&typeof n.chainId!="number"||s.includes("nonce")&&typeof p!="number"||s.includes("fees")&&typeof n.gasPrice!="bigint"&&(typeof n.maxFeePerGas!="bigint"||typeof n.maxPriorityFeePerGas!="bigint")||s.includes("gas")&&typeof n.gas!="bigint"))?await q(e,Cu,"fillTransaction")({...n,nonce:p}).then(w=>{const{chainId:E,from:S,gas:T,gasPrice:F,nonce:j,maxFeePerBlobGas:C,maxFeePerGas:U,maxPriorityFeePerGas:L,type:D,...Y}=w.transaction;return go.set(e.uid,!0),{...n,...S?{from:S}:{},...D?{type:D}:{},...typeof E<"u"?{chainId:E}:{},...typeof T<"u"?{gas:T}:{},...typeof F<"u"?{gasPrice:F}:{},...typeof j<"u"?{nonce:j}:{},...typeof C<"u"?{maxFeePerBlobGas:C}:{},...typeof U<"u"?{maxFeePerGas:U}:{},...typeof L<"u"?{maxPriorityFeePerGas:L}:{},..."nonceKey"in Y&&typeof Y.nonceKey<"u"?{nonceKey:Y.nonceKey}:{}}}).catch(w=>{const E=w;return E.name!=="TransactionExecutionError"||E.walk?.(T=>{const F=T;return F.name==="MethodNotFoundRpcError"||F.name==="MethodNotSupportedRpcError"})&&go.set(e.uid,!1),n}):n;p??=y.nonce,n={...y,...d?{from:d?.address}:{},...p?{nonce:p}:{}};const{blobs:x,gas:v,kzg:I,type:$}=n;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(n=await a.fn({...n,chain:o},{phase:"beforeFillParameters"}));let k;async function A(){return k||(k=await q(e,ze,"getBlock")({blockTag:"latest"}),k)}if(s.includes("nonce")&&typeof p>"u"&&d&&!i&&(n.nonce=await q(e,Eu,"getTransactionCount")({address:d.address,blockTag:"pending"})),(s.includes("blobVersionedHashes")||s.includes("sidecars"))&&x&&I){const w=es({blobs:x,kzg:I});if(s.includes("blobVersionedHashes")){const E=Pu({commitments:w,to:"hex"});n.blobVersionedHashes=E}if(s.includes("sidecars")){const E=ts({blobs:x,commitments:w,kzg:I}),S=Su({blobs:x,commitments:w,proofs:E,to:"hex"});n.sidecars=S}}if(s.includes("chainId")&&(n.chainId=await l()),(s.includes("fees")||s.includes("type"))&&typeof $>"u")try{n.type=Tu(n)}catch{let w=da.get(e.uid);typeof w>"u"&&(w=typeof(await A())?.baseFeePerGas=="bigint",da.set(e.uid,w)),n.type=w?"eip1559":"legacy"}if(s.includes("fees"))if(n.type!=="legacy"&&n.type!=="eip2930"){if(typeof n.maxFeePerGas>"u"||typeof n.maxPriorityFeePerGas>"u"){const w=await A(),{maxFeePerGas:E,maxPriorityFeePerGas:S}=await ti(e,{block:w,chain:o,request:n});if(typeof n.maxPriorityFeePerGas>"u"&&n.maxFeePerGas&&n.maxFeePerGas<S)throw new kh({maxPriorityFeePerGas:S});n.maxPriorityFeePerGas=S,n.maxFeePerGas=E}}else{if(typeof n.maxFeePerGas<"u"||typeof n.maxPriorityFeePerGas<"u")throw new Ji;if(typeof n.gasPrice>"u"){const w=await A(),{gasPrice:E}=await ti(e,{block:w,chain:o,request:n,type:"legacy"});n.gasPrice=E}}return s.includes("gas")&&typeof v>"u"&&(n.gas=await q(e,os,"estimateGas")({...n,account:d,prepare:d?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(n=await a.fn({...n,chain:o},{phase:"afterFillParameters"})),hn(n),delete n.parameters,n}async function os(e,t){const{account:n=e.account,prepare:r=!0}=t,o=n?Ce(n):void 0,i=(()=>{if(Array.isArray(r))return r;if(o?.type!=="local")return["blobVersionedHashes"]})();try{const s=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await yu({authorization:t.authorizationList[0]}).catch(()=>{throw new R("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:d,blockNumber:p,blockTag:m,data:y,gas:x,gasPrice:v,maxFeePerBlobGas:I,maxFeePerGas:$,maxPriorityFeePerGas:k,nonce:A,value:w,stateOverride:E,...S}=r?await Ru(e,{...t,parameters:i,to:s}):t;if(x&&t.gas!==x)return x;const F=(typeof p=="bigint"?M(p):void 0)||m,j=Yi(E);hn(t);const C=e.chain?.formatters?.transactionRequest?.format,L=(C||rr)({...qr(S,{format:C}),account:o,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:d,data:y,gasPrice:v,maxFeePerBlobGas:I,maxFeePerGas:$,maxPriorityFeePerGas:k,nonce:A,to:s,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:j?[L,F??e.experimental_blockTag??"latest",j]:F?[L,F]:[L]}))}catch(s){throw Sh(s,{...t,account:o,chain:e.chain})}}async function Vh(e,t){const{abi:n,address:r,args:o,functionName:i,dataSuffix:s,...a}=t,c=We({abi:n,args:o,functionName:i});try{return await q(e,os,"estimateGas")({data:`${c}${s?s.replace("0x",""):""}`,to:r,...a})}catch(l){const d=a.account?Ce(a.account):void 0;throw cn(l,{abi:n,address:r,args:o,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:d?.address})}}function Wr(e,t){if(!ae(e,{strict:!1}))throw new be({address:e});if(!ae(t,{strict:!1}))throw new be({address:t});return e.toLowerCase()===t.toLowerCase()}const pa="/docs/contract/decodeEventLog";function Br(e){const{abi:t,data:n,strict:r,topics:o}=e,i=r??!0,[s,...a]=o;if(!s)throw new sp({docsPath:pa});const c=t.find(v=>v.type==="event"&&s===zr(je(v)));if(!(c&&"name"in c)||c.type!=="event")throw new ap(s,{docsPath:pa});const{name:l,inputs:d}=c,p=d?.some(v=>!("name"in v&&v.name)),m=p?[]:{},y=d.map((v,I)=>[v,I]).filter(([v])=>"indexed"in v&&v.indexed);for(let v=0;v<y.length;v++){const[I,$]=y[v],k=a[v];if(!k)throw new ji({abiItem:c,param:I});m[p?$:I.name||$]=Wh({param:I,value:k})}const x=d.filter(v=>!("indexed"in v&&v.indexed));if(x.length>0){if(n&&n!=="0x")try{const v=pn(x,n);if(v)if(p)for(let I=0;I<d.length;I++)m[I]=m[I]??v.shift();else for(let I=0;I<x.length;I++)m[x[I].name]=v[I]}catch(v){if(i)throw v instanceof Hc||v instanceof su?new Ir({abiItem:c,data:n,params:x,size:ne(n)}):v}else if(i)throw new Ir({abiItem:c,data:"0x",params:x,size:0})}return{eventName:l,args:Object.values(m).length>0?m:void 0}}function Wh({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(pn([e],t)||[])[0]}function is(e){const{abi:t,args:n,logs:r,strict:o=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(s=>{const a=t.filter(d=>d.type==="event"&&s.topics[0]===zr(d));if(a.length===0)return null;let c,l;for(const d of a)try{c=Br({...s,abi:[d],strict:!0}),l=d;break}catch{}if(!c&&!o){l=a[0];try{c=Br({...s,abi:[l],strict:!1})}catch{const d=l.inputs?.some(p=>!("name"in p&&p.name));return{...s,args:d?[]:{},eventName:l.name}}}return!c||!l||i&&!i.includes(c.eventName)||!Kh({args:c.args,inputs:l.inputs,matchArgs:n})?null:{...c,...s}}).filter(Boolean)}function Kh(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function o(i,s,a){try{return i.type==="address"?Wr(s,a):i.type==="string"||i.type==="bytes"?le(dn(s))===a:s===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,s)=>{if(i==null)return!0;const a=n[s];return a?(Array.isArray(i)?i:[i]).some(l=>o(a,l,t[s])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,s])=>{if(s==null)return!0;const a=n.find(l=>l.name===i);return a?(Array.isArray(s)?s:[s]).some(l=>o(a,l,t[i])):!1}):!1}function bt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function ss(e,{address:t,blockHash:n,fromBlock:r,toBlock:o,event:i,events:s,args:a,strict:c}={}){const l=c??!1,d=s??(i?[i]:void 0);let p=[];d&&(p=[d.flatMap(v=>er({abi:[v],eventName:v.name,args:s?void 0:a}))],i&&(p=p[0]));let m;n?m=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,blockHash:n}]}):m=await e.request({method:"eth_getLogs",params:[{address:t,topics:p,fromBlock:typeof r=="bigint"?M(r):r,toBlock:typeof o=="bigint"?M(o):o}]});const y=m.map(x=>bt(x));return d?is({abi:d,args:a,logs:y,strict:l}):y}async function ku(e,t){const{abi:n,address:r,args:o,blockHash:i,eventName:s,fromBlock:a,toBlock:c,strict:l}=t,d=s?Lt({abi:n,name:s}):void 0,p=d?void 0:n.filter(m=>m.type==="event");return q(e,ss,"getLogs")({address:r,args:o,blockHash:i,event:d,events:p,fromBlock:a,toBlock:c,strict:l})}const wo="/docs/contract/decodeFunctionResult";function jt(e){const{abi:t,args:n,functionName:r,data:o}=e;let i=t[0];if(r){const a=Lt({abi:t,args:n,name:r});if(!a)throw new sn(r,{docsPath:wo});i=a}if(i.type!=="function")throw new sn(void 0,{docsPath:wo});if(!i.outputs)throw new qc(i.name,{docsPath:wo});const s=pn(i.outputs,o);if(s&&s.length>1)return s;if(s&&s.length===1)return s[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const as=BigInt(0),ni=BigInt(1);function ir(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function cs(e){if(!ir(e))throw new Error("Uint8Array expected")}function Zn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function gr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Fu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?as:BigInt("0x"+e)}const _u=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Zh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Yn(e){if(cs(e),_u)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Zh[e[n]];return t}const ct={_0:48,_9:57,A:65,F:70,a:97,f:102};function ha(e){if(e>=ct._0&&e<=ct._9)return e-ct._0;if(e>=ct.A&&e<=ct.F)return e-(ct.A-10);if(e>=ct.a&&e<=ct.f)return e-(ct.a-10)}function $r(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(_u)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const s=ha(e.charCodeAt(i)),a=ha(e.charCodeAt(i+1));if(s===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[o]=s*16+a}return r}function Rt(e){return Fu(Yn(e))}function Ou(e){return cs(e),Fu(Yn(Uint8Array.from(e).reverse()))}function sr(e,t){return $r(e.toString(16).padStart(t*2,"0"))}function Nu(e,t){return sr(e,t).reverse()}function Oe(e,t,n){let r;if(typeof t=="string")try{r=$r(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(ir(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(e+" of length "+n+" expected, got "+o);return r}function Sr(...e){let t=0;for(let r=0;r<e.length;r++){const o=e[r];cs(o),t+=o.length}const n=new Uint8Array(t);for(let r=0,o=0;r<e.length;r++){const i=e[r];n.set(i,o),o+=i.length}return n}const xo=e=>typeof e=="bigint"&&as<=e;function us(e,t,n){return xo(e)&&xo(t)&&xo(n)&&t<=e&&e<n}function en(e,t,n,r){if(!us(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Yh(e){let t;for(t=0;e>as;e>>=ni,t+=1);return t}const Kr=e=>(ni<<BigInt(e))-ni,vo=e=>new Uint8Array(e),ma=e=>Uint8Array.from(e);function Jh(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=vo(e),o=vo(e),i=0;const s=()=>{r.fill(1),o.fill(0),i=0},a=(...p)=>n(o,r,...p),c=(p=vo(0))=>{o=a(ma([0]),p),r=a(),p.length!==0&&(o=a(ma([1]),p),r=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const m=[];for(;p<t;){r=a();const y=r.slice();m.push(y),p+=r.length}return Sr(...m)};return(p,m)=>{s(),c(p);let y;for(;!(y=m(l()));)c();return s(),y}}const Xh={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ir(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Zr(e,t,n={}){const r=(o,i,s)=>{const a=Xh[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[o];if(!(s&&c===void 0)&&!a(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+c)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return e}function ba(e){const t=new WeakMap;return(n,...r)=>{const o=t.get(n);if(o!==void 0)return o;const i=e(n,...r);return t.set(n,i),i}}const Qh="0.1.1";function e1(){return Qh}class K extends Error{static setStaticOptions(t){K.prototype.docsOrigin=t.docsOrigin,K.prototype.showVersion=t.showVersion,K.prototype.version=t.version}constructor(t,n={}){const r=(()=>{if(n.cause instanceof K){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),o=n.cause instanceof K&&n.cause.docsPath||n.docsPath,i=n.docsOrigin??K.prototype.docsOrigin,s=`${i}${o??""}`,a=!!(n.version??K.prototype.showVersion),c=n.version??K.prototype.version,l=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||o||a?["",r?`Details: ${r}`:void 0,o?`See: ${s}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(d=>typeof d=="string").join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=n.cause,this.details=r,this.docs=s,this.docsOrigin=i,this.docsPath=o,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return Mu(this,t)}}Object.defineProperty(K,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${e1()}`}});K.setStaticOptions(K.defaultStaticOptions);function Mu(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Mu(e.cause,t):t?null:e}function ar(e,t){if(Zt(e)>t)throw new y1({givenSize:Zt(e),maxSize:t})}const ut={zero:48,nine:57,A:65,F:70,a:97,f:102};function ya(e){if(e>=ut.zero&&e<=ut.nine)return e-ut.zero;if(e>=ut.A&&e<=ut.F)return e-(ut.A-10);if(e>=ut.a&&e<=ut.f)return e-(ut.a-10)}function t1(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new g1({size:e.length,targetSize:r,type:"Bytes"});const o=new Uint8Array(r);for(let i=0;i<r;i++){const s=n==="right";o[s?i:r-i-1]=e[s?i:e.length-i-1]}return o}function Uu(e,t={}){const{dir:n="left"}=t;let r=e,o=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)o++;return r=n==="left"?r.slice(o):r.slice(0,r.length-o),r}function Yr(e,t){if(Re(e)>t)throw new A1({givenSize:Re(e),maxSize:t})}function n1(e,t){if(typeof t=="number"&&t>0&&t>Re(e)-1)throw new Wu({offset:t,position:"start",size:Re(e)})}function r1(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Re(e)!==n-t)throw new Wu({offset:n,position:"end",size:Re(e)})}function zu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const o=e.replace("0x","");if(o.length>r*2)throw new I1({size:Math.ceil(o.length/2),targetSize:r,type:"Hex"});return`0x${o[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const o1="#__bigint";function Lu(e,t,n){return JSON.stringify(e,(r,o)=>typeof o=="bigint"?o.toString()+o1:o,n)}const i1=new TextDecoder,s1=new TextEncoder;function a1(e){return e instanceof Uint8Array?e:typeof e=="string"?ju(e):c1(e)}function c1(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function ju(e,t={}){const{size:n}=t;let r=e;n&&(Yr(e,n),r=Ut(e,n));let o=r.slice(2);o.length%2&&(o=`0${o}`);const i=o.length/2,s=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const l=ya(o.charCodeAt(c++)),d=ya(o.charCodeAt(c++));if(l===void 0||d===void 0)throw new K(`Invalid byte sequence ("${o[c-2]}${o[c-1]}" in "${o}").`);s[a]=l<<4|d}return s}function u1(e,t={}){const{size:n}=t,r=s1.encode(e);return typeof n=="number"?(ar(r,n),f1(r,n)):r}function f1(e,t){return t1(e,{dir:"right",size:t})}function Zt(e){return e.length}function l1(e,t,n,r={}){const{strict:o}=r;return e.slice(t,n)}function d1(e,t={}){const{size:n}=t;typeof n<"u"&&ar(e,n);const r=He(e,t);return Gu(r,t)}function p1(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(ar(r,n),r=Du(r)),r.length>1||r[0]>1)throw new b1(r);return!!r[0]}function ht(e,t={}){const{size:n}=t;typeof n<"u"&&ar(e,n);const r=He(e,t);return qu(r,t)}function h1(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(ar(r,n),r=m1(r)),i1.decode(r)}function Du(e){return Uu(e,{dir:"left"})}function m1(e){return Uu(e,{dir:"right"})}class b1 extends K{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let y1=class extends K{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},g1=class extends K{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const w1=new TextEncoder,x1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function v1(e,t={}){const{strict:n=!1}=t;if(!e)throw new ga(e);if(typeof e!="string")throw new ga(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new wa(e);if(!e.startsWith("0x"))throw new wa(e)}function De(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function E1(e){return e instanceof Uint8Array?He(e):Array.isArray(e)?He(new Uint8Array(e)):e}function Hu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Yr(n,t.size),Mt(n,t.size)):n}function He(e,t={}){let n="";for(let o=0;o<e.length;o++)n+=x1[e[o]];const r=`0x${n}`;return typeof t.size=="number"?(Yr(r,t.size),Ut(r,t.size)):r}function pe(e,t={}){const{signed:n,size:r}=t,o=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const s=typeof i=="bigint"&&n?-i-1n:0;if(i&&o>i||o<s){const l=typeof e=="bigint"?"n":"";throw new Vu({max:i?`${i}${l}`:void 0,min:`${s}${l}`,signed:n,size:r,value:`${e}${l}`})}const c=`0x${(n&&o<0?BigInt.asUintN(r*8,BigInt(o)):o).toString(16)}`;return r?Mt(c,r):c}function fs(e,t={}){return He(w1.encode(e),t)}function Mt(e,t){return zu(e,{dir:"left",size:t})}function Ut(e,t){return zu(e,{dir:"right",size:t})}function Qe(e,t,n,r={}){const{strict:o}=r;n1(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return o&&r1(i,t,n),i}function Re(e){return Math.ceil((e.length-2)/2)}function Gu(e,t={}){const{signed:n}=t;t.size&&Yr(e,t.size);const r=BigInt(e);if(!n)return r;const o=(e.length-2)/2,i=(1n<<BigInt(o)*8n)-1n,s=i>>1n;return r<=s?r:r-i-1n}function qu(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Gu(e,t))}function P1(e,t={}){const{strict:n=!1}=t;try{return v1(e,{strict:n}),!0}catch{return!1}}class Vu extends K{constructor({max:t,min:n,signed:r,size:o,value:i}){super(`Number \`${i}\` is not in safe${o?` ${o*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ga extends K{constructor(t){super(`Value \`${typeof t=="object"?Lu(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class wa extends K{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class A1 extends K{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Wu extends K{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class I1 extends K{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function B1(e){return{address:e.address,amount:pe(e.amount),index:pe(e.index),validatorIndex:pe(e.validatorIndex)}}function Ku(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:pe(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:pe(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:pe(e.gasLimit)},...typeof e.number=="bigint"&&{number:pe(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:pe(e.prevRandao)},...typeof e.time=="bigint"&&{time:pe(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(B1)}}}const Tr=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],ri=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Zu=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],Yu=[...Zu,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],$1=[...Zu,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],xa=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],va=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ju=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Ea=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],S1="0x82ad56cb",Xu="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",T1="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",C1="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ls="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class oi extends R{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Qu extends R{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Jr extends R{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Eo="/docs/contract/encodeDeployData";function ds(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const o=t.find(s=>"type"in s&&s.type==="constructor");if(!o)throw new tp({docsPath:Eo});if(!("inputs"in o))throw new Zs({docsPath:Eo});if(!o.inputs||o.inputs.length===0)throw new Zs({docsPath:Eo});const i=$t(o.inputs,n);return Ve([r,i])}function mn({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new oi({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new oi({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function e0(e,{docsPath:t,...n}){const r=(()=>{const o=Gr(e,n);return o instanceof nr?e:o})();return new lu(r,{docsPath:t,...n})}function t0(){let e=()=>{},t=()=>{};return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}const Po=new Map;function n0({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:o}){const i=async()=>{const d=c();s();const p=d.map(({args:m})=>m);p.length!==0&&e(p).then(m=>{o&&Array.isArray(m)&&m.sort(o);for(let y=0;y<d.length;y++){const{resolve:x}=d[y];x?.([m[y],m])}}).catch(m=>{for(let y=0;y<d.length;y++){const{reject:x}=d[y];x?.(m)}})},s=()=>Po.delete(t),a=()=>c().map(({args:d})=>d),c=()=>Po.get(t)||[],l=d=>Po.set(t,[...c(),d]);return{flush:s,async schedule(d){const{promise:p,resolve:m,reject:y}=t0();return n?.([...a(),d])&&i(),c().length>0?(l({args:d,resolve:m,reject:y}),p):(l({args:d,resolve:m,reject:y}),setTimeout(i,r),p)}}}async function Xr(e,t){const{account:n=e.account,authorizationList:r,batch:o=!!e.batch?.multicall,blockNumber:i,blockTag:s=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:d,data:p,factory:m,factoryData:y,gas:x,gasPrice:v,maxFeePerBlobGas:I,maxFeePerGas:$,maxPriorityFeePerGas:k,nonce:A,to:w,value:E,stateOverride:S,...T}=t,F=n?Ce(n):void 0;if(d&&(m||y))throw new R("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&w)throw new R("Cannot provide both `code` & `to` as parameters.");const j=d&&p,C=m&&y&&w&&p,U=j||C,L=j?r0({code:d,data:p}):C?F1({data:p,factory:m,factoryData:y,to:w}):p;try{hn(t);const Y=(typeof i=="bigint"?M(i):void 0)||s,_=l?Ku(l):void 0,O=Yi(S),H=e.chain?.formatters?.transactionRequest?.format,G=(H||rr)({...qr(T,{format:H}),accessList:a,account:F,authorizationList:r,blobs:c,data:L,gas:x,gasPrice:v,maxFeePerBlobGas:I,maxFeePerGas:$,maxPriorityFeePerGas:k,nonce:A,to:U?void 0:w,value:E},"call");if(o&&R1({request:G})&&!O&&!_)try{return await k1(e,{...G,blockNumber:i,blockTag:s})}catch(J){if(!(J instanceof Qu)&&!(J instanceof oi))throw J}const W=(()=>{const J=[G,Y];return O&&_?[...J,O,_]:O?[...J,O]:_?[...J,{},_]:J})(),V=await e.request({method:"eth_call",params:W});return V==="0x"?{data:void 0}:{data:V}}catch(D){const Y=_1(D),{offchainLookup:_,offchainLookupSignature:O}=await pu(async()=>{const{offchainLookup:H,offchainLookupSignature:N}=await import("./ccip-CC3GUVC_.js");return{offchainLookup:H,offchainLookupSignature:N}},[]);if(e.ccipRead!==!1&&Y?.slice(0,10)===O&&w)return{data:await _(e,{data:Y,to:w})};throw U&&Y?.slice(0,10)==="0x101bb98d"?new bh({factory:m}):e0(D,{...t,account:F,chain:e.chain})}}function R1({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(S1)||!n||Object.values(r).filter(o=>typeof o<"u").length>0)}async function k1(e,t){const{batchSize:n=1024,deployless:r=!1,wait:o=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:s=e.experimental_blockTag??"latest",data:a,to:c}=t,l=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return mn({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Qu})(),p=(typeof i=="bigint"?M(i):void 0)||s,{schedule:m}=n0({id:`${e.uid}.${p}`,wait:o,shouldSplitBatch(v){return v.reduce(($,{data:k})=>$+(k.length-2),0)>n*2},fn:async v=>{const I=v.map(A=>({allowFailure:!0,callData:A.data,target:A.to})),$=We({abi:Tr,args:[I],functionName:"aggregate3"}),k=await e.request({method:"eth_call",params:[{...l===null?{data:r0({code:ls,data:$})}:{to:l,data:$}},p]});return jt({abi:Tr,args:[I],functionName:"aggregate3",data:k||"0x"})}}),[{returnData:y,success:x}]=await m({data:a,to:c});if(!x)throw new Hr({data:y});return y==="0x"?{data:void 0}:{data:y}}function r0(e){const{code:t,data:n}=e;return ds({abi:nc(["constructor(bytes, bytes)"]),bytecode:Xu,args:[t,n]})}function F1(e){const{data:t,factory:n,factoryData:r,to:o}=e;return ds({abi:nc(["constructor(address, bytes, address, bytes)"]),bytecode:T1,args:[o,t,n,r]})}function _1(e){if(!(e instanceof R))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function Ge(e,t){const{abi:n,address:r,args:o,functionName:i,...s}=t,a=We({abi:n,args:o,functionName:i});try{const{data:c}=await q(e,Xr,"call")({...s,data:a,to:r});return jt({abi:n,args:o,functionName:i,data:c||"0x"})}catch(c){throw cn(c,{abi:n,address:r,args:o,docsPath:"/docs/contract/readContract",functionName:i})}}async function O1(e,t){const{abi:n,address:r,args:o,dataSuffix:i,functionName:s,...a}=t,c=a.account?Ce(a.account):e.account,l=We({abi:n,args:o,functionName:s});try{const{data:d}=await q(e,Xr,"call")({batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),p=jt({abi:n,args:o,functionName:s,data:d||"0x"}),m=n.filter(y=>"name"in y&&y.name===t.functionName);return{result:p,request:{abi:m,address:r,args:o,dataSuffix:i,functionName:s,...a,account:c}}}catch(d){throw cn(d,{abi:n,address:r,args:o,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c?.address})}}const Ao=new Map,Pa=new Map;let N1=0;function Bt(e,t,n){const r=++N1,o=()=>Ao.get(e)||[],i=()=>{const d=o();Ao.set(e,d.filter(p=>p.id!==r))},s=()=>{const d=o();if(!d.some(m=>m.id===r))return;const p=Pa.get(e);if(d.length===1&&p){const m=p();m instanceof Promise&&m.catch(()=>{})}i()},a=o();if(Ao.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return s;const c={};for(const d in t)c[d]=(...p)=>{const m=o();if(m.length!==0)for(const y of m)y.fns[d]?.(...p)};const l=n(c);return typeof l=="function"&&Pa.set(e,l),s}async function ii(e){return new Promise(t=>setTimeout(t,e))}function cr(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let o=!0;const i=()=>o=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await n?.(a)??r;await ii(c);const l=async()=>{o&&(await e({unpoll:i}),await ii(r),l())};l()})(),i}const M1=new Map,U1=new Map;function z1(e){const t=(o,i)=>({clear:()=>i.delete(o),get:()=>i.get(o),set:s=>i.set(o,s)}),n=t(e,M1),r=t(e,U1);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function L1(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=z1(t),o=r.response.get();if(o&&n>0&&Date.now()-o.created.getTime()<n)return o.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const s=await i;return r.response.set({created:new Date,data:s}),s}finally{r.promise.clear()}}const j1=e=>`blockNumber.${e}`;async function ur(e,{cacheTime:t=e.cacheTime}={}){const n=await L1(()=>e.request({method:"eth_blockNumber"}),{cacheKey:j1(e.uid),cacheTime:t});return BigInt(n)}async function Qr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const o=r.map(i=>bt(i));return!("abi"in t)||!t.abi?o:is({abi:t.abi,logs:o,strict:n})}async function eo(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function D1(e,t){const{abi:n,address:r,args:o,batch:i=!0,eventName:s,fromBlock:a,onError:c,onLogs:l,poll:d,pollingInterval:p=e.pollingInterval,strict:m}=t;return(typeof d<"u"?d:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const I=m??!1,$=de(["watchContractEvent",r,o,i,e.uid,s,p,I,a]);return Bt($,{onLogs:l,onError:c},k=>{let A;a!==void 0&&(A=a-1n);let w,E=!1;const S=cr(async()=>{if(!E){try{w=await q(e,ou,"createContractEventFilter")({abi:n,address:r,args:o,eventName:s,strict:I,fromBlock:a})}catch{}E=!0;return}try{let T;if(w)T=await q(e,Qr,"getFilterChanges")({filter:w});else{const F=await q(e,ur,"getBlockNumber")({});A&&A<F?T=await q(e,ku,"getContractEvents")({abi:n,address:r,args:o,eventName:s,fromBlock:A+1n,toBlock:F,strict:I}):T=[],A=F}if(T.length===0)return;if(i)k.onLogs(T);else for(const F of T)k.onLogs([F])}catch(T){w&&T instanceof At&&(E=!1),k.onError?.(T)}},{emitOnBegin:!0,interval:p});return async()=>{w&&await q(e,eo,"uninstallFilter")({filter:w}),S()}})})():(()=>{const I=m??!1,$=de(["watchContractEvent",r,o,i,e.uid,s,p,I]);let k=!0,A=()=>k=!1;return Bt($,{onLogs:l,onError:c},w=>((async()=>{try{const E=(()=>{if(e.transport.type==="fallback"){const F=e.transport.transports.find(j=>j.config.type==="webSocket"||j.config.type==="ipc");return F?F.value:e.transport}return e.transport})(),S=s?er({abi:n,eventName:s,args:o}):[],{unsubscribe:T}=await E.subscribe({params:["logs",{address:r,topics:S}],onData(F){if(!k)return;const j=F.result;try{const{eventName:C,args:U}=Br({abi:n,data:j.data,topics:j.topics,strict:m}),L=bt(j,{args:U,eventName:C});w.onLogs([L])}catch(C){let U,L;if(C instanceof Ir||C instanceof ji){if(m)return;U=C.abiItem.name,L=C.abiItem.inputs?.some(Y=>!("name"in Y&&Y.name))}const D=bt(j,{args:L?[]:{},eventName:U});w.onLogs([D])}},onError(F){w.onError?.(F)}});A=T,k||A()}catch(E){c?.(E)}})(),()=>A()))})()}async function H1(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function si(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((o,i)=>{const s=async({count:a=0}={})=>{const c=async({error:l})=>{const d=typeof t=="function"?t({count:a,error:l}):t;d&&await ii(d),s({count:a+1})};try{const l=await e();o(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});i(l)}};s()})}const G1={"0x0":"reverted","0x1":"success"};function ps(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>bt(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?tt(e.transactionIndex):null,status:e.status?G1[e.status]:null,type:e.type?xu[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const q1=Zi("transactionReceipt",ps),ai=256;let wr=ai,xr;function o0(e=11){if(!xr||wr+e>ai*2){xr="",wr=0;for(let t=0;t<ai;t++)xr+=(256+Math.random()*256|0).toString(16).substring(1)}return xr.substring(wr,wr+++e)}function V1(e){const{batch:t,chain:n,ccipRead:r,key:o="base",name:i="Base Client",type:s="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),d=e.pollingInterval??l,p=e.cacheTime??d,m=e.account?Ce(e.account):void 0,{config:y,request:x,value:v}=e.transport({account:m,chain:n,pollingInterval:d}),I={...y,...v},$={account:m,batch:t,cacheTime:p,ccipRead:r,chain:n,key:o,name:i,pollingInterval:d,request:x,transport:I,type:s,uid:o0(),...a?{experimental_blockTag:a}:{}};function k(A){return w=>{const E=w(A);for(const T in $)delete E[T];const S={...A,...E};return Object.assign(S,{extend:k(S)})}}return Object.assign($,{extend:k($)})}function hs(e){if(!(e instanceof R))return!1;const t=e.walk(n=>n instanceof Vo);return t instanceof Vo?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function W1(e){const{abi:t,data:n}=e,r=_t(n,0,4),o=t.find(i=>i.type==="function"&&r===Qn(je(i)));if(!o)throw new cp(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:o.name,args:"inputs"in o&&o.inputs&&o.inputs.length>0?pn(o.inputs,_t(n,4)):void 0}}const Io="/docs/contract/encodeErrorResult";function Aa(e){const{abi:t,errorName:n,args:r}=e;let o=t[0];if(n){const c=Lt({abi:t,args:r,name:n});if(!c)throw new Ys(n,{docsPath:Io});o=c}if(o.type!=="error")throw new Ys(void 0,{docsPath:Io});const i=je(o),s=Qn(i);let a="0x";if(r&&r.length>0){if(!o.inputs)throw new ip(o.name,{docsPath:Io});a=$t(o.inputs,r)}return Ve([s,a])}const Bo="/docs/contract/encodeFunctionResult";function K1(e){const{abi:t,functionName:n,result:r}=e;let o=t[0];if(n){const s=Lt({abi:t,name:n});if(!s)throw new sn(n,{docsPath:Bo});o=s}if(o.type!=="function")throw new sn(void 0,{docsPath:Bo});if(!o.outputs)throw new qc(o.name,{docsPath:Bo});const i=(()=>{if(o.outputs.length===0)return[];if(o.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Vc(r)})();return $t(o.outputs,i)}const to="x-batch-gateway:true";async function Z1(e){const{data:t,ccipRequest:n}=e,{args:[r]}=W1({abi:ri,data:t}),o=[],i=[];return await Promise.all(r.map(async(s,a)=>{try{i[a]=s.urls.includes(to)?await Z1({data:s.data,ccipRequest:n}):await n(s),o[a]=!1}catch(c){o[a]=!0,i[a]=Y1(c)}})),K1({abi:ri,functionName:"query",result:[o,i]})}function Y1(e){return e.name==="HttpRequestError"&&e.status?Aa({abi:ri,errorName:"HttpError",args:[e.status,e.shortMessage]}):Aa({abi:[iu],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function i0(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return et(t)?t:null}function ci(e){let t=new Uint8Array(32).fill(0);if(!e)return ie(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const o=i0(n[r]),i=o?dn(o):le(Ct(n[r]),"bytes");t=le(rt([t,i]),"bytes")}return ie(t)}function J1(e){return`[${e.slice(2)}]`}function X1(e){const t=new Uint8Array(32).fill(0);return e?i0(e)||le(Ct(e)):ie(t)}function ms(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ct(t).byteLength+2);let r=0;const o=t.split(".");for(let i=0;i<o.length;i++){let s=Ct(o[i]);s.byteLength>255&&(s=Ct(J1(X1(o[i])))),n[r]=s.length,n.set(s,r+1),r+=s.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Q1(e,t){const{blockNumber:n,blockTag:r,coinType:o,name:i,gatewayUrls:s,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return mn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(m=>i.endsWith(m)))return null;const p=o!=null?[ci(i),BigInt(o)]:[ci(i)];try{const m=We({abi:va,functionName:"addr",args:p}),y={address:l,abi:Yu,functionName:"resolveWithGateways",args:[Te(ms(i)),m,s??[to]],blockNumber:n,blockTag:r},v=await q(e,Ge,"readContract")(y);if(v[0]==="0x")return null;const I=jt({abi:va,args:p,functionName:"addr",data:v[0]});return I==="0x"||Le(I)==="0x00"?null:I}catch(m){if(a)throw m;if(hs(m))return null;throw m}}class em extends R{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class gn extends R{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class bs extends R{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class tm extends R{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const nm=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,rm=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,om=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,im=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function sm(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ia(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function s0({uri:e,gatewayUrls:t}){const n=om.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ia(t?.ipfs,"https://ipfs.io"),o=Ia(t?.arweave,"https://arweave.net"),i=e.match(nm),{protocol:s,subpath:a,target:c,subtarget:l=""}=i?.groups||{},d=s==="ipns:/"||a==="ipns/",p=s==="ipfs:/"||a==="ipfs/"||rm.test(e);if(e.startsWith("http")&&!d&&!p){let y=e;return t?.arweave&&(y=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:y,isOnChain:!1,isEncoded:!1}}if((d||p)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(s==="ar:/"&&c)return{uri:`${o}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let m=e.replace(im,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new bs({uri:e})}function a0(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new em({data:e});return e.image||e.image_url||e.image_data}async function am({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(o=>o.json());return await ys({gatewayUrls:e,uri:a0(n)})}catch{throw new bs({uri:t})}}async function ys({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=s0({uri:t,gatewayUrls:e});if(r||await sm(n))return n;throw new bs({uri:t})}function cm(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,o]=t.split("/"),[i,s]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new gn({reason:"Only EIP-155 supported"});if(!s)throw new gn({reason:"Chain ID not found"});if(!c)throw new gn({reason:"Contract address not found"});if(!o)throw new gn({reason:"Token ID not found"});if(!a)throw new gn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(s,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:o}}async function um(e,{nft:t}){if(t.namespace==="erc721")return Ge(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return Ge(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new tm({namespace:t.namespace})}async function fm(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?lm(e,{gatewayUrls:t,record:n}):ys({uri:n,gatewayUrls:t})}async function lm(e,{gatewayUrls:t,record:n}){const r=cm(n),o=await um(e,{nft:r}),{uri:i,isOnChain:s,isEncoded:a}=s0({uri:o,gatewayUrls:t});if(s&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const l=a?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(l);return ys({uri:a0(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),am({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function c0(e,t){const{blockNumber:n,blockTag:r,key:o,name:i,gatewayUrls:s,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return mn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c?.ensTlds;if(d&&!d.some(p=>i.endsWith(p)))return null;try{const p={address:l,abi:Yu,args:[Te(ms(i)),We({abi:xa,functionName:"text",args:[ci(i),o]}),s??[to]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},y=await q(e,Ge,"readContract")(p);if(y[0]==="0x")return null;const x=jt({abi:xa,functionName:"text",data:y[0]});return x===""?null:x}catch(p){if(a)throw p;if(hs(p))return null;throw p}}async function dm(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:o,gatewayUrls:i,strict:s,universalResolverAddress:a}){const c=await q(e,c0,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:o,universalResolverAddress:a,gatewayUrls:i,strict:s});if(!c)return null;try{return await fm(e,{record:c,gatewayUrls:r})}catch{return null}}async function pm(e,t){const{address:n,blockNumber:r,blockTag:o,coinType:i=60n,gatewayUrls:s,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return mn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const d={address:l,abi:$1,args:[n,i,s??[to]],functionName:"reverseWithGateways",blockNumber:r,blockTag:o},p=q(e,Ge,"readContract"),[m]=await p(d);return m||null}catch(d){if(a)throw d;if(hs(d))return null;throw d}}async function hm(e,t){const{blockNumber:n,blockTag:r,name:o}=t,{chain:i}=e,s=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return mn({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i?.ensTlds;if(a&&!a.some(l=>o.endsWith(l)))throw new Error(`${o} is not a valid ENS TLD (${a?.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await q(e,Ge,"readContract")({address:s,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Te(ms(o))],blockNumber:n,blockTag:r});return c}async function u0(e,t){const{account:n=e.account,blockNumber:r,blockTag:o="latest",blobs:i,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,to:m,value:y,...x}=t,v=n?Ce(n):void 0;try{hn(t);const $=(typeof r=="bigint"?M(r):void 0)||o,k=e.chain?.formatters?.transactionRequest?.format,w=(k||rr)({...qr(x,{format:k}),account:v,blobs:i,data:s,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,to:m,value:y},"createAccessList"),E=await e.request({method:"eth_createAccessList",params:[w,$]});return{accessList:E.accessList,gasUsed:BigInt(E.gasUsed)}}catch(I){throw e0(I,{...t,account:v,chain:e.chain})}}async function mm(e){const t=Dr(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function f0(e,{address:t,args:n,event:r,events:o,fromBlock:i,strict:s,toBlock:a}={}){const c=o??(r?[r]:void 0),l=Dr(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(y=>er({abi:[y],eventName:y.name,args:n}))],r&&(d=d[0]));const p=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?M(i):i,toBlock:typeof a=="bigint"?M(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:p,request:l(p),strict:!!s,toBlock:a,type:"event"}}async function l0(e){const t=Dr(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function bm(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const o=typeof n=="bigint"?M(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,o||r]});return BigInt(i)}async function ym(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function gm(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const o=n!==void 0?M(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[o||r]},{dedupe:!!o}),tt(i)}async function ui(e,{address:t,blockNumber:n,blockTag:r="latest"}){const o=n!==void 0?M(n):void 0,i=await e.request({method:"eth_getCode",params:[t,o||r]},{dedupe:!!o});if(i!=="0x")return i}class wm extends R{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function xm(e,t){const{address:n,factory:r,factoryData:o}=t;try{const[i,s,a,c,l,d,p]=await q(e,Ge,"readContract")({abi:vm,address:n,functionName:"eip712Domain",factory:r,factoryData:o});return{domain:{name:s,version:a,chainId:Number(c),verifyingContract:l,salt:d},extensions:p,fields:i}}catch(i){const s=i;throw s.name==="ContractFunctionExecutionError"&&s.cause.name==="ContractFunctionZeroDataError"?new wm({address:n}):s}}const vm=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Em(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Pm(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:o}){const i=typeof n=="bigint"?M(n):void 0,s=await e.request({method:"eth_feeHistory",params:[M(t),i||r,o]},{dedupe:!!i});return Em(s)}async function Am(e,{filter:t}){const n=t.strict??!1,o=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>bt(i));return t.abi?is({abi:t.abi,logs:o,strict:n}):o}function Im(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,o=n.address;if(!ae(o))throw new be({address:o});if(r<0)throw new Jr({chainId:r})}gs(e)}function Bm(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new $u;for(const n of t){const r=ne(n),o=tt(_t(n,0,1));if(r!==32)throw new jh({hash:n,size:r});if(o!==Bu)throw new Dh({hash:n,version:o})}}gs(e)}function gs(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:o}=e;if(t<=0)throw new Jr({chainId:t});if(o&&!ae(o))throw new be({address:o});if(r&&r>Vr)throw new Nt({maxFeePerGas:r});if(n&&r&&n>r)throw new Kn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function $m(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:o,to:i}=e;if(t<=0)throw new Jr({chainId:t});if(i&&!ae(i))throw new be({address:i});if(n||o)throw new R("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Vr)throw new Nt({maxFeePerGas:r})}function Sm(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:o,to:i}=e;if(i&&!ae(i))throw new be({address:i});if(typeof t<"u"&&t<=0)throw new Jr({chainId:t});if(n||o)throw new R("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Vr)throw new Nt({maxFeePerGas:r})}function no(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:o}=e[n];for(let i=0;i<o.length;i++)if(o[i].length-2!==64)throw new fh({storageKey:o[i]});if(!ae(r,{strict:!1}))throw new be({address:r});t.push([r,o])}return t}function Tm(e,t){const n=Tu(e);return n==="eip1559"?km(e,t):n==="eip2930"?Fm(e,t):n==="eip4844"?Rm(e,t):n==="eip7702"?Cm(e,t):_m(e,t)}function Cm(e,t){const{authorizationList:n,chainId:r,gas:o,nonce:i,to:s,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:p}=e;Im(e);const m=no(d),y=Om(n);return Ve(["0x04",It([M(r),i?M(i):"0x",l?M(l):"0x",c?M(c):"0x",o?M(o):"0x",s??"0x",a?M(a):"0x",p??"0x",m,y,...fr(e,t)])])}function Rm(e,t){const{chainId:n,gas:r,nonce:o,to:i,value:s,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:p}=e;Bm(e);let m=e.blobVersionedHashes,y=e.sidecars;if(e.blobs&&(typeof m>"u"||typeof y>"u")){const A=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(S=>ie(S)),w=e.kzg,E=es({blobs:A,kzg:w});if(typeof m>"u"&&(m=Pu({commitments:E})),typeof y>"u"){const S=ts({blobs:A,commitments:E,kzg:w});y=Su({blobs:A,commitments:E,proofs:S})}}const x=no(d),v=[M(n),o?M(o):"0x",l?M(l):"0x",c?M(c):"0x",r?M(r):"0x",i??"0x",s?M(s):"0x",p??"0x",x,a?M(a):"0x",m??[],...fr(e,t)],I=[],$=[],k=[];if(y)for(let A=0;A<y.length;A++){const{blob:w,commitment:E,proof:S}=y[A];I.push(w),$.push(E),k.push(S)}return Ve(["0x03",It(y?[v,I,$,k]:v)])}function km(e,t){const{chainId:n,gas:r,nonce:o,to:i,value:s,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:d}=e;gs(e);const p=no(l),m=[M(n),o?M(o):"0x",c?M(c):"0x",a?M(a):"0x",r?M(r):"0x",i??"0x",s?M(s):"0x",d??"0x",p,...fr(e,t)];return Ve(["0x02",It(m)])}function Fm(e,t){const{chainId:n,gas:r,data:o,nonce:i,to:s,value:a,accessList:c,gasPrice:l}=e;$m(e);const d=no(c),p=[M(n),i?M(i):"0x",l?M(l):"0x",r?M(r):"0x",s??"0x",a?M(a):"0x",o??"0x",d,...fr(e,t)];return Ve(["0x01",It(p)])}function _m(e,t){const{chainId:n=0,gas:r,data:o,nonce:i,to:s,value:a,gasPrice:c}=e;Sm(e);let l=[i?M(i):"0x",c?M(c):"0x",r?M(r):"0x",s??"0x",a?M(a):"0x",o??"0x"];if(t){const d=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const y=27n+(t.v===27n?0n:1n);if(t.v!==y)throw new ch({v:t.v});return y})(),p=Le(t.r),m=Le(t.s);l=[...l,M(d),p==="0x00"?"0x":p,m==="0x00"?"0x":m]}else n>0&&(l=[...l,M(n),"0x","0x"]);return It(l)}function fr(e,t){const n=t??e,{v:r,yParity:o}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof o>"u")return[];const i=Le(n.r),s=Le(n.s);return[typeof o=="number"?o?M(1):"0x":r===0n?"0x":r===1n?M(1):r===27n?"0x":M(1),i==="0x00"?"0x":i,s==="0x00"?"0x":s]}function Om(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:o,...i}=n,s=n.address;t.push([r?Te(r):"0x",s,o?Te(o):"0x",...fr({},i)])}return t}async function Nm({address:e,authorization:t,signature:n}){return Wr(Xc(e),await yu({authorization:t,signature:n}))}const vr=new Lr(8192);function Mm(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(vr.get(n))return vr.get(n);const r=e().finally(()=>vr.delete(n));return vr.set(n,r),r}function Um(e,t={}){return async(n,r={})=>{const{dedupe:o=!1,methods:i,retryDelay:s=150,retryCount:a=3,uid:c}={...t,...r},{method:l}=n;if(i?.exclude?.includes(l))throw new St(new Error("method not supported"),{method:l});if(i?.include&&!i.include.includes(l))throw new St(new Error("method not supported"),{method:l});const d=o?Bn(`${c}.${de(n)}`):void 0;return Mm(()=>si(async()=>{try{return await e(n)}catch(p){const m=p;switch(m.code){case Sn.code:throw new Sn(m);case Tn.code:throw new Tn(m);case Cn.code:throw new Cn(m,{method:n.method});case Rn.code:throw new Rn(m);case Ot.code:throw new Ot(m);case At.code:throw new At(m);case kn.code:throw new kn(m);case Fn.code:throw new Fn(m);case _n.code:throw new _n(m);case St.code:throw new St(m,{method:n.method});case an.code:throw new an(m);case On.code:throw new On(m);case Qt.code:throw new Qt(m);case Nn.code:throw new Nn(m);case Mn.code:throw new Mn(m);case Un.code:throw new Un(m);case zn.code:throw new zn(m);case Ln.code:throw new Ln(m);case jn.code:throw new jn(m);case Dn.code:throw new Dn(m);case Hn.code:throw new Hn(m);case Gn.code:throw new Gn(m);case qn.code:throw new qn(m);case Vn.code:throw new Vn(m);case Wn.code:throw new Wn(m);case 5e3:throw new Qt(m);default:throw p instanceof R?p:new gh(m)}}},{delay:({count:p,error:m})=>{if(m&&m instanceof vn){const y=m?.headers?.get("Retry-After");if(y?.match(/\d/))return Number.parseInt(y,10)*1e3}return~~(1<<p)*s},retryCount:a,shouldRetry:({error:p})=>zm(p)}),{enabled:o,id:d})}}function zm(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===an.code||e.code===Ot.code:e instanceof vn&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Lm(e){const t={formatters:void 0,fees:void 0,serializers:void 0,...e};function n(r){return o=>{const i=typeof o=="function"?o(r):o,s={...r,...i};return Object.assign(s,{extend:n(s)})}}return Object.assign(t,{extend:n(t)})}function jm(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((o,i)=>{(async()=>{let s;try{const a=new AbortController;n>0&&(s=setTimeout(()=>{r&&a.abort()},n)),o(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&i(t),i(a)}finally{clearTimeout(s)}})()})}function Dm(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Ba=Dm();function Hm(e,t={}){return{async request(n){const{body:r,fetchFn:o=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:s=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:d,signal:p}=c;try{const m=await jm(async({signal:x})=>{const v={...c,body:Array.isArray(r)?de(r.map(A=>({jsonrpc:"2.0",id:A.id??Ba.take(),...A}))):de({jsonrpc:"2.0",id:r.id??Ba.take(),...r}),headers:{"Content-Type":"application/json",...l},method:d||"POST",signal:p||(a>0?x:null)},I=new Request(e,v),$=await i?.(I,v)??{...v,url:e};return await o($.url??e,$)},{errorInstance:new sa({body:r,url:e}),timeout:a,signal:!0});s&&await s(m);let y;if(m.headers.get("Content-Type")?.startsWith("application/json"))y=await m.json();else{y=await m.text();try{y=JSON.parse(y||"{}")}catch(x){if(m.ok)throw x;y={error:y}}}if(!m.ok)throw new vn({body:r,details:de(y.error)||m.statusText,headers:m.headers,status:m.status,url:e});return y}catch(m){throw m instanceof vn||m instanceof sa?m:new vn({body:r,cause:m,url:e})}}}}const Gm=`Ethereum Signed Message:
`;function qm(e){const t=typeof e=="string"?Bn(e):typeof e.raw=="string"?e.raw:ie(e.raw),n=Bn(`${Gm}${ne(t)}`);return rt([n,t])}function d0(e,t){return le(qm(e),t)}class Vm extends R{constructor({domain:t}){super(`Invalid domain "${de(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Wm extends R{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Km extends R{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Zm(e){const{domain:t,message:n,primaryType:r,types:o}=e,i=(s,a)=>{for(const c of s){const{name:l,type:d}=c,p=a[l],m=d.match(nu);if(m&&(typeof p=="number"||typeof p=="bigint")){const[v,I,$]=m;M(p,{signed:I==="int",size:Number.parseInt($,10)/8})}if(d==="address"&&typeof p=="string"&&!ae(p))throw new be({address:p});const y=d.match(kp);if(y){const[v,I]=y;if(I&&ne(p)!==Number.parseInt(I,10))throw new fp({expectedSize:Number.parseInt(I,10),givenSize:ne(p)})}const x=o[d];x&&(Jm(d),i(x,p))}};if(o.EIP712Domain&&t){if(typeof t!="object")throw new Vm({domain:t});i(o.EIP712Domain,t)}if(r!=="EIP712Domain")if(o[r])i(o[r],n);else throw new Wm({primaryType:r,types:o})}function Ym({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Jm(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Km({type:e})}function Xm(e){const{domain:t={},message:n,primaryType:r}=e,o={EIP712Domain:Ym({domain:t}),...e.types};Zm({domain:t,message:n,primaryType:r,types:o});const i=["0x1901"];return t&&i.push(Qm({domain:t,types:o})),r!=="EIP712Domain"&&i.push(p0({data:n,primaryType:r,types:o})),le(rt(i))}function Qm({domain:e,types:t}){return p0({data:e,primaryType:"EIP712Domain",types:t})}function p0({data:e,primaryType:t,types:n}){const r=h0({data:e,primaryType:t,types:n});return le(r)}function h0({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],o=[eb({primaryType:t,types:n})];for(const i of n[t]){const[s,a]=b0({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(s),o.push(a)}return $t(r,o)}function eb({primaryType:e,types:t}){const n=Te(tb({primaryType:e,types:t}));return le(n)}function tb({primaryType:e,types:t}){let n="";const r=m0({primaryType:e,types:t});r.delete(e);const o=[e,...Array.from(r).sort()];for(const i of o)n+=`${i}(${t[i].map(({name:s,type:a})=>`${a} ${s}`).join(",")})`;return n}function m0({primaryType:e,types:t},n=new Set){const o=e.match(/^\w*/u)?.[0];if(n.has(o)||t[o]===void 0)return n;n.add(o);for(const i of t[o])m0({primaryType:i.type,types:t},n);return n}function b0({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},le(h0({data:r,primaryType:n,types:e}))];if(n==="bytes")return[{type:"bytes32"},le(r)];if(n==="string")return[{type:"bytes32"},le(Te(r))];if(n.lastIndexOf("]")===n.length-1){const o=n.slice(0,n.lastIndexOf("[")),i=r.map(s=>b0({name:t,type:o,types:e,value:s}));return[{type:"bytes32"},le($t(i.map(([s])=>s),i.map(([,s])=>s)))]}return[{type:n},r]}class nb extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const rb={checksum:new nb(8192)},$o=rb.checksum;function y0(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Bi(a1(e));return n==="Bytes"?r:He(r)}const ob=/^0x[a-fA-F0-9]{40}$/;function ro(e,t={}){const{strict:n=!0}=t;if(!ob.test(e))throw new $a({address:e,cause:new ib});if(n){if(e.toLowerCase()===e)return;if(g0(e)!==e)throw new $a({address:e,cause:new sb})}}function g0(e){if($o.has(e))return $o.get(e);ro(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=y0(u1(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const o=`0x${r.join("")}`;return $o.set(e,o),o}function fi(e,t={}){const{strict:n=!0}=t??{};try{return ro(e,{strict:n}),!0}catch{return!1}}class $a extends K{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ib extends K{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class sb extends K{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const ab=/^(.*)\[([0-9]*)\]$/,cb=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,w0=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sa=2n**256n-1n;function tn(e,t,n){const{checksumAddress:r,staticPosition:o}=n,i=vs(t.type);if(i){const[s,a]=i;return fb(e,{...t,type:a},{checksumAddress:r,length:s,staticPosition:o})}if(t.type==="tuple")return hb(e,t,{checksumAddress:r,staticPosition:o});if(t.type==="address")return ub(e,{checksum:r});if(t.type==="bool")return lb(e);if(t.type.startsWith("bytes"))return db(e,t,{staticPosition:o});if(t.type.startsWith("uint")||t.type.startsWith("int"))return pb(e,t);if(t.type==="string")return mb(e,{staticPosition:o});throw new Ps(t.type)}const Ta=32,li=32;function ub(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?g0(i):i)(He(l1(r,-20))),32]}function fb(e,t,n){const{checksumAddress:r,length:o,staticPosition:i}=n;if(!o){const c=ht(e.readBytes(li)),l=i+c,d=l+Ta;e.setPosition(l);const p=ht(e.readBytes(Ta)),m=Jn(t);let y=0;const x=[];for(let v=0;v<p;++v){e.setPosition(d+(m?v*32:y));const[I,$]=tn(e,t,{checksumAddress:r,staticPosition:d});y+=$,x.push(I)}return e.setPosition(i+32),[x,32]}if(Jn(t)){const c=ht(e.readBytes(li)),l=i+c,d=[];for(let p=0;p<o;++p){e.setPosition(l+p*32);const[m]=tn(e,t,{checksumAddress:r,staticPosition:l});d.push(m)}return e.setPosition(i+32),[d,32]}let s=0;const a=[];for(let c=0;c<o;++c){const[l,d]=tn(e,t,{checksumAddress:r,staticPosition:i+s});s+=d,a.push(l)}return[a,s]}function lb(e){return[p1(e.readBytes(32),{size:32}),32]}function db(e,t,{staticPosition:n}){const[r,o]=t.type.split("bytes");if(!o){const s=ht(e.readBytes(32));e.setPosition(n+s);const a=ht(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[He(c),32]}return[He(e.readBytes(Number.parseInt(o,10),32)),32]}function pb(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),o=e.readBytes(32);return[r>48?d1(o,{signed:n}):ht(o,{signed:n}),32]}function hb(e,t,n){const{checksumAddress:r,staticPosition:o}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),s=i?[]:{};let a=0;if(Jn(t)){const c=ht(e.readBytes(li)),l=o+c;for(let d=0;d<t.components.length;++d){const p=t.components[d];e.setPosition(l+a);const[m,y]=tn(e,p,{checksumAddress:r,staticPosition:l});a+=y,s[i?d:p?.name]=m}return e.setPosition(o+32),[s,32]}for(let c=0;c<t.components.length;++c){const l=t.components[c],[d,p]=tn(e,l,{checksumAddress:r,staticPosition:o});s[i?c:l?.name]=d,a+=p}return[s,a]}function mb(e,{staticPosition:t}){const n=ht(e.readBytes(32)),r=t+n;e.setPosition(r);const o=ht(e.readBytes(32));if(o===0)return e.setPosition(t+32),["",32];const i=e.readBytes(o,32),s=h1(Du(i));return e.setPosition(t+32),[s,32]}function bb({checksumAddress:e,parameters:t,values:n}){const r=[];for(let o=0;o<t.length;o++)r.push(ws({checksumAddress:e,parameter:t[o],value:n[o]}));return r}function ws({checksumAddress:e=!1,parameter:t,value:n}){const r=t,o=vs(r.type);if(o){const[i,s]=o;return gb(n,{checksumAddress:e,length:i,parameter:{...r,type:s}})}if(r.type==="tuple")return Pb(n,{checksumAddress:e,parameter:r});if(r.type==="address")return yb(n,{checksum:e});if(r.type==="bool")return xb(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,s="256"]=w0.exec(r.type)??[];return vb(n,{signed:i,size:Number(s)})}if(r.type.startsWith("bytes"))return wb(n,{type:r.type});if(r.type==="string")return Eb(n);throw new Ps(r.type)}function xs(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:a}=e[i];s?t+=32:t+=Re(a)}const n=[],r=[];let o=0;for(let i=0;i<e.length;i++){const{dynamic:s,encoded:a}=e[i];s?(n.push(pe(t+o,{size:32})),r.push(a),o+=Re(a)):n.push(a)}return De(...n,...r)}function yb(e,t){const{checksum:n=!1}=t;return ro(e,{strict:n}),{dynamic:!1,encoded:Mt(e.toLowerCase())}}function gb(e,t){const{checksumAddress:n,length:r,parameter:o}=t,i=r===null;if(!Array.isArray(e))throw new kb(e);if(!i&&e.length!==r)throw new Rb({expectedLength:r,givenLength:e.length,type:`${o.type}[${r}]`});let s=!1;const a=[];for(let c=0;c<e.length;c++){const l=ws({checksumAddress:n,parameter:o,value:e[c]});l.dynamic&&(s=!0),a.push(l)}if(i||s){const c=xs(a);if(i){const l=pe(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?De(l,c):l}}if(s)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:De(...a.map(({encoded:c})=>c))}}function wb(e,{type:t}){const[,n]=t.split("bytes"),r=Re(e);if(!n){let o=e;return r%32!==0&&(o=Ut(o,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:De(Mt(pe(r,{size:32})),o)}}if(r!==Number.parseInt(n,10))throw new v0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ut(e)}}function xb(e){if(typeof e!="boolean")throw new K(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Mt(Hu(e))}}function vb(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,o=t?-r-1n:0n;if(e>r||e<o)throw new Vu({max:r.toString(),min:o.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:pe(e,{size:32,signed:t})}}function Eb(e){const t=fs(e),n=Math.ceil(Re(t)/32),r=[];for(let o=0;o<n;o++)r.push(Ut(Qe(t,o*32,(o+1)*32)));return{dynamic:!0,encoded:De(Ut(pe(Re(t),{size:32})),...r)}}function Pb(e,t){const{checksumAddress:n,parameter:r}=t;let o=!1;const i=[];for(let s=0;s<r.components.length;s++){const a=r.components[s],c=Array.isArray(e)?s:a.name,l=ws({checksumAddress:n,parameter:a,value:e[c]});i.push(l),l.dynamic&&(o=!0)}return{dynamic:o,encoded:o?xs(i):De(...i.map(({encoded:s})=>s))}}function vs(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Jn(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Jn);const n=vs(e.type);return!!(n&&Jn({...e,type:n[1]}))}const Ab={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new $b({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Bb({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ca({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ca({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Ib(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Ab);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Ca extends K{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Bb extends K{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class $b extends K{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Sb(e,t,n={}){const{as:r="Array",checksumAddress:o=!1}=n,i=typeof t=="string"?ju(t):t,s=Ib(i);if(Zt(i)===0&&e.length>0)throw new Cb;if(Zt(i)&&Zt(i)<32)throw new Tb({data:typeof t=="string"?t:He(t),parameters:e,size:Zt(i)});let a=0;const c=r==="Array"?[]:{};for(let l=0;l<e.length;++l){const d=e[l];s.setPosition(a);const[p,m]=tn(s,d,{checksumAddress:o,staticPosition:0});a+=m,r==="Array"?c.push(p):c[d.name??l]=p}return c}function Es(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new E0({expectedLength:e.length,givenLength:t.length});const o=bb({checksumAddress:r,parameters:e,values:t}),i=xs(o);return i.length===0?"0x":i}function di(e,t){if(e.length!==t.length)throw new E0({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r];n.push(di.encode(o,i))}return De(...n)}(function(e){function t(n,r,o=!1){if(n==="address"){const c=r;return ro(c),Mt(c.toLowerCase(),o?32:0)}if(n==="string")return fs(r);if(n==="bytes")return r;if(n==="bool")return Mt(Hu(r),o?32:1);const i=n.match(w0);if(i){const[c,l,d="256"]=i,p=Number.parseInt(d,10)/8;return pe(r,{size:o?32:p,signed:l==="int"})}const s=n.match(cb);if(s){const[c,l]=s;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new v0({expectedSize:Number.parseInt(l,10),value:r});return Ut(r,o?32:0)}const a=n.match(ab);if(a&&Array.isArray(r)){const[c,l]=a,d=[];for(let p=0;p<r.length;p++)d.push(t(l,r[p],!0));return d.length===0?"0x":De(...d)}throw new Ps(n)}e.encode=t})(di||(di={}));function x0(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ks(e):e}class Tb extends K{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Vt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Cb extends K{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Rb extends K{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class v0 extends K{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Re(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class E0 extends K{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class kb extends K{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Ps extends K{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ve=BigInt(0),me=BigInt(1),Tt=BigInt(2),Fb=BigInt(3),P0=BigInt(4),A0=BigInt(5),I0=BigInt(8);function xe(e,t){const n=e%t;return n>=ve?n:t+n}function Fe(e,t,n){let r=e;for(;t-- >ve;)r*=r,r%=n;return r}function pi(e,t){if(e===ve)throw new Error("invert: expected non-zero number");if(t<=ve)throw new Error("invert: expected positive modulus, got "+t);let n=xe(e,t),r=t,o=ve,i=me;for(;n!==ve;){const a=r/n,c=r%n,l=o-i*a;r=n,n=c,o=i,i=l}if(r!==me)throw new Error("invert: does not exist");return xe(o,t)}function B0(e,t){const n=(e.ORDER+me)/P0,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function _b(e,t){const n=(e.ORDER-A0)/I0,r=e.mul(t,Tt),o=e.pow(r,n),i=e.mul(t,o),s=e.mul(e.mul(i,Tt),o),a=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Ob(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-me,n=0;for(;t%Tt===ve;)t/=Tt,n++;let r=Tt;const o=As(e);for(;Ra(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return B0;let i=o.pow(r,t);const s=(t+me)/Tt;return function(c,l){if(c.is0(l))return l;if(Ra(c,l)!==1)throw new Error("Cannot find square root");let d=n,p=c.mul(c.ONE,i),m=c.pow(l,t),y=c.pow(l,s);for(;!c.eql(m,c.ONE);){if(c.is0(m))return c.ZERO;let x=1,v=c.sqr(m);for(;!c.eql(v,c.ONE);)if(x++,v=c.sqr(v),x===d)throw new Error("Cannot find square root");const I=me<<BigInt(d-x-1),$=c.pow(p,I);d=x,p=c.sqr($),m=c.mul(m,p),y=c.mul(y,$)}return y}}function Nb(e){return e%P0===Fb?B0:e%I0===A0?_b:Ob(e)}const Mb=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ub(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Mb.reduce((r,o)=>(r[o]="function",r),t);return Zr(e,n)}function zb(e,t,n){if(n<ve)throw new Error("invalid exponent, negatives unsupported");if(n===ve)return e.ONE;if(n===me)return t;let r=e.ONE,o=t;for(;n>ve;)n&me&&(r=e.mul(r,o)),o=e.sqr(o),n>>=me;return r}function $0(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),o=t.reduce((s,a,c)=>e.is0(a)?s:(r[c]=s,e.mul(s,a)),e.ONE),i=e.inv(o);return t.reduceRight((s,a,c)=>e.is0(a)?s:(r[c]=e.mul(s,r[c]),e.mul(s,a)),i),r}function Ra(e,t){const n=(e.ORDER-me)/Tt,r=e.pow(t,n),o=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),s=e.eql(r,e.neg(e.ONE));if(!o&&!i&&!s)throw new Error("invalid Legendre symbol result");return o?1:i?0:-1}function S0(e,t){t!==void 0&&Pn(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function As(e,t,n=!1,r={}){if(e<=ve)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:o,nByteLength:i}=S0(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:n,BITS:o,BYTES:i,MASK:Kr(o),ZERO:ve,ONE:me,create:c=>xe(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ve<=c&&c<e},is0:c=>c===ve,isOdd:c=>(c&me)===me,neg:c=>xe(-c,e),eql:(c,l)=>c===l,sqr:c=>xe(c*c,e),add:(c,l)=>xe(c+l,e),sub:(c,l)=>xe(c-l,e),mul:(c,l)=>xe(c*l,e),pow:(c,l)=>zb(a,c,l),div:(c,l)=>xe(c*pi(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>pi(c,e),sqrt:r.sqrt||(c=>(s||(s=Nb(e)),s(a,c))),toBytes:c=>n?Nu(c,i):sr(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Ou(c):Rt(c)},invertBatch:c=>$0(a,c),cmov:(c,l,d)=>d?l:c});return Object.freeze(a)}function T0(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function C0(e){const t=T0(e);return t+Math.ceil(t/2)}function Lb(e,t,n=!1){const r=e.length,o=T0(t),i=C0(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const s=n?Ou(e):Rt(e),a=xe(s,t-me)+me;return n?Nu(a,o):sr(a,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ka=BigInt(0),hi=BigInt(1);function So(e,t){const n=t.negate();return e?n:t}function R0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function To(e,t){R0(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),o=2**e,i=Kr(e),s=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:o,shiftBy:s}}function Fa(e,t,n){const{windowSize:r,mask:o,maxNumber:i,shiftBy:s}=n;let a=Number(e&o),c=e>>s;a>r&&(a-=i,c+=hi);const l=t*r,d=l+Math.abs(a)-1,p=a===0,m=a<0,y=t%2!==0;return{nextN:c,offset:d,isZero:p,isNeg:m,isNegF:y,offsetF:l}}function jb(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Db(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Co=new WeakMap,k0=new WeakMap;function Ro(e){return k0.get(e)||1}function Hb(e,t){return{constTimeNegate:So,hasPrecomputes(n){return Ro(n)!==1},unsafeLadder(n,r,o=e.ZERO){let i=n;for(;r>ka;)r&hi&&(o=o.add(i)),i=i.double(),r>>=hi;return o},precomputeWindow(n,r){const{windows:o,windowSize:i}=To(r,t),s=[];let a=n,c=a;for(let l=0;l<o;l++){c=a,s.push(c);for(let d=1;d<i;d++)c=c.add(a),s.push(c);a=c.double()}return s},wNAF(n,r,o){let i=e.ZERO,s=e.BASE;const a=To(n,t);for(let c=0;c<a.windows;c++){const{nextN:l,offset:d,isZero:p,isNeg:m,isNegF:y,offsetF:x}=Fa(o,c,a);o=l,p?s=s.add(So(y,r[x])):i=i.add(So(m,r[d]))}return{p:i,f:s}},wNAFUnsafe(n,r,o,i=e.ZERO){const s=To(n,t);for(let a=0;a<s.windows&&o!==ka;a++){const{nextN:c,offset:l,isZero:d,isNeg:p}=Fa(o,a,s);if(o=c,!d){const m=r[l];i=i.add(p?m.negate():m)}}return i},getPrecomputes(n,r,o){let i=Co.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Co.set(r,o(i))),i},wNAFCached(n,r,o){const i=Ro(n);return this.wNAF(i,this.getPrecomputes(i,n,o),r)},wNAFCachedUnsafe(n,r,o,i){const s=Ro(n);return s===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(s,this.getPrecomputes(s,n,o),r,i)},setWindowSize(n,r){R0(r,t),k0.set(n,r),Co.delete(n)}}}function Gb(e,t,n,r){jb(n,e),Db(r,t);const o=n.length,i=r.length;if(o!==i)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=Yh(BigInt(o));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=Kr(c),d=new Array(Number(l)+1).fill(s),p=Math.floor((t.BITS-1)/c)*c;let m=s;for(let y=p;y>=0;y-=c){d.fill(s);for(let v=0;v<i;v++){const I=r[v],$=Number(I>>BigInt(y)&l);d[$]=d[$].add(n[v])}let x=s;for(let v=d.length-1,I=s;v>0;v--)I=I.add(d[v]),x=x.add(I);if(m=m.add(x),y!==0)for(let v=0;v<c;v++)m=m.double()}return m}function F0(e){return Ub(e.Fp),Zr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...S0(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function _a(e){e.lowS!==void 0&&Zn("lowS",e.lowS),e.prehash!==void 0&&Zn("prehash",e.prehash)}function qb(e){const t=F0(e);Zr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Vb extends Error{constructor(t=""){super(t)}}const ft={Err:Vb,_tlv:{encode:(e,t)=>{const{Err:n}=ft;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,o=gr(r);if(o.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?gr(o.length/2|128):"";return gr(e)+i+o+t},decode(e,t){const{Err:n}=ft;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const o=t[r++],i=!!(o&128);let s=0;if(!i)s=o;else{const c=o&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=t.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of l)s=s<<8|d;if(r+=c,s<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+s);if(a.length!==s)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=ft;if(e<lt)throw new t("integer: negative integers are not allowed");let n=gr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ft;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Rt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ft,o=Oe("signature",e),{v:i,l:s}=r.decode(48,o);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:l,l:d}=r.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(e){const{_tlv:t,_int:n}=ft,r=t.encode(2,n.encode(e.r)),o=t.encode(2,n.encode(e.s)),i=r+o;return t.encode(48,i)}};function ko(e,t){return Yn(sr(e,t))}const lt=BigInt(0),ue=BigInt(1);BigInt(2);const Fo=BigInt(3),Wb=BigInt(4);function Kb(e){const t=qb(e),{Fp:n}=t,r=As(t.n,t.nBitLength),o=t.toBytes||((A,w,E)=>{const S=w.toAffine();return Sr(Uint8Array.from([4]),n.toBytes(S.x),n.toBytes(S.y))}),i=t.fromBytes||(A=>{const w=A.subarray(1),E=n.fromBytes(w.subarray(0,n.BYTES)),S=n.fromBytes(w.subarray(n.BYTES,2*n.BYTES));return{x:E,y:S}});function s(A){const{a:w,b:E}=t,S=n.sqr(A),T=n.mul(S,A);return n.add(n.add(T,n.mul(A,w)),E)}function a(A,w){const E=n.sqr(w),S=s(A);return n.eql(E,S)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Fo),Wb),l=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error("bad curve params: a or b");function d(A){return us(A,ue,t.n)}function p(A){const{allowedPrivateKeyLengths:w,nByteLength:E,wrapPrivateKey:S,n:T}=t;if(w&&typeof A!="bigint"){if(ir(A)&&(A=Yn(A)),typeof A!="string"||!w.includes(A.length))throw new Error("invalid private key");A=A.padStart(E*2,"0")}let F;try{F=typeof A=="bigint"?A:Rt(Oe("private key",A,E))}catch{throw new Error("invalid private key, expected hex or "+E+" bytes, got "+typeof A)}return S&&(F=xe(F,T)),en("private key",F,ue,T),F}function m(A){if(!(A instanceof v))throw new Error("ProjectivePoint expected")}const y=ba((A,w)=>{const{px:E,py:S,pz:T}=A;if(n.eql(T,n.ONE))return{x:E,y:S};const F=A.is0();w==null&&(w=F?n.ONE:n.inv(T));const j=n.mul(E,w),C=n.mul(S,w),U=n.mul(T,w);if(F)return{x:n.ZERO,y:n.ZERO};if(!n.eql(U,n.ONE))throw new Error("invZ was invalid");return{x:j,y:C}}),x=ba(A=>{if(A.is0()){if(t.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:w,y:E}=A.toAffine();if(!n.isValid(w)||!n.isValid(E))throw new Error("bad point: x or y not FE");if(!a(w,E))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class v{constructor(w,E,S){if(w==null||!n.isValid(w))throw new Error("x required");if(E==null||!n.isValid(E)||n.is0(E))throw new Error("y required");if(S==null||!n.isValid(S))throw new Error("z required");this.px=w,this.py=E,this.pz=S,Object.freeze(this)}static fromAffine(w){const{x:E,y:S}=w||{};if(!w||!n.isValid(E)||!n.isValid(S))throw new Error("invalid affine point");if(w instanceof v)throw new Error("projective point not allowed");const T=F=>n.eql(F,n.ZERO);return T(E)&&T(S)?v.ZERO:new v(E,S,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const E=$0(n,w.map(S=>S.pz));return w.map((S,T)=>S.toAffine(E[T])).map(v.fromAffine)}static fromHex(w){const E=v.fromAffine(i(Oe("pointHex",w)));return E.assertValidity(),E}static fromPrivateKey(w){return v.BASE.multiply(p(w))}static msm(w,E){return Gb(v,r,w,E)}_setWindowSize(w){k.setWindowSize(this,w)}assertValidity(){x(this)}hasEvenY(){const{y:w}=this.toAffine();if(n.isOdd)return!n.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){m(w);const{px:E,py:S,pz:T}=this,{px:F,py:j,pz:C}=w,U=n.eql(n.mul(E,C),n.mul(F,T)),L=n.eql(n.mul(S,C),n.mul(j,T));return U&&L}negate(){return new v(this.px,n.neg(this.py),this.pz)}double(){const{a:w,b:E}=t,S=n.mul(E,Fo),{px:T,py:F,pz:j}=this;let C=n.ZERO,U=n.ZERO,L=n.ZERO,D=n.mul(T,T),Y=n.mul(F,F),_=n.mul(j,j),O=n.mul(T,F);return O=n.add(O,O),L=n.mul(T,j),L=n.add(L,L),C=n.mul(w,L),U=n.mul(S,_),U=n.add(C,U),C=n.sub(Y,U),U=n.add(Y,U),U=n.mul(C,U),C=n.mul(O,C),L=n.mul(S,L),_=n.mul(w,_),O=n.sub(D,_),O=n.mul(w,O),O=n.add(O,L),L=n.add(D,D),D=n.add(L,D),D=n.add(D,_),D=n.mul(D,O),U=n.add(U,D),_=n.mul(F,j),_=n.add(_,_),D=n.mul(_,O),C=n.sub(C,D),L=n.mul(_,Y),L=n.add(L,L),L=n.add(L,L),new v(C,U,L)}add(w){m(w);const{px:E,py:S,pz:T}=this,{px:F,py:j,pz:C}=w;let U=n.ZERO,L=n.ZERO,D=n.ZERO;const Y=t.a,_=n.mul(t.b,Fo);let O=n.mul(E,F),H=n.mul(S,j),N=n.mul(T,C),G=n.add(E,S),W=n.add(F,j);G=n.mul(G,W),W=n.add(O,H),G=n.sub(G,W),W=n.add(E,T);let V=n.add(F,C);return W=n.mul(W,V),V=n.add(O,N),W=n.sub(W,V),V=n.add(S,T),U=n.add(j,C),V=n.mul(V,U),U=n.add(H,N),V=n.sub(V,U),D=n.mul(Y,W),U=n.mul(_,N),D=n.add(U,D),U=n.sub(H,D),D=n.add(H,D),L=n.mul(U,D),H=n.add(O,O),H=n.add(H,O),N=n.mul(Y,N),W=n.mul(_,W),H=n.add(H,N),N=n.sub(O,N),N=n.mul(Y,N),W=n.add(W,N),O=n.mul(H,W),L=n.add(L,O),O=n.mul(V,W),U=n.mul(G,U),U=n.sub(U,O),O=n.mul(G,H),D=n.mul(V,D),D=n.add(D,O),new v(U,L,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(v.ZERO)}wNAF(w){return k.wNAFCached(this,w,v.normalizeZ)}multiplyUnsafe(w){const{endo:E,n:S}=t;en("scalar",w,lt,S);const T=v.ZERO;if(w===lt)return T;if(this.is0()||w===ue)return this;if(!E||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,w,v.normalizeZ);let{k1neg:F,k1:j,k2neg:C,k2:U}=E.splitScalar(w),L=T,D=T,Y=this;for(;j>lt||U>lt;)j&ue&&(L=L.add(Y)),U&ue&&(D=D.add(Y)),Y=Y.double(),j>>=ue,U>>=ue;return F&&(L=L.negate()),C&&(D=D.negate()),D=new v(n.mul(D.px,E.beta),D.py,D.pz),L.add(D)}multiply(w){const{endo:E,n:S}=t;en("scalar",w,ue,S);let T,F;if(E){const{k1neg:j,k1:C,k2neg:U,k2:L}=E.splitScalar(w);let{p:D,f:Y}=this.wNAF(C),{p:_,f:O}=this.wNAF(L);D=k.constTimeNegate(j,D),_=k.constTimeNegate(U,_),_=new v(n.mul(_.px,E.beta),_.py,_.pz),T=D.add(_),F=Y.add(O)}else{const{p:j,f:C}=this.wNAF(w);T=j,F=C}return v.normalizeZ([T,F])[0]}multiplyAndAddUnsafe(w,E,S){const T=v.BASE,F=(C,U)=>U===lt||U===ue||!C.equals(T)?C.multiplyUnsafe(U):C.multiply(U),j=F(this,E).add(F(w,S));return j.is0()?void 0:j}toAffine(w){return y(this,w)}isTorsionFree(){const{h:w,isTorsionFree:E}=t;if(w===ue)return!0;if(E)return E(v,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:E}=t;return w===ue?this:E?E(v,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return Zn("isCompressed",w),this.assertValidity(),o(v,this,w)}toHex(w=!0){return Zn("isCompressed",w),Yn(this.toRawBytes(w))}}v.BASE=new v(t.Gx,t.Gy,n.ONE),v.ZERO=new v(n.ZERO,n.ONE,n.ZERO);const{endo:I,nBitLength:$}=t,k=Hb(v,I?Math.ceil($/2):$);return{CURVE:t,ProjectivePoint:v,normPrivateKeyToScalar:p,weierstrassEquation:s,isWithinCurveOrder:d}}function Zb(e){const t=F0(e);return Zr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Yb(e){const t=Zb(e),{Fp:n,n:r,nByteLength:o,nBitLength:i}=t,s=n.BYTES+1,a=2*n.BYTES+1;function c(_){return xe(_,r)}function l(_){return pi(_,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:p,weierstrassEquation:m,isWithinCurveOrder:y}=Kb({...t,toBytes(_,O,H){const N=O.toAffine(),G=n.toBytes(N.x),W=Sr;return Zn("isCompressed",H),H?W(Uint8Array.from([O.hasEvenY()?2:3]),G):W(Uint8Array.from([4]),G,n.toBytes(N.y))},fromBytes(_){const O=_.length,H=_[0],N=_.subarray(1);if(O===s&&(H===2||H===3)){const G=Rt(N);if(!us(G,ue,n.ORDER))throw new Error("Point is not on curve");const W=m(G);let V;try{V=n.sqrt(W)}catch(fe){const se=fe instanceof Error?": "+fe.message:"";throw new Error("Point is not on curve"+se)}const J=(V&ue)===ue;return(H&1)===1!==J&&(V=n.neg(V)),{x:G,y:V}}else if(O===a&&H===4){const G=n.fromBytes(N.subarray(0,n.BYTES)),W=n.fromBytes(N.subarray(n.BYTES,2*n.BYTES));return{x:G,y:W}}else{const G=s,W=a;throw new Error("invalid Point, expected length of "+G+", or uncompressed "+W+", got "+O)}}});function x(_){const O=r>>ue;return _>O}function v(_){return x(_)?c(-_):_}const I=(_,O,H)=>Rt(_.slice(O,H));class ${constructor(O,H,N){en("r",O,ue,r),en("s",H,ue,r),this.r=O,this.s=H,N!=null&&(this.recovery=N),Object.freeze(this)}static fromCompact(O){const H=o;return O=Oe("compactSignature",O,H*2),new $(I(O,0,H),I(O,H,2*H))}static fromDER(O){const{r:H,s:N}=ft.toSig(Oe("DER",O));return new $(H,N)}assertValidity(){}addRecoveryBit(O){return new $(this.r,this.s,O)}recoverPublicKey(O){const{r:H,s:N,recovery:G}=this,W=T(Oe("msgHash",O));if(G==null||![0,1,2,3].includes(G))throw new Error("recovery id invalid");const V=G===2||G===3?H+t.n:H;if(V>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=G&1?"03":"02",ge=d.fromHex(J+ko(V,n.BYTES)),fe=l(V),se=c(-W*fe),ot=c(N*fe),Ne=d.BASE.multiplyAndAddUnsafe(ge,se,ot);if(!Ne)throw new Error("point at infinify");return Ne.assertValidity(),Ne}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return $r(this.toDERHex())}toDERHex(){return ft.hexFromSig(this)}toCompactRawBytes(){return $r(this.toCompactHex())}toCompactHex(){const O=o;return ko(this.r,O)+ko(this.s,O)}}const k={isValidPrivateKey(_){try{return p(_),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const _=C0(t.n);return Lb(t.randomBytes(_),t.n)},precompute(_=8,O=d.BASE){return O._setWindowSize(_),O.multiply(BigInt(3)),O}};function A(_,O=!0){return d.fromPrivateKey(_).toRawBytes(O)}function w(_){if(typeof _=="bigint")return!1;if(_ instanceof d)return!0;const H=Oe("key",_).length,N=n.BYTES,G=N+1,W=2*N+1;if(!(t.allowedPrivateKeyLengths||o===G))return H===G||H===W}function E(_,O,H=!0){if(w(_)===!0)throw new Error("first arg must be private key");if(w(O)===!1)throw new Error("second arg must be public key");return d.fromHex(O).multiply(p(_)).toRawBytes(H)}const S=t.bits2int||function(_){if(_.length>8192)throw new Error("input is too large");const O=Rt(_),H=_.length*8-i;return H>0?O>>BigInt(H):O},T=t.bits2int_modN||function(_){return c(S(_))},F=Kr(i);function j(_){return en("num < 2^"+i,_,lt,F),sr(_,o)}function C(_,O,H=U){if(["recovered","canonical"].some(Me=>Me in H))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:G}=t;let{lowS:W,prehash:V,extraEntropy:J}=H;W==null&&(W=!0),_=Oe("msgHash",_),_a(H),V&&(_=Oe("prehashed msgHash",N(_)));const ge=T(_),fe=p(O),se=[j(fe),j(ge)];if(J!=null&&J!==!1){const Me=J===!0?G(n.BYTES):J;se.push(Oe("extraEntropy",Me))}const ot=Sr(...se),Ne=ge;function Ke(Me){const it=S(Me);if(!y(it))return;const bn=l(it),gt=d.BASE.multiply(it).toAffine(),we=c(gt.x);if(we===lt)return;const Ue=c(bn*c(Ne+we*fe));if(Ue===lt)return;let wt=(gt.x===we?0:2)|Number(gt.y&ue),lr=Ue;return W&&x(Ue)&&(lr=v(Ue),wt^=1),new $(we,lr,wt)}return{seed:ot,k2sig:Ke}}const U={lowS:t.lowS,prehash:!1},L={lowS:t.lowS,prehash:!1};function D(_,O,H=U){const{seed:N,k2sig:G}=C(_,O,H),W=t;return Jh(W.hash.outputLen,W.nByteLength,W.hmac)(N,G)}d.BASE._setWindowSize(8);function Y(_,O,H,N=L){const G=_;O=Oe("msgHash",O),H=Oe("publicKey",H);const{lowS:W,prehash:V,format:J}=N;if(_a(N),"strict"in N)throw new Error("options.strict was renamed to lowS");if(J!==void 0&&J!=="compact"&&J!=="der")throw new Error("format must be compact or der");const ge=typeof G=="string"||ir(G),fe=!ge&&!J&&typeof G=="object"&&G!==null&&typeof G.r=="bigint"&&typeof G.s=="bigint";if(!ge&&!fe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let se,ot;try{if(fe&&(se=new $(G.r,G.s)),ge){try{J!=="compact"&&(se=$.fromDER(G))}catch(wt){if(!(wt instanceof ft.Err))throw wt}!se&&J!=="der"&&(se=$.fromCompact(G))}ot=d.fromHex(H)}catch{return!1}if(!se||W&&se.hasHighS())return!1;V&&(O=t.hash(O));const{r:Ne,s:Ke}=se,Me=T(O),it=l(Ke),bn=c(Me*it),gt=c(Ne*it),we=d.BASE.multiplyAndAddUnsafe(ot,bn,gt)?.toAffine();return we?c(we.x)===Ne:!1}return{CURVE:t,getPublicKey:A,getSharedSecret:E,sign:D,verify:Y,ProjectivePoint:d,Signature:$,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jb(e){return{hash:e,hmac:(t,...n)=>Bc(e,t,tl(...n)),randomBytes:nl}}function Xb(e,t){const n=r=>Yb({...e,...Jb(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Oa=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qb=BigInt(0),ey=BigInt(1),mi=BigInt(2),Na=(e,t)=>(e+t/mi)/t;function ty(e){const t=_0,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,d=l*l*e%t,p=Fe(d,n,t)*d%t,m=Fe(p,n,t)*d%t,y=Fe(m,mi,t)*l%t,x=Fe(y,o,t)*y%t,v=Fe(x,i,t)*x%t,I=Fe(v,a,t)*v%t,$=Fe(I,c,t)*I%t,k=Fe($,a,t)*v%t,A=Fe(k,n,t)*d%t,w=Fe(A,s,t)*x%t,E=Fe(w,r,t)*l%t,S=Fe(E,mi,t);if(!bi.eql(bi.sqr(S),e))throw new Error("Cannot find square root");return S}const bi=As(_0,void 0,void 0,{sqrt:ty}),O0=Xb({a:Qb,b:BigInt(7),Fp:bi,n:Oa,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Oa,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ey*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=Na(i*e,t),c=Na(-r*e,t);let l=xe(e-a*n-c*o,t),d=xe(-a*r-c*i,t);const p=l>s,m=d>s;if(p&&(l=t-l),m&&(d=t-d),l>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:p,k1:l,k2neg:m,k2:d}}}},fc),ny=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:O0},Symbol.toStringTag,{value:"Module"}));function N0(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new _o({signature:e});if(typeof e.s>"u")throw new _o({signature:e});if(n&&typeof e.yParity>"u")throw new _o({signature:e});if(e.r<0n||e.r>Sa)throw new uy({value:e.r});if(e.s<0n||e.s>Sa)throw new fy({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Bs({value:e.yParity})}function ry(e){return M0(He(e))}function M0(e){if(e.length!==130&&e.length!==132)throw new cy({signature:e});const t=BigInt(Qe(e,0,32)),n=BigInt(Qe(e,32,64)),r=(()=>{const o=+`0x${e.slice(130)}`;if(!Number.isNaN(o))try{return Is(o)}catch{throw new Bs({value:o})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function oy(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return iy(e)}function iy(e){const t=typeof e=="string"?M0(e):e instanceof Uint8Array?ry(e):typeof e.r=="string"?ay(e):e.v?sy(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return N0(t),t}function sy(e){return{r:e.r,s:e.s,yParity:Is(e.v)}}function ay(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Is(n)),typeof r!="number")throw new Bs({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Is(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new ly({value:e})}class cy extends K{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Re(E1(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class _o extends K{constructor({signature:t}){super(`Signature \`${Lu(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class uy extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class fy extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Bs extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class ly extends K{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function dy(e,t={}){return typeof e.chainId=="string"?py(e):{...e,...t.signature}}function py(e){const{address:t,chainId:n,nonce:r}=e,o=oy(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...o}}const hy="0x8010801080108010801080108010801080108010801080108010801080108010",my=x0("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function U0(e){if(typeof e=="string"){if(Qe(e,-32)!==hy)throw new gy(e)}else N0(e.authorization)}function by(e){U0(e);const t=qu(Qe(e,-64,-32)),n=Qe(e,-t-64,-64),r=Qe(e,0,-t-64),[o,i,s]=Sb(my,n);return{authorization:dy({address:o.delegation,chainId:Number(o.chainId),nonce:o.nonce,yParity:o.yParity,r:o.r,s:o.s}),signature:r,...s&&s!=="0x"?{data:s,to:i}:{}}}function yy(e){try{return U0(e),!0}catch{return!1}}let gy=class extends K{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function wy(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function xy(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?tt(e.nonce):void 0,storageProof:e.storageProof?wy(e.storageProof):void 0}}async function vy(e,{address:t,blockNumber:n,blockTag:r,storageKeys:o}){const i=r??"latest",s=n!==void 0?M(n):void 0,a=await e.request({method:"eth_getProof",params:[t,o,s||i]});return xy(a)}async function Ey(e,{address:t,blockNumber:n,blockTag:r="latest",slot:o}){const i=n!==void 0?M(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,o,i||r]})}async function $s(e,{blockHash:t,blockNumber:n,blockTag:r,hash:o,index:i,sender:s,nonce:a}){const c=r||"latest",l=n!==void 0?M(n):void 0;let d=null;if(o?d=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):t?d=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,M(i)]},{dedupe:!0}):typeof i=="number"?d=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,M(i)]},{dedupe:!!l}):s&&typeof a=="number"&&(d=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[s,M(a)]},{dedupe:!0})),!d)throw new uu({blockHash:t,blockNumber:n,blockTag:c,hash:o,index:i});return(e.chain?.formatters?.transaction?.format||or)(d,"getTransaction")}async function Py(e,{hash:t,transactionReceipt:n}){const[r,o]=await Promise.all([q(e,ur,"getBlockNumber")({}),t?q(e,$s,"getTransaction")({hash:t}):void 0]),i=n?.blockNumber||o?.blockNumber;return i?r-i+1n:0n}async function Er(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new fu({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||ps)(n,"getTransactionReceipt")}async function Ay(e,t){const{account:n,authorizationList:r,allowFailure:o=!0,blockNumber:i,blockOverrides:s,blockTag:a,stateOverride:c}=t,l=t.contracts,{batchSize:d=t.batchSize??1024,deployless:p=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},m=(()=>{if(t.multicallAddress)return t.multicallAddress;if(p)return null;if(e.chain)return mn({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),y=[[]];let x=0,v=0;for(let k=0;k<l.length;k++){const{abi:A,address:w,args:E,functionName:S}=l[k];try{const T=We({abi:A,args:E,functionName:S});v+=(T.length-2)/2,d>0&&v>d&&y[x].length>0&&(x++,v=(T.length-2)/2,y[x]=[]),y[x]=[...y[x],{allowFailure:!0,callData:T,target:w}]}catch(T){const F=cn(T,{abi:A,address:w,args:E,docsPath:"/docs/contract/multicall",functionName:S,sender:n});if(!o)throw F;y[x]=[...y[x],{allowFailure:!0,callData:"0x",target:w}]}}const I=await Promise.allSettled(y.map(k=>q(e,Ge,"readContract")({...m===null?{code:ls}:{address:m},abi:Tr,account:n,args:[k],authorizationList:r,blockNumber:i,blockOverrides:s,blockTag:a,functionName:"aggregate3",stateOverride:c}))),$=[];for(let k=0;k<I.length;k++){const A=I[k];if(A.status==="rejected"){if(!o)throw A.reason;for(let E=0;E<y[k].length;E++)$.push({status:"failure",error:A.reason,result:void 0});continue}const w=A.value;for(let E=0;E<w.length;E++){const{returnData:S,success:T}=w[E],{callData:F}=y[k][E],{abi:j,address:C,functionName:U,args:L}=l[$.length];try{if(F==="0x")throw new Xn;if(!T)throw new Hr({data:S});const D=jt({abi:j,args:L,data:S,functionName:U});$.push(o?{result:D,status:"success"}:D)}catch(D){const Y=cn(D,{abi:j,address:C,args:L,docsPath:"/docs/contract/multicall",functionName:U});if(!o)throw Y;$.push({error:Y,result:void 0,status:"failure"})}}}if($.length!==l.length)throw new R("multicall results mismatch");return $}async function yi(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:o,returnFullTransactions:i,traceTransfers:s,validation:a}=t;try{const c=[];for(const m of o){const y=m.blockOverrides?Ku(m.blockOverrides):void 0,x=m.calls.map(I=>{const $=I,k=$.account?Ce($.account):void 0,A=$.abi?We($):$.data,w={...$,account:k,data:$.dataSuffix?rt([A||"0x",$.dataSuffix]):A,from:$.from??k?.address};return hn(w),rr(w)}),v=m.stateOverrides?Yi(m.stateOverrides):void 0;c.push({blockOverrides:y,calls:x,stateOverrides:v})}const d=(typeof n=="bigint"?M(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:s,validation:a},d]})).map((m,y)=>({...Xi(m),calls:m.calls.map((x,v)=>{const{abi:I,args:$,functionName:k,to:A}=o[y].calls[v],w=x.error?.data??x.returnData,E=BigInt(x.gasUsed),S=x.logs?.map(C=>bt(C)),T=x.status==="0x1"?"success":"failure",F=I&&T==="success"&&w!=="0x"?jt({abi:I,data:w,functionName:k}):null,j=(()=>{if(T==="success")return;let C;if(x.error?.data==="0x"?C=new Xn:x.error&&(C=new Hr(x.error)),!!C)return cn(C,{abi:I??[],address:A??"0x",args:$,functionName:k??"<unknown>"})})();return{data:w,gasUsed:E,logs:S,status:T,...T==="success"?{result:F}:{error:j}}})}))}catch(c){const l=c,d=Gr(l,{});throw d instanceof nr?l:d}}function gi(e){let t=!0,n="",r=0,o="",i=!1;for(let s=0;s<e.length;s++){const a=e[s];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(o))o="";else if(o+=a,a===")"){i=!0;break}continue}if(a===" "){e[s-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}o+=a,n+=a}}if(!i)throw new K("Unable to normalize signature.");return o}function wi(e,t){const n=typeof e,r=t.type;switch(r){case"address":return fi(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((o,i)=>wi(Object.values(e)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(o=>wi(o,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function z0(e,t,n){for(const r in e){const o=e[r],i=t[r];if(o.type==="tuple"&&i.type==="tuple"&&"components"in o&&"components"in i)return z0(o.components,i.components,n[r]);const s=[o.type,i.type];if(s.includes("address")&&s.includes("bytes20")?!0:s.includes("address")&&s.includes("string")?fi(n[r],{strict:!1}):s.includes("address")&&s.includes("bytes")?fi(n[r],{strict:!1}):!1)return s}}function L0(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Rs(e):e;return{...r,...n?{hash:Yt(r)}:{}}}function oo(e,t,n){const{args:r=[],prepare:o=!0}=n??{},i=P1(t,{strict:!1}),s=e.filter(l=>i?l.type==="function"||l.type==="error"?j0(l)===Qe(t,0,4):l.type==="event"?Yt(l)===t:!1:"name"in l&&l.name===t);if(s.length===0)throw new Cr({name:t});if(s.length===1)return{...s[0],...o?{hash:Yt(s[0])}:{}};let a;for(const l of s){if(!("inputs"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...o?{hash:Yt(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((p,m)=>{const y="inputs"in l&&l.inputs[m];return y?wi(p,y):!1})){if(a&&"inputs"in a&&a.inputs){const p=z0(l.inputs,a.inputs,r);if(p)throw new By({abiItem:l,type:p[0]},{abiItem:a,type:p[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...d]=s;return{...l,overloads:d}})();if(!c)throw new Cr({name:t});return{...c,...o?{hash:Yt(c)}:{}}}function j0(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return oo(n,r)}return e[0]})();return Qe(Yt(t),0,4)}function Iy(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,o]=e;return oo(r,o)}return e[0]})(),n=typeof t=="string"?t:Pr(t);return gi(n)}function Yt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return oo(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:y0(fs(Iy(t)))}class By extends K{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${gi(Pr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${gi(Pr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Cr extends K{constructor({name:t,data:n,type:r="item"}){const o=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${o} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function $y(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[i,s]=e;return[Ty(i),s]}return e})(),{bytecode:r,args:o}=n;return De(r,t.inputs?.length&&o?.length?Es(t.inputs,o):"0x")}function Sy(e){return L0(e)}function Ty(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Cr({name:"constructor"});return t}function Cy(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[l,d,p]=e;return[Ma(l,d,{args:p}),p]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,o=r?Ma([t,...r],t.name,{args:n}):t,i=Ry(o),s=n.length>0?Es(o.inputs,n):void 0;return s?De(i,s):i}function qt(e,t={}){return L0(e,t)}function Ma(e,t,n){const r=oo(e,t,n);if(r.type!=="function")throw new Cr({name:t,type:"function"});return r}function Ry(e){return j0(e)}const ky="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Je="0x0000000000000000000000000000000000000000",Fy="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function _y(e,t){const{blockNumber:n,blockTag:r,calls:o,stateOverrides:i,traceAssetChanges:s,traceTransfers:a,validation:c}=t,l=t.account?Ce(t.account):void 0;if(s&&!l)throw new R("`account` is required when `traceAssetChanges` is true");const d=l?$y(Sy("constructor(bytes, bytes)"),{bytecode:Xu,args:[Fy,Cy(qt("function getBalance(address)"),[l.address])]}):void 0,p=s?await Promise.all(t.calls.map(async N=>{if(!N.data&&!N.abi)return;const{accessList:G}=await u0(e,{account:l.address,...N,data:N.abi?We(N):N.data});return G.map(({address:W,storageKeys:V})=>V.length>0?W:null)})).then(N=>N.flat().filter(Boolean)):[],m=await yi(e,{blockNumber:n,blockTag:r,blocks:[...s?[{calls:[{data:d}],stateOverrides:i},{calls:p.map((N,G)=>({abi:[qt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:N,from:Je,nonce:G})),stateOverrides:[{address:Je,nonce:0}]}]:[],{calls:[...o,{}].map(N=>({...N,from:l?.address})),stateOverrides:i},...s?[{calls:[{data:d}]},{calls:p.map((N,G)=>({abi:[qt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:N,from:Je,nonce:G})),stateOverrides:[{address:Je,nonce:0}]},{calls:p.map((N,G)=>({to:N,abi:[qt("function decimals() returns (uint256)")],functionName:"decimals",from:Je,nonce:G})),stateOverrides:[{address:Je,nonce:0}]},{calls:p.map((N,G)=>({to:N,abi:[qt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Je,nonce:G})),stateOverrides:[{address:Je,nonce:0}]},{calls:p.map((N,G)=>({to:N,abi:[qt("function symbol() returns (string)")],functionName:"symbol",from:Je,nonce:G})),stateOverrides:[{address:Je,nonce:0}]}]:[]],traceTransfers:a,validation:c}),y=s?m[2]:m[0],[x,v,,I,$,k,A,w]=s?m:[],{calls:E,...S}=y,T=E.slice(0,-1)??[],F=x?.calls??[],j=v?.calls??[],C=[...F,...j].map(N=>N.status==="success"?he(N.data):null),U=I?.calls??[],L=$?.calls??[],D=[...U,...L].map(N=>N.status==="success"?he(N.data):null),Y=(k?.calls??[]).map(N=>N.status==="success"?N.result:null),_=(w?.calls??[]).map(N=>N.status==="success"?N.result:null),O=(A?.calls??[]).map(N=>N.status==="success"?N.result:null),H=[];for(const[N,G]of D.entries()){const W=C[N];if(typeof G!="bigint"||typeof W!="bigint")continue;const V=Y[N-1],J=_[N-1],ge=O[N-1],fe=N===0?{address:ky,decimals:18,symbol:"ETH"}:{address:p[N-1],decimals:ge||V?Number(V??1):void 0,symbol:J??void 0};H.some(se=>se.token.address===fe.address)||H.push({token:fe,value:{pre:W,post:G,diff:G-W}})}return{assetChanges:H,block:S,results:T}}const D0="0x6492649264926492649264926492649264926492649264926492649264926492";function Oy(e){if(Qe(e,-32)!==D0)throw new Uy(e)}function Ny(e){const{data:t,signature:n,to:r}=e;return De(Es(x0("address, bytes, bytes"),[r,t,n]),D0)}function My(e){try{return Oy(e),!0}catch{return!1}}class Uy extends K{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function zy({r:e,s:t,to:n="hex",v:r,yParity:o}){const i=(()=>{if(o===0||o===1)return o;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),s=`0x${new O0.Signature(he(e),he(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?s:nt(s)}async function io(e,t){const{address:n,chain:r=e.chain,hash:o,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??r?.contracts?.erc6492Verifier?.address,multicallAddress:s=t.multicallAddress??r?.contracts?.multicall3?.address}=t;if(r?.verifyHash)return await r.verifyHash(e,t);const a=(()=>{const c=t.signature;return et(c)?c:typeof c=="object"&&"r"in c&&"s"in c?zy(c):ie(c)})();try{return yy(a)?await Ly(e,{...t,multicallAddress:s,signature:a}):await jy(e,{...t,verifierAddress:i,signature:a})}catch(c){try{if(Wr(Xc(n),await hu({hash:o,signature:a})))return!0}catch{}if(c instanceof zt)return!1;throw c}}async function Ly(e,t){const{address:n,blockNumber:r,blockTag:o,hash:i,multicallAddress:s}=t,{authorization:a,data:c,signature:l,to:d}=by(t.signature);if(await ui(e,{address:n,blockNumber:r,blockTag:o})===Ve(["0xef0100",a.address]))return await Dy(e,{address:n,blockNumber:r,blockTag:o,hash:i,signature:l});const m={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:M(a.r,{size:32}),s:M(a.s,{size:32}),yParity:a.yParity};if(!await Nm({address:n,authorization:m}))throw new zt;const x=await q(e,Ge,"readContract")({...s?{address:s}:{code:ls},authorizationList:[m],abi:Tr,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:We({abi:Ju,functionName:"isValidSignature",args:[i,l]})}]]});if(x[x.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new zt}async function jy(e,t){const{address:n,factory:r,factoryData:o,hash:i,signature:s,verifierAddress:a,...c}=t,l=await(async()=>!r&&!o||My(s)?s:Ny({data:o,signature:s,to:r}))(),d=a?{to:a,data:We({abi:Ea,functionName:"isValidSig",args:[n,i,l]}),...c}:{data:ds({abi:Ea,args:[n,i,l],bytecode:C1}),...c},{data:p}=await q(e,Xr,"call")(d).catch(m=>{throw m instanceof lu?new zt:m});if(wp(p??"0x0"))return!0;throw new zt}async function Dy(e,t){const{address:n,blockNumber:r,blockTag:o,hash:i,signature:s}=t;if((await q(e,Ge,"readContract")({address:n,abi:Ju,args:[i,s],blockNumber:r,blockTag:o,functionName:"isValidSignature"}).catch(c=>{throw c instanceof du?new zt:c})).startsWith("0x1626ba7e"))return!0;throw new zt}class zt extends Error{}async function Hy(e,{address:t,message:n,factory:r,factoryData:o,signature:i,...s}){const a=d0(n);return q(e,io,"verifyHash")({address:t,factory:r,factoryData:o,hash:a,signature:i,...s})}async function Gy(e,t){const{address:n,factory:r,factoryData:o,signature:i,message:s,primaryType:a,types:c,domain:l,...d}=t,p=Xm({message:s,primaryType:a,types:c,domain:l});return q(e,io,"verifyHash")({address:n,factory:r,factoryData:o,hash:p,signature:i,...d})}function H0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:o,poll:i,pollingInterval:s=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const p=de(["watchBlockNumber",e.uid,t,n,s]);return Bt(p,{onBlockNumber:r,onError:o},m=>cr(async()=>{try{const y=await q(e,ur,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(y===c)return;if(y-c>1&&n)for(let x=c+1n;x<y;x++)m.onBlockNumber(x,c),c=x}(c===void 0||y>c)&&(m.onBlockNumber(y,c),c=y)}catch(y){m.onError?.(y)}},{emitOnBegin:t,interval:s}))})():(()=>{const p=de(["watchBlockNumber",e.uid,t,n]);return Bt(p,{onBlockNumber:r,onError:o},m=>{let y=!0,x=()=>y=!1;return(async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),{unsubscribe:I}=await v.subscribe({params:["newHeads"],onData($){if(!y)return;const k=he($.result?.number);m.onBlockNumber(k,c),c=k},onError($){m.onError?.($)}});x=I,y||x()}catch(v){o?.(v)}})(),()=>x()})})()}async function qy(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:o,onReplaced:i,retryCount:s=6,retryDelay:a=({count:E})=>~~(1<<E)*200,timeout:c=18e4}=t,l=de(["waitForTransactionReceipt",e.uid,o]),d=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval;let p,m,y,x=!1,v,I;const{promise:$,resolve:k,reject:A}=t0(),w=c?setTimeout(()=>{I?.(),v?.(),A(new ph({hash:o}))},c):void 0;return v=Bt(l,{onReplaced:i,resolve:k,reject:A},async E=>{if(y=await q(e,Er,"getTransactionReceipt")({hash:o}).catch(()=>{}),y&&r<=1){clearTimeout(w),E.resolve(y),v?.();return}I=q(e,H0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(S){const T=j=>{clearTimeout(w),I?.(),j(),v?.()};let F=S;if(!x)try{if(y){if(r>1&&(!y.blockNumber||F-y.blockNumber+1n<r))return;T(()=>E.resolve(y));return}if(n&&!p&&(x=!0,await si(async()=>{p=await q(e,$s,"getTransaction")({hash:o}),p.blockNumber&&(F=p.blockNumber)},{delay:a,retryCount:s}),x=!1),y=await q(e,Er,"getTransactionReceipt")({hash:o}),r>1&&(!y.blockNumber||F-y.blockNumber+1n<r))return;T(()=>E.resolve(y))}catch(j){if(j instanceof uu||j instanceof fu){if(!p){x=!1;return}try{m=p,x=!0;const C=await si(()=>q(e,ze,"getBlock")({blockNumber:F,includeTransactions:!0}),{delay:a,retryCount:s,shouldRetry:({error:D})=>D instanceof wu});x=!1;const U=C.transactions.find(({from:D,nonce:Y})=>D===m.from&&Y===m.nonce);if(!U||(y=await q(e,Er,"getTransactionReceipt")({hash:U.hash}),r>1&&(!y.blockNumber||F-y.blockNumber+1n<r)))return;let L="replaced";U.to===m.to&&U.value===m.value&&U.input===m.input?L="repriced":U.from===U.to&&U.value===0n&&(L="cancelled"),T(()=>{E.onReplaced?.({reason:L,replacedTransaction:m,transaction:U,transactionReceipt:y}),E.resolve(y)})}catch(C){T(()=>E.reject(C))}}else T(()=>E.reject(j))}}})}),$}function Vy(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:o,onError:i,includeTransactions:s,poll:a,pollingInterval:c=e.pollingInterval}){const l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),d=s??!1;let p;return l?(()=>{const x=de(["watchBlocks",e.uid,t,n,r,d,c]);return Bt(x,{onBlock:o,onError:i},v=>cr(async()=>{try{const I=await q(e,ze,"getBlock")({blockTag:t,includeTransactions:d});if(I.number!==null&&p?.number!=null){if(I.number===p.number)return;if(I.number-p.number>1&&n)for(let $=p?.number+1n;$<I.number;$++){const k=await q(e,ze,"getBlock")({blockNumber:$,includeTransactions:d});v.onBlock(k,p),p=k}}(p?.number==null||t==="pending"&&I?.number==null||I.number!==null&&I.number>p.number)&&(v.onBlock(I,p),p=I)}catch(I){v.onError?.(I)}},{emitOnBegin:r,interval:c}))})():(()=>{let x=!0,v=!0,I=()=>x=!1;return(async()=>{try{r&&q(e,ze,"getBlock")({blockTag:t,includeTransactions:d}).then(A=>{x&&v&&(o(A,void 0),v=!1)}).catch(i);const $=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),{unsubscribe:k}=await $.subscribe({params:["newHeads"],async onData(A){if(!x)return;const w=await q(e,ze,"getBlock")({blockNumber:A.result?.number,includeTransactions:d}).catch(()=>{});x&&(o(w,p),v=!1,p=w)},onError(A){i?.(A)}});I=k,x||I()}catch($){i?.($)}})(),()=>I()})()}function Wy(e,{address:t,args:n,batch:r=!0,event:o,events:i,fromBlock:s,onError:a,onLogs:c,poll:l,pollingInterval:d=e.pollingInterval,strict:p}){const m=typeof l<"u"?l:typeof s=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),y=p??!1;return m?(()=>{const I=de(["watchEvent",t,n,r,e.uid,o,d,s]);return Bt(I,{onLogs:c,onError:a},$=>{let k;s!==void 0&&(k=s-1n);let A,w=!1;const E=cr(async()=>{if(!w){try{A=await q(e,f0,"createEventFilter")({address:t,args:n,event:o,events:i,strict:y,fromBlock:s})}catch{}w=!0;return}try{let S;if(A)S=await q(e,Qr,"getFilterChanges")({filter:A});else{const T=await q(e,ur,"getBlockNumber")({});k&&k!==T?S=await q(e,ss,"getLogs")({address:t,args:n,event:o,events:i,fromBlock:k+1n,toBlock:T}):S=[],k=T}if(S.length===0)return;if(r)$.onLogs(S);else for(const T of S)$.onLogs([T])}catch(S){A&&S instanceof At&&(w=!1),$.onError?.(S)}},{emitOnBegin:!0,interval:d});return async()=>{A&&await q(e,eo,"uninstallFilter")({filter:A}),E()}})})():(()=>{let I=!0,$=()=>I=!1;return(async()=>{try{const k=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),A=i??(o?[o]:void 0);let w=[];A&&(w=[A.flatMap(T=>er({abi:[T],eventName:T.name,args:n}))],o&&(w=w[0]));const{unsubscribe:E}=await k.subscribe({params:["logs",{address:t,topics:w}],onData(S){if(!I)return;const T=S.result;try{const{eventName:F,args:j}=Br({abi:A??[],data:T.data,topics:T.topics,strict:y}),C=bt(T,{args:j,eventName:F});c([C])}catch(F){let j,C;if(F instanceof Ir||F instanceof ji){if(p)return;j=F.abiItem.name,C=F.abiItem.inputs?.some(L=>!("name"in L&&L.name))}const U=bt(T,{args:C?[]:{},eventName:j});c([U])}},onError(S){a?.(S)}});$=E,I||$()}catch(k){a?.(k)}})(),()=>$()})()}function Ky(e,{batch:t=!0,onError:n,onTransactions:r,poll:o,pollingInterval:i=e.pollingInterval}){return(typeof o<"u"?o:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const l=de(["watchPendingTransactions",e.uid,t,i]);return Bt(l,{onTransactions:r,onError:n},d=>{let p;const m=cr(async()=>{try{if(!p)try{p=await q(e,l0,"createPendingTransactionFilter")({});return}catch(x){throw m(),x}const y=await q(e,Qr,"getFilterChanges")({filter:p});if(y.length===0)return;if(t)d.onTransactions(y);else for(const x of y)d.onTransactions([x])}catch(y){d.onError?.(y)}},{emitOnBegin:!0,interval:i});return async()=>{p&&await q(e,eo,"uninstallFilter")({filter:p}),m()}})})():(()=>{let l=!0,d=()=>l=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!l)return;const y=m.result;r([y])},onError(m){n?.(m)}});d=p,l||d()}catch(p){n?.(p)}})(),()=>d()})()}function Zy(e){const{scheme:t,statement:n,...r}=e.match(Yy)?.groups??{},{chainId:o,expirationTime:i,issuedAt:s,notBefore:a,requestId:c,...l}=e.match(Jy)?.groups??{},d=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...l,...o?{chainId:Number(o)}:{},...i?{expirationTime:new Date(i)}:{},...s?{issuedAt:new Date(s)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Yy=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Jy=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Xy(e){const{address:t,domain:n,message:r,nonce:o,scheme:i,time:s=new Date}=e;if(n&&r.domain!==n||o&&r.nonce!==o||i&&r.scheme!==i||r.expirationTime&&s>=r.expirationTime||r.notBefore&&s<r.notBefore)return!1;try{if(!r.address||!ae(r.address,{strict:!1})||t&&!Wr(r.address,t))return!1}catch{return!1}return!0}async function Qy(e,t){const{address:n,domain:r,message:o,nonce:i,scheme:s,signature:a,time:c=new Date,...l}=t,d=Zy(o);if(!d.address||!Xy({address:n,domain:r,message:d,nonce:i,scheme:s,time:c}))return!1;const m=d0(o);return io(e,{address:d.address,hash:m,signature:a,...l})}async function eg(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const o=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,M(r)]:[t]},{retryCount:0}),s=(e.chain?.formatters?.transactionReceipt?.format||ps)(o);if(s.status==="reverted"&&n)throw new dh({receipt:s});return s}function tg(e){return{call:t=>Xr(e,t),createAccessList:t=>u0(e,t),createBlockFilter:()=>mm(e),createContractEventFilter:t=>ou(e,t),createEventFilter:t=>f0(e,t),createPendingTransactionFilter:()=>l0(e),estimateContractGas:t=>Vh(e,t),estimateGas:t=>os(e,t),getBalance:t=>bm(e,t),getBlobBaseFee:()=>ym(e),getBlock:t=>ze(e,t),getBlockNumber:t=>ur(e,t),getBlockTransactionCount:t=>gm(e,t),getBytecode:t=>ui(e,t),getChainId:()=>rs(e),getCode:t=>ui(e,t),getContractEvents:t=>ku(e,t),getEip712Domain:t=>xm(e,t),getEnsAddress:t=>Q1(e,t),getEnsAvatar:t=>dm(e,t),getEnsName:t=>pm(e,t),getEnsResolver:t=>hm(e,t),getEnsText:t=>c0(e,t),getFeeHistory:t=>Pm(e,t),estimateFeesPerGas:t=>Mh(e,t),getFilterChanges:t=>Qr(e,t),getFilterLogs:t=>Am(e,t),getGasPrice:()=>Qi(e),getLogs:t=>ss(e,t),getProof:t=>vy(e,t),estimateMaxPriorityFeePerGas:t=>Nh(e,t),fillTransaction:t=>Cu(e,t),getStorageAt:t=>Ey(e,t),getTransaction:t=>$s(e,t),getTransactionConfirmations:t=>Py(e,t),getTransactionCount:t=>Eu(e,t),getTransactionReceipt:t=>Er(e,t),multicall:t=>Ay(e,t),prepareTransactionRequest:t=>Ru(e,t),readContract:t=>Ge(e,t),sendRawTransaction:t=>H1(e,t),sendRawTransactionSync:t=>eg(e,t),simulate:t=>yi(e,t),simulateBlocks:t=>yi(e,t),simulateCalls:t=>_y(e,t),simulateContract:t=>O1(e,t),verifyHash:t=>io(e,t),verifyMessage:t=>Hy(e,t),verifySiweMessage:t=>Qy(e,t),verifyTypedData:t=>Gy(e,t),uninstallFilter:t=>eo(e,t),waitForTransactionReceipt:t=>qy(e,t),watchBlocks:t=>Vy(e,t),watchBlockNumber:t=>H0(e,t),watchContractEvent:t=>D1(e,t),watchEvent:t=>Wy(e,t),watchPendingTransactions:t=>Ky(e,t)}}function ng(e){const{key:t="public",name:n="Public Client"}=e;return V1({...e,key:t,name:n,type:"publicClient"}).extend(tg)}function rg({key:e,methods:t,name:n,request:r,retryCount:o=3,retryDelay:i=150,timeout:s,type:a},c){const l=o0();return{config:{key:e,methods:t,name:n,request:r,retryCount:o,retryDelay:i,timeout:s,type:a},request:Um(r,{methods:t,retryCount:o,retryDelay:i,uid:l}),value:c}}function og(e,t={}){const{batch:n,fetchFn:r,fetchOptions:o,key:i="http",methods:s,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:d,raw:p}=t;return({chain:m,retryCount:y,timeout:x})=>{const{batchSize:v=1e3,wait:I=0}=typeof n=="object"?n:{},$=t.retryCount??y,k=x??t.timeout??1e4,A=e,w=Hm(A,{fetchFn:r,fetchOptions:o,onRequest:c,onResponse:l,timeout:k});return rg({key:i,methods:s,name:a,async request({method:E,params:S}){const T={method:E,params:S},{schedule:F}=n0({id:A,wait:I,shouldSplitBatch(L){return L.length>v},fn:L=>w.request({body:L}),sort:(L,D)=>L.id-D.id}),j=async L=>n?F(L):[await w.request({body:L})],[{error:C,result:U}]=await j(T);if(p)return{error:C,result:U};if(C)throw new Ki({body:T,error:C,url:A});return U},retryCount:$,retryDelay:d,timeout:k,type:"http"},{fetchOptions:o,url:A})}}const ig={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},sg={block:Oh({format(e){return{transactions:e.transactions?.map(n=>{if(typeof n=="string")return n;const r=or(n);return r.typeHex==="0x7e"&&(r.isSystemTx=n.isSystemTx,r.mint=n.mint?he(n.mint):void 0,r.sourceHash=n.sourceHash,r.type="deposit"),r}),stateRoot:e.stateRoot}}}),transaction:Fh({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?he(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:q1({format(e){return{l1GasPrice:e.l1GasPrice?he(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?he(e.l1GasUsed):null,l1Fee:e.l1Fee?he(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function ag(e,t){return fg(e)?ug(e):Tm(e,t)}const cg={transaction:ag};function ug(e){lg(e);const{sourceHash:t,data:n,from:r,gas:o,isSystemTx:i,mint:s,to:a,value:c}=e,l=[t,r,a??"0x",s?Te(s):"0x",c?Te(c):"0x",o?Te(o):"0x",i?"0x1":"0x",n??"0x"];return Ve(["0x7e",It(l)])}function fg(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function lg(e){const{from:t,to:n}=e;if(t&&!ae(t))throw new be({address:t});if(n&&!ae(n))throw new be({address:n})}const Ua={blockTime:2e3,contracts:ig,formatters:sg,serializers:cg},wn=1,dg=Lm({...Ua,id:480,name:"World Chain",network:"worldchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan",url:"https://worldscan.org",apiUrl:"https://api.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-mainnet.explorer.alchemy.com",apiUrl:"https://worldchain-mainnet.explorer.alchemy.com/api"}},contracts:{...Ua.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[wn]:{address:"0x069c4c579671f8c120b1327a73217D01Ea2EC5ea"}},l2OutputOracle:{[wn]:{address:"0x19A6d1E9034596196295CF148509796978343c5D"}},portal:{[wn]:{address:"0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C"}},l1StandardBridge:{[wn]:{address:"0x470458C91978D2d929704489Ad730DC3E3001113"}}},testnet:!1,sourceId:wn});$e.VerificationRejected+"",$e.MaxVerificationsReached+"",$e.CredentialUnavailable+"",$e.MalformedRequest+"",$e.InvalidNetwork+"",$e.InclusionProofFailed+"",$e.InclusionProofPending+"",$e.UnexpectedResponse+"",$e.FailedByHostApp+"",$e.GenericError+"",$e.ConnectionFailed+"";var xn={unknown:"Failed to install MiniKit.",already_installed:"MiniKit is already installed.",outside_of_worldapp:"MiniApp launched outside of WorldApp.",app_out_of_date:"WorldApp is out of date. Please update the app."},pg=e=>{if(e.tokens.some(t=>t.symbol=="USDCE"&&parseFloat(t.token_amount)<.1))return console.error("USDC amount should be greater than $0.1"),!1;if(e.reference.length>36)return console.error("Reference must not exceed 36 characters"),!1;if(typeof e.reference!="string")throw new Error("Reference must be a string");return!0},hg=e=>{let t="";return e.scheme?t+=`${e.scheme}://${e.domain} wants you to sign in with your Ethereum account:
`:t+=`${e.domain} wants you to sign in with your Ethereum account:
`,e.address?t+=`${e.address}
`:t+=`{address}
`,t+=`
`,e.statement&&(t+=`${e.statement}
`),t+=`
`,t+=`URI: ${e.uri}
`,t+=`Version: ${e.version}
`,t+=`Chain ID: ${e.chain_id}
`,t+=`Nonce: ${e.nonce}
`,t+=`Issued At: ${e.issued_at}
`,e.expiration_time&&(t+=`Expiration Time: ${e.expiration_time}
`),e.not_before&&(t+=`Not Before: ${e.not_before}
`),e.request_id&&(t+=`Request ID: ${e.request_id}
`),t},mg={"app-store":"app-store",carousel:"app-store",explore:"app-store",app_details:"app-store",deeplink:"deep-link",homepage:"home",wallet_tab:"wallet-tab",world_chat:"chat"},bg=e=>{if(!e||typeof e!="string")return null;console.log("MiniKit launch location mapped:",e);const t=e.toLowerCase();return mg[t]??null},En=e=>{window.webkit?window.webkit?.messageHandlers?.minikit?.postMessage?.(e):window.Android&&window.Android.postMessage?.(JSON.stringify(e))},za=!1,yg=()=>{if(za||typeof navigator<"u"&&!navigator.mediaDevices?.getUserMedia)return;const e=MediaStreamTrack.prototype.stop;MediaStreamTrack.prototype.stop=function(){e.call(this),this.readyState==="ended"&&setTimeout(()=>this.dispatchEvent(new Event("ended")),0)};const t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices),n=new Set;async function r(i){const s=await t(i);return s.getAudioTracks().length>0&&(En({command:"microphone-stream-started",version:1,payload:{streamId:s.id}}),n.add(s),s.getAudioTracks().forEach(c=>{c.addEventListener("ended",()=>{s.getAudioTracks().every(d=>d.readyState==="ended")&&(En({command:"microphone-stream-ended",version:1,payload:{streamId:s.id}}),n.delete(s))})})),s}Object.defineProperty(navigator.mediaDevices,"getUserMedia",{value:r,writable:!1,configurable:!1,enumerable:!0}),Object.freeze(navigator.mediaDevices);const o=()=>{n.forEach(i=>{const s=i.getAudioTracks();s.length>0&&(s.forEach(a=>{a.stop()}),En({command:"microphone-stream-ended",version:1,payload:{streamId:i.id}}))}),n.clear()};dt.subscribe("miniapp-microphone",i=>{i.status==="error"&&(i.error_code==="mini_app_permission_not_enabled"||i.error_code==="world_app_permission_not_enabled")&&(console.log("stopping all microphone streams",i),o())}),window.__stopAllMiniAppMicrophoneStreams=o,za=!0},gg="0x79f46b94d134109EbcbbddBAeD0E88790409A0e4",wg=[{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"}],name:"compressProof",outputs:[{internalType:"uint256[4]",name:"compressed",type:"uint256[4]"}],stateMutability:"view",type:"function"}],G0=async(e,t)=>{try{const n=ng({chain:dg,transport:og(t||"https://worldchain-mainnet.g.alchemy.com/public")}),r=pn([{type:"uint256[8]"}],e)[0],i=[...await n.readContract({address:gg,abi:wg,functionName:"compressProof",args:[r]}),0n,0n,0n,0n];return $t([{type:"uint256[8]"}],[i])}catch{return e}},La=10,q0=50,xg=q0*1024*1024,vg=async e=>{const t=await e.arrayBuffer(),n=new Uint8Array(t);let r="";const o=32768;for(let s=0;s<n.length;s+=o){const a=n.subarray(s,Math.min(s+o,n.length));r+=String.fromCharCode.apply(null,Array.from(a))}const i=btoa(r);return{name:e.name,type:e.type,data:i}},Eg=async e=>{if(!e.files)return{title:e.title,text:e.text,url:e.url};if(!Array.isArray(e.files))throw new Error('The "files" property must be an array.');if(e.files.length!==0){if(e.files.length>La)throw new Error(`Cannot share more than ${La} files.`);let r=0;for(const o of e.files){if(!(o instanceof File))throw new Error(`Each item in the 'files' array must be a File object. Received: ${typeof o}`);r+=o.size}if(r>xg)throw new Error(`Total file size cannot exceed ${q0}MB.`)}const t=e.files.map(r=>vg(r));return{files:await Promise.all(t),title:e.title,text:e.text,url:e.url}},Pg=e=>e.nonce?e.nonce.length<8?{valid:!1,message:"'nonce' must be at least 8 characters"}:e.statement&&e.statement.includes(`
`)?{valid:!1,message:"'statement' must not contain newlines"}:e.expirationTime&&new Date(e.expirationTime)<new Date?{valid:!1,message:"'expirationTime' must be in the future"}:e.expirationTime&&new Date(e.expirationTime)>new Date(Date.now()+7*24*60*60*1e3)?{valid:!1,message:"'expirationTime' must be within 7 days"}:e.notBefore&&new Date(e.notBefore)>new Date(Date.now()+7*24*60*60*1e3)?{valid:!1,message:"'notBefore' must be within 7 days"}:{valid:!0}:{valid:!1,message:"'nonce' is required"},Ag=e=>/^0x[0-9A-Fa-f]+$/.test(e),xi=e=>e===null||typeof e!="object"?e:Array.isArray(e)?e.map(n=>xi(n)):Object.values(e).map(n=>xi(n)),vi=e=>{if(typeof e=="boolean"||typeof e=="string"||e===null||e===void 0)return e;if(typeof e=="number"||typeof e=="bigint")return String(e);if(Array.isArray(e))return e.map(t=>vi(t));if(typeof e=="object"){const t={...e};if("value"in t&&t.value!==void 0&&(typeof t.value!="string"&&(t.value=String(t.value)),!Ag(t.value)))throw console.error("Transaction value must be a valid hex string",t.value),new Error(`Transaction value must be a valid hex string: ${t.value}`);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=vi(t[n]));return t}return e},Ig=e=>{if(e.formatPayload){const t=vi(e);return t.transaction=t.transaction.map(n=>{const r=xi(n.args);return{...n,args:r}}),t}return e},Bg=async e=>(await(await fetch("https://usernames.worldcoin.org/api/v1/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:[e]})})).json())?.[0]??{username:null,profile_picture_url:null},Ie=e=>{En(e)},z=class ce{static sendInit(){En({command:"init",payload:{version:this.MINIKIT_VERSION,minorVersion:this.MINIKIT_MINOR_VERSION}})}static subscribe(t,n){if(t==="miniapp-wallet-auth"){const r=n,o=async i=>{if(i.status==="success"){ce.user.walletAddress=i.address;try{const s=await ce.getUserByAddress(i.address);ce.user={...ce.user,...s}}catch(s){console.error("Failed to fetch user profile:",s)}}r(i)};this.listeners[t]=o}else if(t==="miniapp-verify-action"){const r=n,o=i=>{i.status==="error"&&i.error_code=="user_rejected"&&(i.error_code=$e.VerificationRejected),i.status==="success"&&i.verification_level===Ft.Orb?G0(i.proof).then(s=>{i.proof=s,r(i)}):r(i)};this.listeners[t]=o}else this.listeners[t]=n}static unsubscribe(t){delete this.listeners[t]}static trigger(t,n){if(!this.listeners[t]){console.error(`No handler for event ${t}, payload: ${JSON.stringify(n)}`);return}this.listeners[t](n)}static async awaitCommand(t,n,r){return new Promise(o=>{let i=null;const s=a=>{this.unsubscribe(t),o({commandPayload:i,finalPayload:a})};this.subscribe(t,s),i=r()})}static commandsValid(t){let n=!0;return Object.entries(this.miniKitCommandVersion).forEach(([r,o])=>{const i=t.find(a=>a.name===r);let s=!1;i?i.supported_versions.includes(o)?(ce.isCommandAvailable[r]=!0,s=!0):(s=!0,console.warn(`Command ${r} version ${o} is not supported by the app. Supported versions: ${i.supported_versions.join(", ")}. This is not an error, but it is recommended to update the World App version.`),ce.isCommandAvailable[r]=s):console.warn(`Command ${r} is not supported by the app. Try updating the app version`),s||(n=!1)}),n}static install(t){if(typeof window>"u"||window.MiniKit)return{success:!1,errorCode:"already_installed",errorMessage:xn.already_installed};if(t?ce.appId=t:console.warn("App ID not provided during install"),!window.WorldApp)return{success:!1,errorCode:"outside_of_worldapp",errorMessage:xn.outside_of_worldapp};ce.user.optedIntoOptionalAnalytics=window.WorldApp.is_optional_analytics,ce.user.deviceOS=window.WorldApp.device_os,ce.user.worldAppVersion=window.WorldApp.world_app_version,ce.deviceProperties.safeAreaInsets=window.WorldApp.safe_area_insets,ce.deviceProperties.deviceOS=window.WorldApp.device_os,ce.deviceProperties.worldAppVersion=window.WorldApp.world_app_version,ce.location=bg(window.WorldApp.location);try{window.MiniKit=ce,this.sendInit()}catch(n){return console.error(xn.unknown,n),{success:!1,errorCode:"unknown",errorMessage:xn.unknown}}return ce.isReady=!0,yg(),this.commandsValid(window.WorldApp.supported_commands)?{success:!0}:{success:!1,errorCode:"app_out_of_date",errorMessage:xn.app_out_of_date}}static isInstalled(t){const n=ce.isReady&&!!window.MiniKit;return n||console.error("MiniKit is not installed. Make sure you're running the application inside of World App"),t&&n&&console.log("MiniKit is alive!"),n}};z.MINIKIT_VERSION=1;z.MINIKIT_MINOR_VERSION=96;z.miniKitCommandVersion={verify:1,pay:1,"wallet-auth":2,"send-transaction":1,"sign-message":1,"sign-typed-data":1,"share-contacts":1,"request-permission":1,"get-permissions":1,"send-haptic-feedback":1,share:1,chat:1};z.isCommandAvailable={verify:!1,pay:!1,"wallet-auth":!1,"send-transaction":!1,"sign-message":!1,"sign-typed-data":!1,"share-contacts":!1,"request-permission":!1,"get-permissions":!1,"send-haptic-feedback":!1,share:!1,chat:!1};z.listeners={"miniapp-verify-action":()=>{},"miniapp-payment":()=>{},"miniapp-wallet-auth":()=>{},"miniapp-send-transaction":()=>{},"miniapp-sign-message":()=>{},"miniapp-sign-typed-data":()=>{},"miniapp-share-contacts":()=>{},"miniapp-request-permission":()=>{},"miniapp-get-permissions":()=>{},"miniapp-send-haptic-feedback":()=>{},"miniapp-share":()=>{},"miniapp-microphone":()=>{},"miniapp-chat":()=>{}};z.appId=null;z.user={};z.deviceProperties={};z.location=null;z.isReady=!1;z.getUserByAddress=async e=>{const t=await Bg(e??z.user.walletAddress);return{walletAddress:e??z.user.walletAddress,username:t.username,profilePictureUrl:t.profile_picture_url}};z.getUserByUsername=async e=>{const n=await(await fetch(`https://usernames.worldcoin.org/api/v1/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();return{walletAddress:n.address,username:n.username,profilePictureUrl:n.profile_picture_url}};z.getMiniAppUrl=(e,t)=>{const n=new URL("https://world.org/mini-app");if(n.searchParams.append("app_id",e),t){const r=t.startsWith("/")?t:`/${t}`;n.searchParams.append("path",encodeURIComponent(r))}return n.toString()};z.showProfileCard=(e,t)=>{if(!e&&!t){console.error("Either username or walletAddress must be provided to show profile card");return}if(e){window.open(`worldapp://profile?username=${encodeURIComponent(e)}`);return}else window.open(`worldapp://profile?address=${encodeURIComponent(t||"")}`)};z.getUserInfo=z.getUserByAddress;z.commands={verify:e=>{if(typeof window>"u"||!z.isCommandAvailable.verify)return console.error("'verify' command is unavailable. Check MiniKit.install() or update the app version"),null;const t=new Date().toISOString(),n={action:Sc(e.action),signal:$c(e.signal).digest,verification_level:e.verification_level||Ft.Orb,timestamp:t};return Ie({command:"verify",version:z.miniKitCommandVersion.verify,payload:n}),n},pay:e=>{if(typeof window>"u"||!z.isCommandAvailable.pay)return console.error("'pay' command is unavailable. Check MiniKit.install() or update the app version"),null;if(!pg(e))return null;const t={...e,network:"worldchain"};return Ie({command:"pay",version:z.miniKitCommandVersion.pay,payload:t}),t},walletAuth:e=>{if(typeof window>"u"||!z.isCommandAvailable["wallet-auth"])return console.error("'walletAuth' command is unavailable. Check MiniKit.install() or update the app version"),null;const t=Pg(e);if(!t.valid)return console.error(`Failed to validate wallet auth input:

 -->`,t.message),null;let n=null;try{n=new URL(window.location.href).protocol.split(":")[0]}catch(s){return console.error("Failed to get current URL",s),null}const o={siweMessage:hg({scheme:n,domain:window.location.host,statement:e.statement??void 0,uri:window.location.href,version:"1",chain_id:480,nonce:e.nonce,issued_at:new Date().toISOString(),expiration_time:e.expirationTime?.toISOString()??void 0,not_before:e.notBefore?.toISOString()??void 0,request_id:e.requestId??void 0})},i=z.user.worldAppVersion&&z.user.worldAppVersion>2087900?z.miniKitCommandVersion["wallet-auth"]:1;return Ie({command:"wallet-auth",version:i,payload:o}),o},sendTransaction:e=>{if(typeof window>"u"||!z.isCommandAvailable["send-transaction"])return console.error("'sendTransaction' command is unavailable. Check MiniKit.install() or update the app version"),null;e.formatPayload=e.formatPayload!==!1;const t=Ig(e);return Ie({command:"send-transaction",version:z.miniKitCommandVersion["send-transaction"],payload:t}),t},signMessage:e=>typeof window>"u"||!z.isCommandAvailable["sign-message"]?(console.error("'signMessage' command is unavailable. Check MiniKit.install() or update the app version"),null):(Ie({command:"sign-message",version:z.miniKitCommandVersion["sign-message"],payload:e}),e),signTypedData:e=>typeof window>"u"||!z.isCommandAvailable["sign-typed-data"]?(console.error("'signTypedData' command is unavailable. Check MiniKit.install() or update the app version"),null):(e.chainId||(e.chainId=480),Ie({command:"sign-typed-data",version:z.miniKitCommandVersion["sign-typed-data"],payload:e}),e),shareContacts:e=>typeof window>"u"||!z.isCommandAvailable["share-contacts"]?(console.error("'shareContacts' command is unavailable. Check MiniKit.install() or update the app version"),null):(Ie({command:"share-contacts",version:z.miniKitCommandVersion["share-contacts"],payload:e}),e),requestPermission:e=>typeof window>"u"||!z.isCommandAvailable["request-permission"]?(console.error("'requestPermission' command is unavailable. Check MiniKit.install() or update the app version"),null):(Ie({command:"request-permission",version:z.miniKitCommandVersion["request-permission"],payload:e}),e),getPermissions:()=>typeof window>"u"||!z.isCommandAvailable["get-permissions"]?(console.error("'getPermissions' command is unavailable. Check MiniKit.install() or update the app version"),null):(Ie({command:"get-permissions",version:z.miniKitCommandVersion["get-permissions"],payload:{}}),{status:"sent"}),sendHapticFeedback:e=>typeof window>"u"||!z.isCommandAvailable["send-haptic-feedback"]?(console.error("'sendHapticFeedback' command is unavailable. Check MiniKit.install() or update the app version"),null):(Ie({command:"send-haptic-feedback",version:z.miniKitCommandVersion["send-haptic-feedback"],payload:e}),e),share:e=>typeof window>"u"||!z.isCommandAvailable.share?(console.error("'share' command is unavailable. Check MiniKit.install() or update the app version"),null):(z.deviceProperties.deviceOS==="ios"&&typeof navigator<"u"?(Ie({command:"share",version:z.miniKitCommandVersion.share,payload:e}),navigator.share(e)):(Eg(e).then(t=>{Ie({command:"share",version:z.miniKitCommandVersion.share,payload:t})}).catch(t=>{console.error("Failed to format share input",t)}),z.subscribe("miniapp-share",t=>{console.log("Share Response",t)})),e),chat:e=>typeof window>"u"||!z.isCommandAvailable.chat?(console.error("'chat' command is unavailable. Check MiniKit.install() or update the app version"),null):e.message.length===0?(console.error("'chat' command requires a non-empty message"),null):(Ie({command:"chat",version:z.miniKitCommandVersion.chat,payload:e}),e)};z.commandsAsync={verify:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-verify-action","verify",()=>z.commands.verify(e));r.finalPayload.status==="success"&&r.finalPayload.verification_level===Ft.Orb&&(r.finalPayload.proof=await G0(r.finalPayload.proof)),t(r)}catch(r){n(r)}}),pay:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-payment","pay",()=>z.commands.pay(e));t(r)}catch(r){n(r)}}),walletAuth:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-wallet-auth","wallet-auth",()=>z.commands.walletAuth(e));return t(r)}catch(r){n(r)}}),sendTransaction:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-send-transaction","send-transaction",()=>z.commands.sendTransaction(e));return t(r)}catch(r){n(r)}}),signMessage:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-sign-message","sign-message",()=>z.commands.signMessage(e));return t(r)}catch(r){n(r)}}),signTypedData:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-sign-typed-data","sign-typed-data",()=>z.commands.signTypedData(e));return t(r)}catch(r){n(r)}}),shareContacts:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-share-contacts","share-contacts",()=>z.commands.shareContacts(e));return t(r)}catch(r){n(r)}}),requestPermission:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-request-permission","request-permission",()=>z.commands.requestPermission(e));t(r)}catch(r){n(r)}}),getPermissions:async()=>new Promise(async(e,t)=>{try{const n=await z.awaitCommand("miniapp-get-permissions","get-permissions",()=>z.commands.getPermissions());e(n)}catch(n){t(n)}}),sendHapticFeedback:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-send-haptic-feedback","send-haptic-feedback",()=>z.commands.sendHapticFeedback(e));t(r)}catch(r){n(r)}}),share:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-share","share",()=>z.commands.share(e));t({commandPayload:r.commandPayload,finalPayload:r.finalPayload})}catch(r){n(r)}}),chat:async e=>new Promise(async(t,n)=>{try{const r=await z.awaitCommand("miniapp-chat","chat",()=>z.commands.chat(e));t({commandPayload:r.commandPayload,finalPayload:r.finalPayload})}catch(r){n(r)}})};var dt=z;const Oo="http://localhost:3000/api",$g="Elite Connect",Sg="app_486e187afe7bc69a19456a3fa901a162",ja="signin";console.log(" Initializing MiniKit...");console.log("MiniKit available:",!!dt);console.log("VerificationLevel available:",!!Ft);try{dt.install(Sg),console.log(" MiniKit installed successfully")}catch(e){console.error(" MiniKit installation error:",e)}function Tg(){if(console.log(" Checking if in World App..."),!dt)return console.log(" MiniKit not available"),!1;try{const e=dt.isInstalled();console.log(" MiniKit.isInstalled():",e);const t=navigator.userAgent.toLowerCase(),n=t.includes("worldapp")||t.includes("world-app");console.log(" User Agent:",navigator.userAgent),console.log(" Has World App UA:",n);const r=e;return console.log(" Final decision - In World App:",r),r}catch(e){return console.error(" Error checking MiniKit:",e),!1}}class Be{static show(t,n="info",r=3e3){console.log(`[TOAST ${n.toUpperCase()}] ${t}`);const o=document.createElement("div");o.className=`toast toast-${n}`;const i={success:"",error:"",warning:"",info:""};o.innerHTML=`
      <span style="font-size:1.25rem;margin-right:0.5rem">${i[n]}</span>
      <span>${t}</span>
    `,document.body.appendChild(o),setTimeout(()=>o.classList.add("show"),10),setTimeout(()=>{o.classList.remove("show"),setTimeout(()=>o.remove(),300)},r)}static success(t){this.show(t,"success")}static error(t){this.show(t,"error")}static warning(t){this.show(t,"warning")}static info(t){this.show(t,"info")}}class Cg{constructor(){console.log(" Elite Connect Starting..."),console.log(" Environment Check:"),console.log("   - Window location:",window.location.href),console.log("   - Document ready:",document.readyState),console.log("   - MiniKit:",!!dt),console.log("   - VerificationLevel:",!!Ft),this.token=localStorage.getItem("token"),this.user=null,this.currentPage="auth",console.log(" Local Storage:"),console.log("   - Token exists:",!!this.token),this.render()}render(){if(console.log(" Starting render..."),!document.getElementById("app")){console.error(" CRITICAL: #app element not found in DOM!"),document.body.innerHTML=`
        <div style="padding:2rem;text-align:center;color:red">
          <h1>Error: App container not found</h1>
          <p>The #app element is missing from index.html</p>
        </div>
      `;return}console.log(" #app element found");const n=Tg();if(console.log(" Render Decision:"),console.log("   - In World App:",n),console.log("   - Has Token:",!!this.token),!n){console.log(" Showing: World App Required screen"),this.showWorldAppRequired();return}console.log(" In World App, proceeding..."),this.token?(console.log(" Showing: Checking authentication"),this.init()):(console.log(" Showing: Sign-in screen"),this.showAuth())}showWorldAppRequired(){console.log(" Rendering: World App Required");const t=document.getElementById("app");if(!t){console.error(" #app element not found!");return}t.innerHTML=`
      <div class="auth-container">
        <div class="auth-card">
          <div class="logo" style="background:linear-gradient(135deg, #667eea, #764ba2)"></div>
          <h1 class="gradient-text">Open in World App</h1>
          <p class="subtitle">This app requires World App to function</p>
          
          <div style="background:#f0f9ff;padding:1.5rem;border-radius:12px;margin:2rem 0;text-align:left">
            <h3 style="margin:0 0 1rem 0;color:#0369a1"> How to Open:</h3>
            <ol style="margin:0;padding-left:1.5rem;line-height:2;color:#0c4a6e">
              <li>Open <strong>World App</strong> on your phone</li>
              <li>Tap the <strong>Browser</strong> tab</li>
              <li>Enter this URL: <code style="background:#e0f2fe;padding:0.25rem 0.5rem;border-radius:4px;font-size:0.875rem">${window.location.href}</code></li>
              <li>App will work automatically! </li>
            </ol>
          </div>
          
          <div style="background:#fef3c7;padding:1rem;border-radius:8px;margin:1rem 0">
            <p style="margin:0;font-size:0.875rem;color:#92400e">
              <strong> Why World App?</strong><br>
              Elite Connect uses World ID for secure verification.<br>
              World ID only works inside World App.
            </p>
          </div>
          
          <button class="btn" onclick="window.location.reload()" style="background:#667eea;margin-top:1rem">
             Reload Page
          </button>
          
          <p class="footer-text" style="margin-top:1.5rem;font-size:0.75rem;color:#666">
            Debug: Not in World App (MiniKit.isInstalled() = false)
          </p>
        </div>
      </div>
    `,console.log(" World App Required screen rendered successfully")}showAuth(){console.log(" Rendering: Sign-in screen");const t=document.getElementById("app");if(!t){console.error(" #app element not found!");return}t.innerHTML=`
      <div class="auth-container">
        <div class="auth-card">
          <div class="logo"></div>
          <h1 class="gradient-text">${$g}</h1>
          <p class="subtitle">Verified connections, genuine hearts</p>
          
          <button class="btn" id="signInBtn">
             Sign in with World ID
          </button>
          
          <p class="footer-text">One person, one profile. Verified humans only.</p>
          
          <div style="background:#f0fdf4;padding:1rem;border-radius:8px;margin-top:1.5rem">
            <p style="font-size:0.875rem;color:#166534;margin:0;line-height:1.6">
               Privacy-preserving verification<br>
               No personal data shared<br>
               Proof of unique human
            </p>
          </div>
          
          <p style="margin-top:1.5rem;font-size:0.75rem;color:#666">
            Debug: In World App 
          </p>
        </div>
      </div>
    `;const n=document.getElementById("signInBtn");n?(n.onclick=()=>this.verifyWithWorldID(),console.log(" Sign-in button event listener attached")):console.error(" Sign-in button not found!"),console.log(" Sign-in screen rendered successfully")}async verifyWithWorldID(){if(console.log(" Starting World ID verification..."),!dt){console.error(" MiniKit not available"),Be.error("MiniKit not available. Please refresh.");return}try{if(!dt.isInstalled()){console.error(" MiniKit not installed"),Be.error("Please open this app in World App"),this.showWorldAppRequired();return}Be.info("Opening World ID verification..."),console.log(" Calling MiniKit.commandsAsync.verify...");const{finalPayload:t}=await dt.commandsAsync.verify({action:ja,signal:"",verification_level:Ft.Device});if(console.log(" World ID response:",t),t.status==="success"){console.log(" World ID verification successful"),Be.info("Verifying with backend...");const r=await(await fetch(`${Oo}/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({payload:t,action:ja,signal:""})})).json();console.log(" Backend response:",r),r.success?(console.log(" Backend verification successful"),this.token=r.token,this.user=r.user,localStorage.setItem("token",this.token),Be.success("Welcome to Elite Connect!"),r.user.profile_completed?this.showHome():this.showProfileSetup()):Be.error(r.error||"Verification failed")}else console.log(" Verification status:",t.status),Be.warning("Verification cancelled")}catch(t){console.error(" Verification error:",t),Be.error("Verification failed: "+t.message)}}async init(){try{console.log(" Checking authentication...");const t=await fetch(`${Oo}/auth/me`,{headers:{Authorization:`Bearer ${this.token}`}});t.ok?(this.user=await t.json(),console.log(" User authenticated:",this.user),this.user.profile_completed?this.showHome():this.showProfileSetup()):(console.log(" Authentication failed"),this.logout())}catch(t){console.error(" Init error:",t),this.logout()}}showProfileSetup(){console.log(" Rendering: Profile Setup"),document.getElementById("app").innerHTML=`
      <div class="page-container">
        <div class="content-wrapper">
          <div class="page-header">
            <div class="page-icon"></div>
            <h1>Create Your Profile</h1>
            <p>Tell us about yourself</p>
          </div>
          
          <div class="card">
            <form id="profileForm" class="profile-form">
              <div class="form-group">
                <label>Name *</label>
                <input type="text" name="name" required placeholder="Your name" />
              </div>
              
              <div class="form-group">
                <label>Age *</label>
                <input type="number" name="age" min="18" max="100" required placeholder="18" />
              </div>
              
              <div class="form-group">
                <label>Gender *</label>
                <select name="gender" required>
                  <option value="">Select gender</option>
                  <option value="male">Male</option>
                  <option value="female">Female</option>
                  <option value="non-binary">Non-binary</option>
                  <option value="other">Other</option>
                </select>
              </div>
              
              <div class="form-group">
                <label>Bio</label>
                <textarea name="bio" rows="4" placeholder="Tell us about yourself..."></textarea>
              </div>
              
              <button type="submit" class="btn">Complete Profile</button>
            </form>
          </div>
        </div>
      </div>
    `;const t=document.getElementById("profileForm");t&&(t.onsubmit=n=>this.submitProfile(n),console.log(" Profile form event listener attached"))}async submitProfile(t){t.preventDefault(),console.log(" Submitting profile...");const n=new FormData(t.target),r=Object.fromEntries(n);console.log(" Profile data:",r);try{Be.info("Creating your profile...");const i=await(await fetch(`${Oo}/profile/create`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(r)})).json();console.log(" Profile response:",i),i.success?(console.log(" Profile created"),this.user.profile_completed=!0,Be.success("Profile created successfully!"),this.showHome()):Be.error(i.error||"Failed to create profile")}catch(o){console.error(" Profile error:",o),Be.error("Failed to create profile")}}showHome(){console.log(" Rendering: Home"),document.getElementById("app").innerHTML=`
      <div class="page-container with-nav">
        <div class="content-wrapper">
          <div class="welcome-card">
            <div class="welcome-icon"></div>
            <h1>Welcome Back!</h1>
            <p>Ready to find your match?</p>
          </div>

          <div class="action-grid">
            <div class="action-card" onclick="alert('Explore coming soon!')">
              <div class="action-icon"></div>
              <h3>Discover</h3>
              <p>Find profiles</p>
            </div>
            
            <div class="action-card" onclick="alert('Chat coming soon!')">
              <div class="action-icon"></div>
              <h3>Messages</h3>
              <p>Your chats</p>
            </div>
          </div>

          <div class="info-card">
            <p> Verified with World ID</p>
          </div>
          
          <button class="btn btn-logout" onclick="window.app.logout()" style="margin-top:2rem">
            Logout
          </button>
        </div>
      </div>
    `,console.log(" Home screen rendered successfully")}logout(){console.log(" Logging out"),localStorage.removeItem("token"),this.token=null,this.user=null,Be.info("Logged out successfully"),this.showAuth()}}console.log(" Script executing...");console.log(" Document state:",document.readyState);function Da(){if(console.log(" Initializing app..."),!document.getElementById("app")){console.error(" CRITICAL: #app element not found!"),document.body.innerHTML=`
      <div style="padding:2rem;text-align:center;color:red">
        <h1>Error: App container missing</h1>
        <p>Check index.html for #app element</p>
      </div>
    `;return}console.log(" #app element verified"),window.app=new Cg,console.log(" App initialized successfully")}document.readyState==="loading"?(console.log(" Waiting for DOM..."),document.addEventListener("DOMContentLoaded",Da)):(console.log(" DOM ready, initializing immediately"),Da());console.log(" Script loaded successfully");export{R as B,vn as H,Z1 as a,rt as b,Xr as c,nh as d,$t as e,et as f,Wi as g,Wr as i,to as l,de as s};
//# sourceMappingURL=index-Y1HsCx9X.js.map
