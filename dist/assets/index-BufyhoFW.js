(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function za(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sr={},Tr={};Tr.byteLength=K0;Tr.toByteArray=Y0;Tr.fromByteArray=Q0;var Xe=[],Fe=[],q0=typeof Uint8Array<"u"?Uint8Array:Array,as="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Dt=0,W0=as.length;Dt<W0;++Dt)Xe[Dt]=as[Dt],Fe[as.charCodeAt(Dt)]=Dt;Fe[45]=62;Fe[95]=63;function Ua(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function K0(e){var t=Ua(e),n=t[0],r=t[1];return(n+r)*3/4-r}function Z0(e,t,n){return(t+n)*3/4-n}function Y0(e){var t,n=Ua(e),r=n[0],s=n[1],i=new q0(Z0(e,r,s)),o=0,a=s>0?r-4:r,c;for(c=0;c<a;c+=4)t=Fe[e.charCodeAt(c)]<<18|Fe[e.charCodeAt(c+1)]<<12|Fe[e.charCodeAt(c+2)]<<6|Fe[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=Fe[e.charCodeAt(c)]<<2|Fe[e.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=Fe[e.charCodeAt(c)]<<10|Fe[e.charCodeAt(c+1)]<<4|Fe[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function J0(e){return Xe[e>>18&63]+Xe[e>>12&63]+Xe[e>>6&63]+Xe[e&63]}function X0(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(J0(r));return s.join("")}function Q0(e){for(var t,n=e.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(X0(e,o,o+i>a?a:o+i));return r===1?(t=e[n-1],s.push(Xe[t>>2]+Xe[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(Xe[t>>10]+Xe[t>>4&63]+Xe[t<<2&63]+"=")),s.join("")}var yi={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */yi.read=function(e,t,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,d=c>>1,l=-7,h=n?s-1:0,b=n?-1:1,m=e[t+h];for(h+=b,i=m&(1<<-l)-1,m>>=-l,l+=a;l>0;i=i*256+e[t+h],h+=b,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=o*256+e[t+h],h+=b,l-=8);if(i===0)i=1-d;else{if(i===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-d}return(m?-1:1)*o*Math.pow(2,i-r)};yi.write=function(e,t,n,r,s,i){var o,a,c,d=i*8-s-1,l=(1<<d)-1,h=l>>1,b=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,g=r?1:-1,w=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?t+=b/c:t+=b*Math.pow(2,1-h),t*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(t*c-1)*Math.pow(2,s),o=o+h):(a=t*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;e[n+m]=a&255,m+=g,a/=256,s-=8);for(o=o<<s|a,d+=s;d>0;e[n+m]=o&255,m+=g,o/=256,d-=8);e[n+m-g]|=w*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Tr,n=yi,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=T,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const p=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(p,u),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>s)throw new RangeError('The value "'+p+'" is invalid for option "size"');const u=new Uint8Array(p);return Object.setPrototypeOf(u,a.prototype),u}function a(p,u,f){if(typeof p=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(p)}return c(p,u,f)}a.poolSize=8192;function c(p,u,f){if(typeof p=="string")return b(p,u);if(ArrayBuffer.isView(p))return g(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Ze(p,ArrayBuffer)||p&&Ze(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(p,SharedArrayBuffer)||p&&Ze(p.buffer,SharedArrayBuffer)))return w(p,u,f);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const y=p.valueOf&&p.valueOf();if(y!=null&&y!==p)return a.from(y,u,f);const x=I(p);if(x)return x;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,u,f){return c(p,u,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function d(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function l(p,u,f){return d(p),p<=0?o(p):u!==void 0?typeof f=="string"?o(p).fill(u,f):o(p).fill(u):o(p)}a.alloc=function(p,u,f){return l(p,u,f)};function h(p){return d(p),o(p<0?0:P(p)|0)}a.allocUnsafe=function(p){return h(p)},a.allocUnsafeSlow=function(p){return h(p)};function b(p,u){if((typeof u!="string"||u==="")&&(u="utf8"),!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const f=A(p,u)|0;let y=o(f);const x=y.write(p,u);return x!==f&&(y=y.slice(0,x)),y}function m(p){const u=p.length<0?0:P(p.length)|0,f=o(u);for(let y=0;y<u;y+=1)f[y]=p[y]&255;return f}function g(p){if(Ze(p,Uint8Array)){const u=new Uint8Array(p);return w(u.buffer,u.byteOffset,u.byteLength)}return m(p)}function w(p,u,f){if(u<0||p.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');let y;return u===void 0&&f===void 0?y=new Uint8Array(p):f===void 0?y=new Uint8Array(p,u):y=new Uint8Array(p,u,f),Object.setPrototypeOf(y,a.prototype),y}function I(p){if(a.isBuffer(p)){const u=P(p.length)|0,f=o(u);return f.length===0||p.copy(f,0,0,u),f}if(p.length!==void 0)return typeof p.length!="number"||os(p.length)?o(0):m(p);if(p.type==="Buffer"&&Array.isArray(p.data))return m(p.data)}function P(p){if(p>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return p|0}function T(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==a.prototype},a.compare=function(u,f){if(Ze(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),Ze(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(u)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;let y=u.length,x=f.length;for(let E=0,$=Math.min(y,x);E<$;++E)if(u[E]!==f[E]){y=u[E],x=f[E];break}return y<x?-1:x<y?1:0},a.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return a.alloc(0);let y;if(f===void 0)for(f=0,y=0;y<u.length;++y)f+=u[y].length;const x=a.allocUnsafe(f);let E=0;for(y=0;y<u.length;++y){let $=u[y];if(Ze($,Uint8Array))E+$.length>x.length?(a.isBuffer($)||($=a.from($)),$.copy(x,E)):Uint8Array.prototype.set.call(x,$,E);else if(a.isBuffer($))$.copy(x,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=$.length}return x};function A(p,u){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Ze(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const f=p.length,y=arguments.length>2&&arguments[2]===!0;if(!y&&f===0)return 0;let x=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return is(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Bo(p).length;default:if(x)return y?-1:is(p).length;u=(""+u).toLowerCase(),x=!0}}a.byteLength=A;function v(p,u,f){let y=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return"";for(p||(p="utf8");;)switch(p){case"hex":return j(this,u,f);case"utf8":case"utf-8":return X(this,u,f);case"ascii":return G(this,u,f);case"latin1":case"binary":return R(this,u,f);case"base64":return z(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,u,f);default:if(y)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),y=!0}}a.prototype._isBuffer=!0;function B(p,u,f){const y=p[u];p[u]=p[f],p[f]=y}a.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<u;f+=2)B(this,f,f+1);return this},a.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<u;f+=4)B(this,f,f+3),B(this,f+1,f+2);return this},a.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<u;f+=8)B(this,f,f+7),B(this,f+1,f+6),B(this,f+2,f+5),B(this,f+3,f+4);return this},a.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?X(this,0,u):v.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(u){if(!a.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:a.compare(this,u)===0},a.prototype.inspect=function(){let u="";const f=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(u,f,y,x,E){if(Ze(u,Uint8Array)&&(u=a.from(u,u.offset,u.byteLength)),!a.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),y===void 0&&(y=u?u.length:0),x===void 0&&(x=0),E===void 0&&(E=this.length),f<0||y>u.length||x<0||E>this.length)throw new RangeError("out of range index");if(x>=E&&f>=y)return 0;if(x>=E)return-1;if(f>=y)return 1;if(f>>>=0,y>>>=0,x>>>=0,E>>>=0,this===u)return 0;let $=E-x,Y=y-f;const se=Math.min($,Y),te=this.slice(x,E),ie=u.slice(f,y);for(let Q=0;Q<se;++Q)if(te[Q]!==ie[Q]){$=te[Q],Y=ie[Q];break}return $<Y?-1:Y<$?1:0};function k(p,u,f,y,x){if(p.length===0)return-1;if(typeof f=="string"?(y=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,os(f)&&(f=x?0:p.length-1),f<0&&(f=p.length+f),f>=p.length){if(x)return-1;f=p.length-1}else if(f<0)if(x)f=0;else return-1;if(typeof u=="string"&&(u=a.from(u,y)),a.isBuffer(u))return u.length===0?-1:C(p,u,f,y,x);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(p,u,f):Uint8Array.prototype.lastIndexOf.call(p,u,f):C(p,[u],f,y,x);throw new TypeError("val must be string, number or Buffer")}function C(p,u,f,y,x){let E=1,$=p.length,Y=u.length;if(y!==void 0&&(y=String(y).toLowerCase(),y==="ucs2"||y==="ucs-2"||y==="utf16le"||y==="utf-16le")){if(p.length<2||u.length<2)return-1;E=2,$/=2,Y/=2,f/=2}function se(ie,Q){return E===1?ie[Q]:ie.readUInt16BE(Q*E)}let te;if(x){let ie=-1;for(te=f;te<$;te++)if(se(p,te)===se(u,ie===-1?0:te-ie)){if(ie===-1&&(ie=te),te-ie+1===Y)return ie*E}else ie!==-1&&(te-=te-ie),ie=-1}else for(f+Y>$&&(f=$-Y),te=f;te>=0;te--){let ie=!0;for(let Q=0;Q<Y;Q++)if(se(p,te+Q)!==se(u,Q)){ie=!1;break}if(ie)return te}return-1}a.prototype.includes=function(u,f,y){return this.indexOf(u,f,y)!==-1},a.prototype.indexOf=function(u,f,y){return k(this,u,f,y,!0)},a.prototype.lastIndexOf=function(u,f,y){return k(this,u,f,y,!1)};function O(p,u,f,y){f=Number(f)||0;const x=p.length-f;y?(y=Number(y),y>x&&(y=x)):y=x;const E=u.length;y>E/2&&(y=E/2);let $;for($=0;$<y;++$){const Y=parseInt(u.substr($*2,2),16);if(os(Y))return $;p[f+$]=Y}return $}function U(p,u,f,y){return dr(is(u,p.length-f),p,f,y)}function H(p,u,f,y){return dr(D0(u),p,f,y)}function M(p,u,f,y){return dr(Bo(u),p,f,y)}function L(p,u,f,y){return dr(H0(u,p.length-f),p,f,y)}a.prototype.write=function(u,f,y,x){if(f===void 0)x="utf8",y=this.length,f=0;else if(y===void 0&&typeof f=="string")x=f,y=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(y)?(y=y>>>0,x===void 0&&(x="utf8")):(x=y,y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const E=this.length-f;if((y===void 0||y>E)&&(y=E),u.length>0&&(y<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");let $=!1;for(;;)switch(x){case"hex":return O(this,u,f,y);case"utf8":case"utf-8":return U(this,u,f,y);case"ascii":case"latin1":case"binary":return H(this,u,f,y);case"base64":return M(this,u,f,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,u,f,y);default:if($)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(p,u,f){return u===0&&f===p.length?t.fromByteArray(p):t.fromByteArray(p.slice(u,f))}function X(p,u,f){f=Math.min(p.length,f);const y=[];let x=u;for(;x<f;){const E=p[x];let $=null,Y=E>239?4:E>223?3:E>191?2:1;if(x+Y<=f){let se,te,ie,Q;switch(Y){case 1:E<128&&($=E);break;case 2:se=p[x+1],(se&192)===128&&(Q=(E&31)<<6|se&63,Q>127&&($=Q));break;case 3:se=p[x+1],te=p[x+2],(se&192)===128&&(te&192)===128&&(Q=(E&15)<<12|(se&63)<<6|te&63,Q>2047&&(Q<55296||Q>57343)&&($=Q));break;case 4:se=p[x+1],te=p[x+2],ie=p[x+3],(se&192)===128&&(te&192)===128&&(ie&192)===128&&(Q=(E&15)<<18|(se&63)<<12|(te&63)<<6|ie&63,Q>65535&&Q<1114112&&($=Q))}}$===null?($=65533,Y=1):$>65535&&($-=65536,y.push($>>>10&1023|55296),$=56320|$&1023),y.push($),x+=Y}return N(y)}const F=4096;function N(p){const u=p.length;if(u<=F)return String.fromCharCode.apply(String,p);let f="",y=0;for(;y<u;)f+=String.fromCharCode.apply(String,p.slice(y,y+=F));return f}function G(p,u,f){let y="";f=Math.min(p.length,f);for(let x=u;x<f;++x)y+=String.fromCharCode(p[x]&127);return y}function R(p,u,f){let y="";f=Math.min(p.length,f);for(let x=u;x<f;++x)y+=String.fromCharCode(p[x]);return y}function j(p,u,f){const y=p.length;(!u||u<0)&&(u=0),(!f||f<0||f>y)&&(f=y);let x="";for(let E=u;E<f;++E)x+=G0[p[E]];return x}function V(p,u,f){const y=p.slice(u,f);let x="";for(let E=0;E<y.length-1;E+=2)x+=String.fromCharCode(y[E]+y[E+1]*256);return x}a.prototype.slice=function(u,f){const y=this.length;u=~~u,f=f===void 0?y:~~f,u<0?(u+=y,u<0&&(u=0)):u>y&&(u=y),f<0?(f+=y,f<0&&(f=0)):f>y&&(f=y),f<u&&(f=u);const x=this.subarray(u,f);return Object.setPrototypeOf(x,a.prototype),x};function q(p,u,f){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+u>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=this[u],E=1,$=0;for(;++$<f&&(E*=256);)x+=this[u+$]*E;return x},a.prototype.readUintBE=a.prototype.readUIntBE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=this[u+--f],E=1;for(;f>0&&(E*=256);)x+=this[u+--f]*E;return x},a.prototype.readUint8=a.prototype.readUInt8=function(u,f){return u=u>>>0,f||q(u,1,this.length),this[u]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||q(u,2,this.length),this[u]|this[u+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||q(u,2,this.length),this[u]<<8|this[u+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||q(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||q(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},a.prototype.readBigUInt64LE=xt(function(u){u=u>>>0,ve(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,E=this[++u]+this[++u]*2**8+this[++u]*2**16+y*2**24;return BigInt(x)+(BigInt(E)<<BigInt(32))}),a.prototype.readBigUInt64BE=xt(function(u){u=u>>>0,ve(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=f*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],E=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y;return(BigInt(x)<<BigInt(32))+BigInt(E)}),a.prototype.readIntLE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=this[u],E=1,$=0;for(;++$<f&&(E*=256);)x+=this[u+$]*E;return E*=128,x>=E&&(x-=Math.pow(2,8*f)),x},a.prototype.readIntBE=function(u,f,y){u=u>>>0,f=f>>>0,y||q(u,f,this.length);let x=f,E=1,$=this[u+--x];for(;x>0&&(E*=256);)$+=this[u+--x]*E;return E*=128,$>=E&&($-=Math.pow(2,8*f)),$},a.prototype.readInt8=function(u,f){return u=u>>>0,f||q(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},a.prototype.readInt16LE=function(u,f){u=u>>>0,f||q(u,2,this.length);const y=this[u]|this[u+1]<<8;return y&32768?y|4294901760:y},a.prototype.readInt16BE=function(u,f){u=u>>>0,f||q(u,2,this.length);const y=this[u+1]|this[u]<<8;return y&32768?y|4294901760:y},a.prototype.readInt32LE=function(u,f){return u=u>>>0,f||q(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},a.prototype.readInt32BE=function(u,f){return u=u>>>0,f||q(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},a.prototype.readBigInt64LE=xt(function(u){u=u>>>0,ve(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(y<<24);return(BigInt(x)<<BigInt(32))+BigInt(f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),a.prototype.readBigInt64BE=xt(function(u){u=u>>>0,ve(u,"offset");const f=this[u],y=this[u+7];(f===void 0||y===void 0)&&Me(u,this.length-8);const x=(f<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(x)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+y)}),a.prototype.readFloatLE=function(u,f){return u=u>>>0,f||q(u,4,this.length),n.read(this,u,!0,23,4)},a.prototype.readFloatBE=function(u,f){return u=u>>>0,f||q(u,4,this.length),n.read(this,u,!1,23,4)},a.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||q(u,8,this.length),n.read(this,u,!0,52,8)},a.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||q(u,8,this.length),n.read(this,u,!1,52,8)};function J(p,u,f,y,x,E){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>x||u<E)throw new RangeError('"value" argument is out of bounds');if(f+y>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(u,f,y,x){if(u=+u,f=f>>>0,y=y>>>0,!x){const Y=Math.pow(2,8*y)-1;J(this,u,f,y,Y,0)}let E=1,$=0;for(this[f]=u&255;++$<y&&(E*=256);)this[f+$]=u/E&255;return f+y},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(u,f,y,x){if(u=+u,f=f>>>0,y=y>>>0,!x){const Y=Math.pow(2,8*y)-1;J(this,u,f,y,Y,0)}let E=y-1,$=1;for(this[f+E]=u&255;--E>=0&&($*=256);)this[f+E]=u/$&255;return f+y},a.prototype.writeUint8=a.prototype.writeUInt8=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,1,255,0),this[f]=u&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function ue(p,u,f,y,x){gt(u,y,x,p,f,7);let E=Number(u&BigInt(4294967295));p[f++]=E,E=E>>8,p[f++]=E,E=E>>8,p[f++]=E,E=E>>8,p[f++]=E;let $=Number(u>>BigInt(32)&BigInt(4294967295));return p[f++]=$,$=$>>8,p[f++]=$,$=$>>8,p[f++]=$,$=$>>8,p[f++]=$,f}function ae(p,u,f,y,x){gt(u,y,x,p,f,7);let E=Number(u&BigInt(4294967295));p[f+7]=E,E=E>>8,p[f+6]=E,E=E>>8,p[f+5]=E,E=E>>8,p[f+4]=E;let $=Number(u>>BigInt(32)&BigInt(4294967295));return p[f+3]=$,$=$>>8,p[f+2]=$,$=$>>8,p[f+1]=$,$=$>>8,p[f]=$,f+8}a.prototype.writeBigUInt64LE=xt(function(u,f=0){return ue(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xt(function(u,f=0){return ae(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(u,f,y,x){if(u=+u,f=f>>>0,!x){const se=Math.pow(2,8*y-1);J(this,u,f,y,se-1,-se)}let E=0,$=1,Y=0;for(this[f]=u&255;++E<y&&($*=256);)u<0&&Y===0&&this[f+E-1]!==0&&(Y=1),this[f+E]=(u/$>>0)-Y&255;return f+y},a.prototype.writeIntBE=function(u,f,y,x){if(u=+u,f=f>>>0,!x){const se=Math.pow(2,8*y-1);J(this,u,f,y,se-1,-se)}let E=y-1,$=1,Y=0;for(this[f+E]=u&255;--E>=0&&($*=256);)u<0&&Y===0&&this[f+E+1]!==0&&(Y=1),this[f+E]=(u/$>>0)-Y&255;return f+y},a.prototype.writeInt8=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},a.prototype.writeInt16LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},a.prototype.writeInt16BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},a.prototype.writeInt32LE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},a.prototype.writeInt32BE=function(u,f,y){return u=+u,f=f>>>0,y||J(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},a.prototype.writeBigInt64LE=xt(function(u,f=0){return ue(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xt(function(u,f=0){return ae(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function re(p,u,f,y,x,E){if(f+y>p.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function fe(p,u,f,y,x){return u=+u,f=f>>>0,x||re(p,u,f,4),n.write(p,u,f,y,23,4),f+4}a.prototype.writeFloatLE=function(u,f,y){return fe(this,u,f,!0,y)},a.prototype.writeFloatBE=function(u,f,y){return fe(this,u,f,!1,y)};function Ne(p,u,f,y,x){return u=+u,f=f>>>0,x||re(p,u,f,8),n.write(p,u,f,y,52,8),f+8}a.prototype.writeDoubleLE=function(u,f,y){return Ne(this,u,f,!0,y)},a.prototype.writeDoubleBE=function(u,f,y){return Ne(this,u,f,!1,y)},a.prototype.copy=function(u,f,y,x){if(!a.isBuffer(u))throw new TypeError("argument should be a Buffer");if(y||(y=0),!x&&x!==0&&(x=this.length),f>=u.length&&(f=u.length),f||(f=0),x>0&&x<y&&(x=y),x===y||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),u.length-f<x-y&&(x=u.length-f+y);const E=x-y;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,y,x):Uint8Array.prototype.set.call(u,this.subarray(y,x),f),E},a.prototype.fill=function(u,f,y,x){if(typeof u=="string"){if(typeof f=="string"?(x=f,f=0,y=this.length):typeof y=="string"&&(x=y,y=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(u.length===1){const $=u.charCodeAt(0);(x==="utf8"&&$<128||x==="latin1")&&(u=$)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<y)throw new RangeError("Out of range index");if(y<=f)return this;f=f>>>0,y=y===void 0?this.length:y>>>0,u||(u=0);let E;if(typeof u=="number")for(E=f;E<y;++E)this[E]=u;else{const $=a.isBuffer(u)?u:a.from(u,x),Y=$.length;if(Y===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(E=0;E<y-f;++E)this[E+f]=$[E%Y]}return this};const Ke={};function _e(p,u,f){Ke[p]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}_e("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_e("ERR_INVALID_ARG_TYPE",function(p,u){return`The "${p}" argument must be of type number. Received type ${typeof u}`},TypeError),_e("ERR_OUT_OF_RANGE",function(p,u,f){let y=`The value of "${p}" is out of range.`,x=f;return Number.isInteger(f)&&Math.abs(f)>2**32?x=it(String(f)):typeof f=="bigint"&&(x=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(x=it(x)),x+="n"),y+=` It must be ${u}. Received ${x}`,y},RangeError);function it(p){let u="",f=p.length;const y=p[0]==="-"?1:0;for(;f>=y+4;f-=3)u=`_${p.slice(f-3,f)}${u}`;return`${p.slice(0,f)}${u}`}function mn(p,u,f){ve(u,"offset"),(p[u]===void 0||p[u+f]===void 0)&&Me(u,p.length-(f+1))}function gt(p,u,f,y,x,E){if(p>f||p<u){const $=typeof u=="bigint"?"n":"";let Y;throw u===0||u===BigInt(0)?Y=`>= 0${$} and < 2${$} ** ${(E+1)*8}${$}`:Y=`>= -(2${$} ** ${(E+1)*8-1}${$}) and < 2 ** ${(E+1)*8-1}${$}`,new Ke.ERR_OUT_OF_RANGE("value",Y,p)}mn(y,x,E)}function ve(p,u){if(typeof p!="number")throw new Ke.ERR_INVALID_ARG_TYPE(u,"number",p)}function Me(p,u,f){throw Math.floor(p)!==p?(ve(p,f),new Ke.ERR_OUT_OF_RANGE("offset","an integer",p)):u<0?new Ke.ERR_BUFFER_OUT_OF_BOUNDS:new Ke.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,p)}const $t=/[^+/0-9A-Za-z-_]/g;function wt(p){if(p=p.split("=")[0],p=p.trim().replace($t,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function is(p,u){u=u||1/0;let f;const y=p.length;let x=null;const E=[];for(let $=0;$<y;++$){if(f=p.charCodeAt($),f>55295&&f<57344){if(!x){if(f>56319){(u-=3)>-1&&E.push(239,191,189);continue}else if($+1===y){(u-=3)>-1&&E.push(239,191,189);continue}x=f;continue}if(f<56320){(u-=3)>-1&&E.push(239,191,189),x=f;continue}f=(x-55296<<10|f-56320)+65536}else x&&(u-=3)>-1&&E.push(239,191,189);if(x=null,f<128){if((u-=1)<0)break;E.push(f)}else if(f<2048){if((u-=2)<0)break;E.push(f>>6|192,f&63|128)}else if(f<65536){if((u-=3)<0)break;E.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((u-=4)<0)break;E.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return E}function D0(p){const u=[];for(let f=0;f<p.length;++f)u.push(p.charCodeAt(f)&255);return u}function H0(p,u){let f,y,x;const E=[];for(let $=0;$<p.length&&!((u-=2)<0);++$)f=p.charCodeAt($),y=f>>8,x=f%256,E.push(x),E.push(y);return E}function Bo(p){return t.toByteArray(wt(p))}function dr(p,u,f,y){let x;for(x=0;x<y&&!(x+f>=u.length||x>=p.length);++x)u[x+f]=p[x];return x}function Ze(p,u){return p instanceof u||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===u.name}function os(p){return p!==p}const G0=function(){const p="0123456789abcdef",u=new Array(256);for(let f=0;f<16;++f){const y=f*16;for(let x=0;x<16;++x)u[y+x]=p[f]+p[x]}return u}();function xt(p){return typeof BigInt>"u"?V0:p}function V0(){throw new Error("BigInt not supported")}})(Sr);const ef="0.1.1";function tf(){return ef}let xe=class ks extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof ks){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof ks&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${tf()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return La(this,t)}};function La(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?La(e.cause,t):t?null:e}const Ht=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function An(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Rt(e,...t){if(!nf(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function rf(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");An(e.outputLen),An(e.blockLen)}function rn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ja(e,t){Rt(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function sf(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function sn(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function cs(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ye(e,t){return e<<32-t|e>>>t}const of=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function af(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function cf(e){for(let t=0;t<e.length;t++)e[t]=af(e[t]);return e}const Io=of?e=>e:cf;function uf(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Cr(e){return typeof e=="string"&&(e=uf(e)),Rt(e),e}function ff(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Rt(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class gi{}function Da(e){const t=r=>e().update(Cr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function df(e=32){if(Ht&&typeof Ht.getRandomValues=="function")return Ht.getRandomValues(new Uint8Array(e));if(Ht&&typeof Ht.randomBytes=="function")return Uint8Array.from(Ht.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function lf(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,d=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+d,a,r)}function hf(e,t,n){return e&t^~e&n}function pf(e,t,n){return e&t^e&n^t&n}class bf extends gi{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=cs(this.buffer)}update(t){rn(this),t=Cr(t),Rt(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=cs(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){rn(this),ja(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,sn(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let h=o;h<s;h++)n[h]=0;lf(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=cs(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=c/4,l=this.get();if(d>l.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<d;h++)a.setUint32(4*h,l[h],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const vt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lr=BigInt(2**32-1),$o=BigInt(32);function mf(e,t=!1){return t?{h:Number(e&lr),l:Number(e>>$o&lr)}:{h:Number(e>>$o&lr)|0,l:Number(e&lr)|0}}function yf(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=mf(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const gf=(e,t,n)=>e<<n|t>>>32-n,wf=(e,t,n)=>t<<n|e>>>32-n,xf=(e,t,n)=>t<<n-32|e>>>64-n,vf=(e,t,n)=>e<<n-32|t>>>64-n,Ef=BigInt(0),yn=BigInt(1),Pf=BigInt(2),Af=BigInt(7),Bf=BigInt(256),If=BigInt(113),Ha=[],Ga=[],Va=[];for(let e=0,t=yn,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ha.push(2*(5*r+n)),Ga.push((e+1)*(e+2)/2%64);let s=Ef;for(let i=0;i<7;i++)t=(t<<yn^(t>>Af)*If)%Bf,t&Pf&&(s^=yn<<(yn<<BigInt(i))-yn);Va.push(s)}const qa=yf(Va,!0),$f=qa[0],Sf=qa[1],So=(e,t,n)=>n>32?xf(e,t,n):gf(e,t,n),To=(e,t,n)=>n>32?vf(e,t,n):wf(e,t,n);function Tf(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,d=n[c],l=n[c+1],h=So(d,l,1)^n[a],b=To(d,l,1)^n[a+1];for(let m=0;m<50;m+=10)e[o+m]^=h,e[o+m+1]^=b}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=Ga[o],c=So(s,i,a),d=To(s,i,a),l=Ha[o];s=e[l],i=e[l+1],e[l]=c,e[l+1]=d}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=$f[r],e[1]^=Sf[r]}sn(n)}class wi extends gi{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,An(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=sf(this.state)}clone(){return this._cloneInto()}keccak(){Io(this.state32),Tf(this.state32,this.rounds),Io(this.state32),this.posOut=0,this.pos=0}update(t){rn(this),t=Cr(t),Rt(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){rn(this,!1),Rt(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return An(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ja(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,sn(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new wi(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Cf=(e,t,n)=>Da(()=>new wi(t,e,n)),xi=Cf(1,136,256/8),kf=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Et=new Uint32Array(64);class Rf extends bf{constructor(t=32){super(64,t,8,!1),this.A=vt[0]|0,this.B=vt[1]|0,this.C=vt[2]|0,this.D=vt[3]|0,this.E=vt[4]|0,this.F=vt[5]|0,this.G=vt[6]|0,this.H=vt[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let h=0;h<16;h++,n+=4)Et[h]=t.getUint32(n,!1);for(let h=16;h<64;h++){const b=Et[h-15],m=Et[h-2],g=Ye(b,7)^Ye(b,18)^b>>>3,w=Ye(m,17)^Ye(m,19)^m>>>10;Et[h]=w+Et[h-7]+g+Et[h-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:d,H:l}=this;for(let h=0;h<64;h++){const b=Ye(a,6)^Ye(a,11)^Ye(a,25),m=l+b+hf(a,c,d)+kf[h]+Et[h]|0,w=(Ye(r,2)^Ye(r,13)^Ye(r,22))+pf(r,s,i)|0;l=d,d=c,c=a,a=o+m|0,o=i,i=s,s=r,r=m+w|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,d=d+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,d,l)}roundClean(){sn(Et)}destroy(){this.set(0,0,0,0,0,0,0,0),sn(this.buffer)}}const Wa=Da(()=>new Rf),Ff=Wa,Of="#__bigint";function vi(e,t,n){return JSON.stringify(e,(r,s)=>typeof t=="function"?t(r,s):typeof s=="bigint"?s.toString()+Of:s,n)}vi.parseError=e=>e;function Nf(e,t){if(Rs(e)>t)throw new Hf({givenSize:Rs(e),maxSize:t})}const ot={zero:48,nine:57,A:65,F:70,a:97,f:102};function Co(e){if(e>=ot.zero&&e<=ot.nine)return e-ot.zero;if(e>=ot.A&&e<=ot.F)return e-(ot.A-10);if(e>=ot.a&&e<=ot.f)return e-(ot.a-10)}function _f(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Gf({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function Ei(e,t){if(Er(e)>t)throw new Lf({givenSize:Er(e),maxSize:t})}function Ka(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new jf({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Mf=new TextEncoder,zf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Za(e,t={}){const{strict:n=!1}=t;if(!e)throw new ko(e);if(typeof e!="string")throw new ko(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new Ro(e);if(!e.startsWith("0x"))throw new Ro(e)}Za.parseError=e=>e;function Pi(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}Pi.parseError=e=>e;function Ya(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ei(n,t.size),Bn(n,t.size)):n}Ya.parseError=e=>e;function Ai(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=zf[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ei(r,t.size),kr(r,t.size)):r}Ai.parseError=e=>e;function Ja(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const d=typeof e=="bigint"?"n":"";throw new Uf({max:i?`${i}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${e}${d}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Bn(c,r):c}Ja.parseError=e=>e;function Xa(e,t={}){return Ai(Mf.encode(e),t)}Xa.parseError=e=>e;function Bn(e,t){return Ka(e,{dir:"left",size:t})}Bn.parseError=e=>e;function kr(e,t){return Ka(e,{dir:"right",size:t})}kr.parseError=e=>e;function Er(e){return Math.ceil((e.length-2)/2)}Er.parseError=e=>e;function Qa(e,t={}){const{strict:n=!1}=t;try{return Za(e,{strict:n}),!0}catch{return!1}}Qa.parseError=e=>e;let Uf=class extends xe{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},ko=class extends xe{constructor(t){super(`Value \`${typeof t=="object"?vi(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},Ro=class extends xe{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},Lf=class extends xe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},jf=class extends xe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};const Df=new TextEncoder;function ec(e){if(!(e instanceof Uint8Array)){if(!e)throw new hr(e);if(typeof e!="object")throw new hr(e);if(!("BYTES_PER_ELEMENT"in e))throw new hr(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new hr(e)}}ec.parseError=e=>e;function tc(e){return e instanceof Uint8Array?e:typeof e=="string"?rc(e):nc(e)}tc.parseError=e=>e;function nc(e){return e instanceof Uint8Array?e:new Uint8Array(e)}nc.parseError=e=>e;function rc(e,t={}){const{size:n}=t;let r=e;n&&(Ei(e,n),r=kr(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const d=Co(s.charCodeAt(c++)),l=Co(s.charCodeAt(c++));if(d===void 0||l===void 0)throw new xe(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=d*16+l}return o}rc.parseError=e=>e;function sc(e,t={}){const{size:n}=t,r=Df.encode(e);return typeof n=="number"?(Nf(r,n),ic(r,n)):r}sc.parseError=e=>e;function ic(e,t){return _f(e,{dir:"right",size:t})}ic.parseError=e=>e;function Rs(e){return e.length}Rs.parseError=e=>e;function oc(e){try{return ec(e),!0}catch{return!1}}oc.parseError=e=>e;class hr extends xe{constructor(t){super(`Value \`${typeof t=="object"?vi(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}}let Hf=class extends xe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Gf=class extends xe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function Bi(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=xi(tc(e));return n==="Bytes"?r:Ai(r)}Bi.parseError=e=>e;let Vf=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const qf={checksum:new Vf(8192)},us=qf.checksum,Wf=/^0x[a-fA-F0-9]{40}$/;function Ii(e,t={}){const{strict:n=!0}=t;if(!Wf.test(e))throw new Fo({address:e,cause:new Kf});if(n){if(e.toLowerCase()===e)return;if(ac(e)!==e)throw new Fo({address:e,cause:new Zf})}}Ii.parseError=e=>e;function ac(e){if(us.has(e))return us.get(e);Ii(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Bi(sc(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return us.set(e,s),s}ac.parseError=e=>e;let Fo=class extends xe{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},Kf=class extends xe{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},Zf=class extends xe{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};const Yf=/^(.*)\[([0-9]*)\]$/,Jf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function In(e,t){if(e.length!==t.length)throw new ed({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(In.encode(s,i))}return Pi(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return Ii(c),Bn(c.toLowerCase(),s?32:0)}if(n==="string")return Xa(r);if(n==="bytes")return r;if(n==="bool")return Bn(Ya(r),s?32:1);const i=n.match(Xf);if(i){const[c,d,l="256"]=i,h=Number.parseInt(l)/8;return Ja(r,{size:s?32:h,signed:d==="int"})}const o=n.match(Jf);if(o){const[c,d]=o;if(Number.parseInt(d)!==(r.length-2)/2)throw new Qf({expectedSize:Number.parseInt(d),value:r});return kr(r,s?32:0)}const a=n.match(Yf);if(a&&Array.isArray(r)){const[c,d]=a,l=[];for(let h=0;h<r.length;h++)l.push(t(d,r[h],!0));return l.length===0?"0x":Pi(...l)}throw new td(n)}e.encode=t})(In||(In={}));In.parseError=e=>e;let Qf=class extends xe{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Er(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},ed=class extends xe{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},td=class extends xe{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}};class cc extends gi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,rf(t);const r=Cr(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),sn(i)}update(t){return rn(this),this.iHash.update(t),this}digestInto(t){rn(this),Rt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uc=(e,t,n)=>new cc(e,t).update(n).digest();uc.create=(e,t)=>new cc(e,t);function nd(e){return oc(e)||Qa(e)?$i(e):sd(e)}function rd(e){const[t,n]=e.reduce(([r,s],[i,o])=>(r.push(i),s.push(o),[r,s]),[[],[]]);return $i(In(t,n))}function sd(e){const t=Sr.Buffer.from(e);return $i(t)}function $i(e){const t=BigInt(Bi(e,{as:"Hex"}))>>8n,n=t.toString(16);return{hash:t,digest:`0x${n.padStart(64,"0")}`}}var fc=e=>!e||typeof e=="string"?nd(e??""):rd(e.types.map((t,n)=>[t,e.values[n]])),dc=e=>e?typeof e=="string"?e:e.types.map((t,n)=>`${t}(${e.values[n]})`).join(","):"";const id={},Oo=e=>{let t;const n=new Set,r=(l,h)=>{const b=typeof l=="function"?l(t):l;if(!Object.is(b,t)){const m=t;t=h??(typeof b!="object"||b===null)?b:Object.assign({},t,b),n.forEach(g=>g(t,m))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:l=>(n.add(l),()=>n.delete(l)),destroy:()=>{(id?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,c);return c},od=e=>e?Oo(e):Oo;var lc={exports:{}},K={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.transitional.element"),ad=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),ud=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),dd=Symbol.for("react.consumer"),ld=Symbol.for("react.context"),hd=Symbol.for("react.forward_ref"),pd=Symbol.for("react.suspense"),bd=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),md=Symbol.for("react.activity"),No=Symbol.iterator;function yd(e){return e===null||typeof e!="object"?null:(e=No&&e[No]||e["@@iterator"],typeof e=="function"?e:null)}var pc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bc=Object.assign,mc={};function fn(e,t,n){this.props=e,this.context=t,this.refs=mc,this.updater=n||pc}fn.prototype.isReactComponent={};fn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yc(){}yc.prototype=fn.prototype;function Ti(e,t,n){this.props=e,this.context=t,this.refs=mc,this.updater=n||pc}var Ci=Ti.prototype=new yc;Ci.constructor=Ti;bc(Ci,fn.prototype);Ci.isPureReactComponent=!0;var _o=Array.isArray;function Fs(){}var ee={H:null,A:null,T:null,S:null},gc=Object.prototype.hasOwnProperty;function ki(e,t,n){var r=n.ref;return{$$typeof:Si,type:e,key:t,ref:r!==void 0?r:null,props:n}}function gd(e,t){return ki(e.type,t,e.props)}function Ri(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function wd(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Mo=/\/+/g;function fs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wd(""+e.key):t.toString(36)}function xd(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Fs,Fs):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function qt(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Si:case ad:o=!0;break;case hc:return o=e._init,qt(o(e._payload),t,n,r,s)}}if(o)return s=s(e),o=r===""?"."+fs(e,0):r,_o(s)?(n="",o!=null&&(n=o.replace(Mo,"$&/")+"/"),qt(s,t,n,"",function(d){return d})):s!=null&&(Ri(s)&&(s=gd(s,n+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Mo,"$&/")+"/")+o)),t.push(s)),1;o=0;var a=r===""?".":r+":";if(_o(e))for(var c=0;c<e.length;c++)r=e[c],i=a+fs(r,c),o+=qt(r,t,n,i,s);else if(c=yd(e),typeof c=="function")for(e=c.call(e),c=0;!(r=e.next()).done;)r=r.value,i=a+fs(r,c++),o+=qt(r,t,n,i,s);else if(i==="object"){if(typeof e.then=="function")return qt(xd(e),t,n,r,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function pr(e,t,n){if(e==null)return e;var r=[],s=0;return qt(e,r,"","",function(i){return t.call(n,i,s++)}),r}function vd(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ed={map:pr,forEach:function(e,t,n){pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pr(e,function(){t++}),t},toArray:function(e){return pr(e,function(t){return t})||[]},only:function(e){if(!Ri(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Activity=md;K.Children=Ed;K.Component=fn;K.Fragment=cd;K.Profiler=fd;K.PureComponent=Ti;K.StrictMode=ud;K.Suspense=pd;K.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee;K.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ee.H.useMemoCache(e)}};K.cache=function(e){return function(){return e.apply(null,arguments)}};K.cacheSignal=function(){return null};K.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=bc({},e.props),s=e.key;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)!gc.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(r[i]=t[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var o=Array(i),a=0;a<i;a++)o[a]=arguments[a+2];r.children=o}return ki(e.type,s,r)};K.createContext=function(e){return e={$$typeof:ld,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:dd,_context:e},e};K.createElement=function(e,t,n){var r,s={},i=null;if(t!=null)for(r in t.key!==void 0&&(i=""+t.key),t)gc.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var a=Array(o),c=0;c<o;c++)a[c]=arguments[c+2];s.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return ki(e,i,s)};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:hd,render:e}};K.isValidElement=Ri;K.lazy=function(e){return{$$typeof:hc,_payload:{_status:-1,_result:e},_init:vd}};K.memo=function(e,t){return{$$typeof:bd,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ee.T,n={};ee.T=n;try{var r=e(),s=ee.S;s!==null&&s(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Fs,zo)}catch(i){zo(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),ee.T=t}};K.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()};K.use=function(e){return ee.H.use(e)};K.useActionState=function(e,t,n){return ee.H.useActionState(e,t,n)};K.useCallback=function(e,t){return ee.H.useCallback(e,t)};K.useContext=function(e){return ee.H.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e,t){return ee.H.useDeferredValue(e,t)};K.useEffect=function(e,t){return ee.H.useEffect(e,t)};K.useEffectEvent=function(e){return ee.H.useEffectEvent(e)};K.useId=function(){return ee.H.useId()};K.useImperativeHandle=function(e,t,n){return ee.H.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return ee.H.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return ee.H.useLayoutEffect(e,t)};K.useMemo=function(e,t){return ee.H.useMemo(e,t)};K.useOptimistic=function(e,t){return ee.H.useOptimistic(e,t)};K.useReducer=function(e,t,n){return ee.H.useReducer(e,t,n)};K.useRef=function(e){return ee.H.useRef(e)};K.useState=function(e){return ee.H.useState(e)};K.useSyncExternalStore=function(e,t,n){return ee.H.useSyncExternalStore(e,t,n)};K.useTransition=function(){return ee.H.useTransition()};K.version="19.2.0";lc.exports=K;var Fi=lc.exports;const Pd=za(Fi);var wc={exports:{}},xc={},vc={exports:{}},Ec={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=Fi;function Ad(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bd=typeof Object.is=="function"?Object.is:Ad,Id=on.useState,$d=on.useEffect,Sd=on.useLayoutEffect,Td=on.useDebugValue;function Cd(e,t){var n=t(),r=Id({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Sd(function(){s.value=n,s.getSnapshot=t,ds(s)&&i({inst:s})},[e,n,t]),$d(function(){return ds(s)&&i({inst:s}),e(function(){ds(s)&&i({inst:s})})},[e]),Td(n),n}function ds(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bd(e,n)}catch{return!0}}function kd(e,t){return t()}var Rd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kd:Cd;Ec.useSyncExternalStore=on.useSyncExternalStore!==void 0?on.useSyncExternalStore:Rd;vc.exports=Ec;var Fd=vc.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=Fi,Od=Fd;function Nd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _d=typeof Object.is=="function"?Object.is:Nd,Md=Od.useSyncExternalStore,zd=Rr.useRef,Ud=Rr.useEffect,Ld=Rr.useMemo,jd=Rr.useDebugValue;xc.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=zd(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Ld(function(){function c(m){if(!d){if(d=!0,l=m,m=r(m),s!==void 0&&o.hasValue){var g=o.value;if(s(g,m))return h=g}return h=m}if(g=h,_d(l,m))return g;var w=r(m);return s!==void 0&&s(g,w)?(l=m,g):(l=m,h=w)}var d=!1,l,h,b=n===void 0?null:n;return[function(){return c(t())},b===null?void 0:function(){return c(b())}]},[t,n,r,s]);var a=Md(e,i[0],i[1]);return Ud(function(){o.hasValue=!0,o.value=a},[a]),jd(a),a};wc.exports=xc;var Dd=wc.exports;const Hd=za(Dd),Pc={},{useDebugValue:Gd}=Pd,{useSyncExternalStoreWithSelector:Vd}=Hd;let Uo=!1;const qd=e=>e;function Wd(e,t=qd,n){(Pc?"production":void 0)!=="production"&&n&&!Uo&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Uo=!0);const r=Vd(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Gd(r),r}const Lo=e=>{(Pc?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?od(e):e,n=(r,s)=>Wd(t,r,s);return Object.assign(n,t),n},Kd=e=>e?Lo(e):Lo;var Zd=typeof window<"u"&&typeof window.document<"u";typeof process<"u"&&process.versions!=null&&process.versions.node!=null;typeof window<"u"&&window.name==="nodejs"||typeof navigator<"u"&&"userAgent"in navigator&&typeof navigator.userAgent=="string"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));typeof Deno<"u"&&typeof Deno.version<"u"&&typeof Deno.version.deno<"u";var Re=(e=>(e.ConnectionFailed="connection_failed",e.VerificationRejected="verification_rejected",e.MaxVerificationsReached="max_verifications_reached",e.CredentialUnavailable="credential_unavailable",e.MalformedRequest="malformed_request",e.InvalidNetwork="invalid_network",e.InclusionProofFailed="inclusion_proof_failed",e.InclusionProofPending="inclusion_proof_pending",e.UnexpectedResponse="unexpected_response",e.FailedByHostApp="failed_by_host_app",e.GenericError="generic_error",e))(Re||{}),er=(e=>(e.Orb="orb",e.SecureDocument="secure_document",e.Document="document",e.Device="device",e))(er||{});function Yd(e,t){try{new URL(e)}catch{return{valid:!1,errors:["Failed to parse Bridge URL."]}}const n=new URL(e),r=[];return t&&["localhost","127.0.0.1"].includes(n.hostname)?(console.log("Using staging app_id with localhost bridge_url. Skipping validation."),{valid:!0}):(n.protocol!=="https:"&&r.push("Bridge URL must use HTTPS."),n.port&&r.push("Bridge URL must use the default port (443)."),n.pathname!=="/"&&r.push("Bridge URL must not have a path."),n.search&&r.push("Bridge URL must not have query parameters."),n.hash&&r.push("Bridge URL must not have a fragment."),!n.hostname.endsWith(".worldcoin.org")&&!n.hostname.endsWith(".toolsforhumanity.com")&&console.warn("Bridge URL should be a subdomain of worldcoin.org or toolsforhumanity.com. The user's identity wallet may refuse to connect. This is a temporary measure and may be removed in the future."),r.length?{valid:!1,errors:r}:{valid:!0})}var Jd=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Xd=()=>Zd,Qd=()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw new Error("Unable to locate global object")},br=()=>{const e=Qd();if(typeof e.crypto<"u")return e.crypto;throw new Error("Crypto API not available. For React Native, ensure polyfills are set up properly.")},jo="orb",Xt=e=>Sr.Buffer.from(e).toString("base64"),Oi=e=>Sr.Buffer.from(e,"base64"),el=e=>{switch(e){case"device":return["orb","device"];case"document":return["document","secure_document","orb"];case"secure_document":return["secure_document","orb"];case"orb":return["orb"];default:throw new Error(`Unknown verification level: ${e}`)}},tl=e=>{switch(e){case"orb":return"orb";case"secure_document":return"secure_document";case"document":return"document";case"device":return"device";default:throw new Error(`Unknown credential_type: ${e}`)}},nl=class{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}async generateKey(){return{iv:window.crypto.getRandomValues(new Uint8Array(12)),key:await window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}}async exportKey(e){return Xt(await window.crypto.subtle.exportKey("raw",e))}async encryptRequest(e,t,n){return{iv:Xt(t),payload:Xt(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,this.encoder.encode(n)))}}async decryptResponse(e,t,n){return this.decoder.decode(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,Oi(n)))}},rl=class{constructor(){this.encoder=new TextEncoder,this.decoder=new TextDecoder}async generateKey(){const e=br();return{iv:e.getRandomValues(new Uint8Array(12)),key:await e.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}}async exportKey(e){const t=br();return Xt(await t.subtle.exportKey("raw",e))}async encryptRequest(e,t,n){const r=br();return{iv:Xt(t),payload:Xt(await r.subtle.encrypt({name:"AES-GCM",iv:t},e,this.encoder.encode(n)))}}async decryptResponse(e,t,n){const r=br();return this.decoder.decode(await r.subtle.decrypt({name:"AES-GCM",iv:t},e,Oi(n)))}},Gt=null,Fr=()=>{if(Gt)return Gt;if(Xd())return Gt=new nl,Gt;if(Jd())return Gt=new rl,Gt;throw new Error("Unsupported platform")},sl=async()=>Fr().generateKey(),il=async e=>Fr().exportKey(e),ol=async(e,t,n)=>Fr().encryptRequest(e,t,n),al=async(e,t,n)=>Fr().decryptResponse(e,t,n),mr="https://bridge.worldcoin.org",cl=(e,t)=>({iv:null,key:null,result:null,errorCode:null,requestId:null,connectorURI:null,bridge_url:mr,verificationState:"loading_widget",createClient:async({bridge_url:n,app_id:r,verification_level:s,action_description:i,action:o,signal:a,partner:c})=>{const{key:d,iv:l}=await sl();if(n){const m=Yd(n,r.includes("staging"));if(!m.valid)throw console.error(m.errors.join(`
`)),e({verificationState:"failed"}),new Error("Invalid bridge_url. Please check the console for more details.")}const h=await fetch(new URL("/request",n??mr),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(await ol(d,l,JSON.stringify({app_id:r,action_description:i,action:dc(o),signal:fc(a).digest,credential_types:el(s??jo),verification_level:s??jo})))});if(!h.ok)throw e({verificationState:"failed"}),new Error("Failed to create client");const{request_id:b}=await h.json();e({iv:l,key:d,requestId:b,bridge_url:n??mr,verificationState:"awaiting_connection",connectorURI:`https://world.org/verify?t=wld&i=${b}&k=${encodeURIComponent(await il(d))}${n&&n!==mr?`&b=${encodeURIComponent(n)}`:""}${c?`&partner=${encodeURIComponent(!0)}`:""}`})},pollForUpdates:async()=>{const n=t().key;if(!n)throw new Error("No keypair found. Please call `createClient` first.");const r=await fetch(new URL(`/response/${t().requestId}`,t().bridge_url));if(!r.ok)return e({errorCode:"connection_failed",verificationState:"failed"});const{response:s,status:i}=await r.json();if(i!="completed")return e({verificationState:i=="retrieved"?"awaiting_app":"awaiting_connection"});let o=JSON.parse(await al(n,Oi(s.iv),s.payload));if("error_code"in o)return e({errorCode:o.error_code,verificationState:"failed"});"credential_type"in o&&(o={verification_level:tl(o.credential_type),...o}),e({result:o,key:null,requestId:null,connectorURI:null,verificationState:"confirmed"})},reset:()=>{e({iv:null,key:null,result:null,errorCode:null,requestId:null,connectorURI:null,verificationState:"loading_widget"})}});Kd(cl);const ul="1.1.0";let Ae=class Os extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Os?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Os&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${ul}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function yt(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Ac=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Bc=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ic=/^\(.+?\).*?$/,Do=/^tuple(?<array>(\[(\d*)\])*)$/;function Ns(e){let t=e.type;if(Do.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Ns(i),s<n-1&&(t+=", ")}const r=yt(Do,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Ns({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function Wt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Ns(s),r!==n-1&&(t+=", ")}return t}function Pr(e){var t;return e.type==="function"?`function ${e.name}(${Wt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${Wt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${Wt(e.inputs)})`:e.type==="error"?`error ${e.name}(${Wt(e.inputs)})`:e.type==="constructor"?`constructor(${Wt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const $c=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function fl(e){return $c.test(e)}function dl(e){return yt($c,e)}const Sc=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ll(e){return Sc.test(e)}function hl(e){return yt(Sc,e)}const Tc=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function pl(e){return Tc.test(e)}function bl(e){return yt(Tc,e)}const Cc=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Or(e){return Cc.test(e)}function ml(e){return yt(Cc,e)}const kc=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function yl(e){return kc.test(e)}function gl(e){return yt(kc,e)}const Rc=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function wl(e){return Rc.test(e)}function xl(e){return yt(Rc,e)}const vl=/^receive\(\) external payable$/;function El(e){return vl.test(e)}const Ho=new Set(["memory","indexed","storage","calldata"]),Pl=new Set(["indexed"]),_s=new Set(["calldata","memory","storage"]);class Al extends Ae{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Bl extends Ae{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Il extends Ae{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class $l extends Ae{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Sl extends Ae{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Tl extends Ae{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Cl extends Ae{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class kl extends Ae{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Rl extends Ae{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class dn extends Ae{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Fl extends Ae{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Ol extends Ae{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Nl extends Ae{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class _l extends Ae{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Ml(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const ls=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Ms(e,t={}){if(pl(e))return zl(e,t);if(ll(e))return Ul(e,t);if(fl(e))return Ll(e,t);if(yl(e))return jl(e,t);if(wl(e))return Dl(e);if(El(e))return{type:"receive",stateMutability:"payable"};throw new Fl({signature:e})}function zl(e,t={}){const n=bl(e);if(!n)throw new dn({signature:e,type:"function"});const r=Ie(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(bt(r[a],{modifiers:_s,structs:t,type:"function"}));const o=[];if(n.returns){const a=Ie(n.returns),c=a.length;for(let d=0;d<c;d++)o.push(bt(a[d],{modifiers:_s,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function Ul(e,t={}){const n=hl(e);if(!n)throw new dn({signature:e,type:"event"});const r=Ie(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(bt(r[o],{modifiers:Pl,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function Ll(e,t={}){const n=dl(e);if(!n)throw new dn({signature:e,type:"error"});const r=Ie(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(bt(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function jl(e,t={}){const n=gl(e);if(!n)throw new dn({signature:e,type:"constructor"});const r=Ie(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(bt(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function Dl(e){const t=xl(e);if(!t)throw new dn({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const Hl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Gl=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Vl=/^u?int$/;function bt(e,t){var h,b;const n=Ml(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(ls.has(n))return ls.get(n);const r=Ic.test(e),s=yt(r?Gl:Hl,e);if(!s)throw new Sl({param:e});if(s.name&&Wl(s.name))throw new Tl({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,d={};if(r){c="tuple";const m=Ie(s.type),g=[],w=m.length;for(let I=0;I<w;I++)g.push(bt(m[I],{structs:a}));d={components:g}}else if(s.type in a)c="tuple",d={components:a[s.type]};else if(Vl.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!Fc(c))throw new Il({type:c});if(s.modifier){if(!((b=(h=t==null?void 0:t.modifiers)==null?void 0:h.has)!=null&&b.call(h,s.modifier)))throw new Cl({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(_s.has(s.modifier)&&!Kl(c,!!s.array))throw new kl({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...i,...o,...d};return ls.set(n,l),l}function Ie(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Ie(a,[...t,n.trim()]):Ie(a,t,`${n}${o}`,r);case"(":return Ie(a,t,`${n}${o}`,r+1);case")":return Ie(a,t,`${n}${o}`,r-1);default:return Ie(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new _l({current:n,depth:r});return t.push(n.trim()),t}function Fc(e){return e==="address"||e==="bool"||e==="function"||e==="string"||Ac.test(e)||Bc.test(e)}const ql=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Wl(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||Ac.test(e)||Bc.test(e)||ql.test(e)}function Kl(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Ni(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!Or(a))continue;const c=ml(a);if(!c)throw new dn({signature:a,type:"struct"});const d=c.properties.split(";"),l=[],h=d.length;for(let b=0;b<h;b++){const g=d[b].trim();if(!g)continue;const w=bt(g,{type:"struct"});l.push(w)}if(!l.length)throw new Ol({signature:a});t[c.name]=l}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=Oc(c,t)}return r}const Zl=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Oc(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(Ic.test(o.type))r.push(o);else{const c=yt(Zl,o.type);if(!(c!=null&&c.type))throw new Rl({abiParameter:o});const{array:d,type:l}=c;if(l in t){if(n.has(l))throw new Nl({type:l});r.push({...o,type:`tuple${d??""}`,components:Oc(t[l]??[],t,new Set([...n,l]))})}else if(Fc(l))r.push(o);else throw new Bl({type:l})}}return r}function Nc(e){const t=Ni(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];Or(i)||n.push(Ms(i,t))}return n}function Go(e){let t;if(typeof e=="string")t=Ms(e);else{const n=Ni(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!Or(i)){t=Ms(i,n);break}}}if(!t)throw new Al({signature:e});return t}function Vo(e){const t=[];if(typeof e=="string"){const n=Ie(e),r=n.length;for(let s=0;s<r;s++)t.push(bt(n[s],{modifiers:Ho}))}else{const n=Ni(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(Or(i))continue;const o=Ie(i),a=o.length;for(let c=0;c<a;c++)t.push(bt(o[c],{modifiers:Ho,structs:n}))}}if(t.length===0)throw new $l({params:e});return t}function W(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}function Le(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new ch(e.type);return`${e.name}(${Nr(e.inputs,{includeName:t})})`}function Nr(e,{includeName:t=!1}={}){return e?e.map(n=>Yl(n,{includeName:t})).join(t?", ":","):""}function Yl(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Nr(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function tt(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ne(e){return tt(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const _c="2.39.0";let gn={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${_c}`},S=class zs extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof zs?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof zs&&n.cause.docsPath||n.docsPath,i=(a=gn.getDocsUrl)==null?void 0:a.call(gn,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...gn.version?[`Version: ${gn.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=_c}walk(t){return Mc(this,t)}};function Mc(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Mc(e.cause,t):t?null:e}class Jl extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class qo extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class zc extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Nr(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class tr extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Xl extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ql extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ne(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class eh extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class th extends S{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Wo extends S{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Uc extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class nh extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class Lc extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class Ko extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class an extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class jc extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class rh extends S{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class sh extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Le(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Le(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let ih=class extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class $n extends S{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Nr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class _r extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Le(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class oh extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class ah extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Dc=class extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class ch extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class uh extends S{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Hc=class extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},Gc=class extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class Zo extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function ln(e,{dir:t,size:n=32}={}){return typeof e=="string"?Pt(e,{dir:t,size:n}):fh(e,{dir:t,size:n})}function Pt(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Gc({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function fh(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Gc({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let Vc=class extends S{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},dh=class extends S{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class lh extends S{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let hh=class extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function ze(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ge(e,{size:t}){if(ne(e)>t)throw new hh({givenSize:ne(e),maxSize:t})}function ye(e,t={}){const{signed:n}=t;t.size&&Ge(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ph(e,t={}){let n=e;if(t.size&&(Ge(n,{size:t.size}),n=ze(n)),ze(n)==="0x00")return!1;if(ze(n)==="0x01")return!0;throw new lh(n)}function nt(e,t={}){return Number(ye(e,t))}const bh=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function $e(e,t={}){return typeof e=="number"||typeof e=="bigint"?_(e,t):typeof e=="string"?Sn(e,t):typeof e=="boolean"?qc(e,t):oe(e,t)}function qc(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ge(n,{size:t.size}),ln(n,{size:t.size})):n}function oe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=bh[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ge(r,{size:t.size}),ln(r,{dir:"right",size:t.size})):r}function _(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new Vc({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ln(a,{size:r}):a}const mh=new TextEncoder;function Sn(e,t={}){const n=mh.encode(e);return oe(n,t)}const yh=new TextEncoder;function hn(e,t={}){return typeof e=="number"||typeof e=="bigint"?wh(e,t):typeof e=="boolean"?gh(e,t):tt(e)?rt(e,t):Ct(e,t)}function gh(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ge(n,{size:t.size}),ln(n,{size:t.size})):n}const at={zero:48,nine:57,A:65,F:70,a:97,f:102};function Yo(e){if(e>=at.zero&&e<=at.nine)return e-at.zero;if(e>=at.A&&e<=at.F)return e-(at.A-10);if(e>=at.a&&e<=at.f)return e-(at.a-10)}function rt(e,t={}){let n=e;t.size&&(Ge(n,{size:t.size}),n=ln(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=Yo(r.charCodeAt(a++)),d=Yo(r.charCodeAt(a++));if(c===void 0||d===void 0)throw new S(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+d}return i}function wh(e,t){const n=_(e,t);return rt(n)}function Ct(e,t={}){const n=yh.encode(e);return typeof t.size=="number"?(Ge(n,{size:t.size}),ln(n,{dir:"right",size:t.size})):n}function pe(e,t){const n=t||"hex",r=xi(tt(e,{strict:!1})?hn(e):e);return n==="bytes"?r:$e(r)}const xh=e=>pe(hn(e));function vh(e){return xh(e)}function Eh(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new S("Unable to normalize signature.");return s}const Ph=e=>{const t=typeof e=="string"?e:Pr(e);return Eh(t)};function Wc(e){return vh(Ph(e))}const Mr=Wc;let we=class extends S{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},_i=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const hs=new _i(8192);function zr(e,t){if(hs.has(`${e}.${t}`))return hs.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=pe(Ct(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return hs.set(`${e}.${t}`,i),i}function Kc(e,t){if(!ce(e,{strict:!1}))throw new we({address:e});return zr(e,t)}const Ah=/^0x[a-fA-F0-9]{40}$/,ps=new _i(8192);function ce(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(ps.has(r))return ps.get(r);const s=Ah.test(e)?e.toLowerCase()===e?!0:n?zr(e)===e:!0:!1;return ps.set(r,s),s}function st(e){return typeof e[0]=="string"?Ve(e):Bh(e)}function Bh(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ve(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Ft(e,t,n,{strict:r}={}){return tt(e,{strict:!1})?Ih(e,t,n,{strict:r}):Jc(e,t,n,{strict:r})}function Zc(e,t){if(typeof t=="number"&&t>0&&t>ne(e)-1)throw new Hc({offset:t,position:"start",size:ne(e)})}function Yc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ne(e)!==n-t)throw new Hc({offset:n,position:"end",size:ne(e)})}function Jc(e,t,n,{strict:r}={}){Zc(e,t);const s=e.slice(t,n);return r&&Yc(s,t,n),s}function Ih(e,t,n,{strict:r}={}){Zc(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Yc(s,t,n),s}const $h=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Xc=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function It(e,t){if(e.length!==t.length)throw new eh({expectedLength:e.length,givenLength:t.length});const n=Sh({params:e,values:t}),r=zi(n);return r.length===0?"0x":r}function Sh({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Mi({param:e[r],value:t[r]}));return n}function Mi({param:e,value:t}){const n=Ui(e.type);if(n){const[r,s]=n;return Ch(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Nh(t,{param:e});if(e.type==="address")return Th(t);if(e.type==="bool")return Rh(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=Xc.exec(e.type)??[];return Fh(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return kh(t,{param:e});if(e.type==="string")return Oh(t);throw new oh(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function zi(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=ne(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(_(t+s,{size:32})),r.push(a),s+=ne(a)):n.push(a)}return st([...n,...r])}function Th(e){if(!ce(e))throw new we({address:e});return{dynamic:!1,encoded:Pt(e.toLowerCase())}}function Ch(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Dc(e);if(!r&&e.length!==t)throw new Xl({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=Mi({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=zi(i);if(r){const a=_(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?st([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:st(i.map(({encoded:o})=>o))}}function kh(e,{param:t}){const[,n]=t.type.split("bytes"),r=ne(e);if(!n){let s=e;return r%32!==0&&(s=Pt(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:st([Pt(_(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Ql({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Pt(e,{dir:"right"})}}function Rh(e){if(typeof e!="boolean")throw new S(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Pt(qc(e))}}function Fh(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Vc({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:_(e,{size:32,signed:t})}}function Oh(e){const t=Sn(e),n=Math.ceil(ne(t)/32),r=[];for(let s=0;s<n;s++)r.push(Pt(Ft(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:st([Pt(_(ne(t),{size:32})),...r])}}function Nh(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=Mi({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?zi(r):st(r.map(({encoded:s})=>s))}}function Ui(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const nr=e=>Ft(Wc(e),0,4);function Lt(e){const{abi:t,args:n=[],name:r}=e,s=tt(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?nr(a)===r:a.type==="event"?Mr(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((d,l)=>{const h="inputs"in a&&a.inputs[l];return h?Us(d,h):!1})){if(o&&"inputs"in o&&o.inputs){const d=Qc(a.inputs,o.inputs,n);if(d)throw new sh({abiItem:a,type:d[0]},{abiItem:o,type:d[1]})}o=a}}return o||i[0]}function Us(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ce(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>Us(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Us(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Qc(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Qc(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ce(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ce(n[r],{strict:!1}):!1)return o}}const Jo="/docs/contract/encodeEventTopics";function rr(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const d=Lt({abi:t,name:n});if(!d)throw new Ko(n,{docsPath:Jo});s=d}if(s.type!=="event")throw new Ko(void 0,{docsPath:Jo});const i=Le(s),o=Mr(i);let a=[];if(r&&"inputs"in s){const d=(c=s.inputs)==null?void 0:c.filter(h=>"indexed"in h&&h.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(d==null?void 0:d.map(h=>r[h.name]))??[]:[];l.length>0&&(a=(d==null?void 0:d.map((h,b)=>Array.isArray(l[b])?l[b].map((m,g)=>Xo({param:h,value:l[b][g]})):typeof l[b]<"u"&&l[b]!==null?Xo({param:h,value:l[b]}):null))??[])}return[o,...a]}function Xo({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return pe(hn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new uh(e.type);return It([e],[t])}function Ur(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),i=>n[i]||e.request}async function eu(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,d=Ur(e,{method:"eth_newFilter"}),l=i?rr({abi:r,args:s,eventName:i}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?_(o):o,toBlock:typeof c=="bigint"?_(c):c,topics:l}]});return{abi:r,args:s,eventName:i,id:h,request:d(h),strict:!!a,type:"event"}}function qe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Qo="/docs/contract/encodeFunctionData";function _h(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Lt({abi:t,args:n,name:r});if(!i)throw new an(r,{docsPath:Qo});s=i}if(s.type!=="function")throw new an(void 0,{docsPath:Qo});return{abi:[s],functionName:nr(Le(s))}}function We(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:_h(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?It(s.inputs,t??[]):void 0;return Ve([i,o??"0x"])}const Mh={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},tu={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},zh={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let ea=class extends S{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},nu=class extends S{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Uh=class extends S{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const Lh={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Uh({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new nu({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ea({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ea({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Li(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Lh);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function jh(e,t={}){typeof t.size<"u"&&Ge(e,{size:t.size});const n=oe(e,t);return ye(n,t)}function Dh(e,t={}){let n=e;if(typeof t.size<"u"&&(Ge(n,{size:t.size}),n=ze(n)),n.length>1||n[0]>1)throw new dh(n);return!!n[0]}function ht(e,t={}){typeof t.size<"u"&&Ge(e,{size:t.size});const n=oe(e,t);return nt(n,t)}function Hh(e,t={}){let n=e;return typeof t.size<"u"&&(Ge(n,{size:t.size}),n=ze(n,{dir:"right"})),new TextDecoder().decode(n)}function pn(e,t){const n=typeof t=="string"?rt(t):t,r=Li(n);if(ne(n)===0&&e.length>0)throw new tr;if(ne(t)&&ne(t)<32)throw new zc({data:typeof t=="string"?t:oe(t),params:e,size:ne(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,d]=Qt(r,a,{staticPosition:0});s+=d,i.push(c)}return i}function Qt(e,t,{staticPosition:n}){const r=Ui(t.type);if(r){const[s,i]=r;return Vh(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return Zh(e,t,{staticPosition:n});if(t.type==="address")return Gh(e);if(t.type==="bool")return qh(e);if(t.type.startsWith("bytes"))return Wh(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Kh(e,t);if(t.type==="string")return Yh(e,{staticPosition:n});throw new ah(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const ta=32,Ls=32;function Gh(e){const t=e.readBytes(32);return[zr(oe(Jc(t,-20))),32]}function Vh(e,t,{length:n,staticPosition:r}){if(!n){const o=ht(e.readBytes(Ls)),a=r+o,c=a+ta;e.setPosition(a);const d=ht(e.readBytes(ta)),l=Tn(t);let h=0;const b=[];for(let m=0;m<d;++m){e.setPosition(c+(l?m*32:h));const[g,w]=Qt(e,t,{staticPosition:c});h+=w,b.push(g)}return e.setPosition(r+32),[b,32]}if(Tn(t)){const o=ht(e.readBytes(Ls)),a=r+o,c=[];for(let d=0;d<n;++d){e.setPosition(a+d*32);const[l]=Qt(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Qt(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function qh(e){return[Dh(e.readBytes(32),{size:32}),32]}function Wh(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=ht(e.readBytes(32));e.setPosition(n+o);const a=ht(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[oe(c),32]}return[oe(e.readBytes(Number.parseInt(s,10),32)),32]}function Kh(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?jh(s,{signed:n}):ht(s,{signed:n}),32]}function Zh(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(Tn(t)){const o=ht(e.readBytes(Ls)),a=n+o;for(let c=0;c<t.components.length;++c){const d=t.components[c];e.setPosition(a+i);const[l,h]=Qt(e,d,{staticPosition:a});i+=h,s[r?c:d==null?void 0:d.name]=l}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,d]=Qt(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=d}return[s,i]}function Yh(e,{staticPosition:t}){const n=ht(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ht(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=Hh(ze(i));return e.setPosition(t+32),[o,32]}function Tn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Tn);const n=Ui(e.type);return!!(n&&Tn({...e,type:n[1]}))}function Jh(e){const{abi:t,data:n}=e,r=Ft(n,0,4);if(r==="0x")throw new tr;const i=[...t||[],tu,zh].find(o=>o.type==="error"&&r===nr(Le(o)));if(!i)throw new Uc(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?pn(i.inputs,Ft(n,4)):void 0,errorName:i.name}}const be=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function ru({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?be(t[i]):t[i]}`).join(", ")})`}const Xh={gwei:9,wei:18},Qh={ether:-9,wei:9};function su(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function iu(e,t="wei"){return su(e,Xh[t])}function Ue(e,t="wei"){return su(e,Qh[t])}class ep extends S{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class tp extends S{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function na(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function np(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=na(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=na(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Lr(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class rp extends S{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class sp extends S{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class ip extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Lr(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class op extends S{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class ou extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class au extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class ap extends S{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class cp extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const up=e=>e,ji=e=>e;class cu extends S{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:l,to:h,value:b,stateOverride:m}){var I;const g=n?qe(n):void 0;let w=Lr({from:g==null?void 0:g.address,to:h,value:typeof b<"u"&&`${iu(b)} ${((I=s==null?void 0:s.nativeCurrency)==null?void 0:I.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Ue(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Ue(d)} gwei`,nonce:l});m&&(w+=`
${np(m)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class uu extends S{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Lt({abi:n,args:r,name:o}),d=c?ru({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?Le(c,{includeName:!0}):void 0,h=Lr({address:s&&up(s),function:l,args:d&&d!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],h&&"Contract Call:",h].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class js extends S{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=Jh({abi:t,data:n});const{abiItem:l,errorName:h,args:b}=o;if(h==="Error")c=b[0];else if(h==="Panic"){const[m]=b;c=Mh[m]}else{const m=l?Le(l,{includeName:!0}):void 0,g=l&&b?ru({abiItem:l,args:b,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:"",g&&g!=="()"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(l){i=l}else s&&(c=s);let d;i instanceof Uc&&(d=i.signature,a=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(c&&c!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,c||d].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=d}}class fp extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class dp extends S{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class jr extends S{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class En extends S{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${ji(o)}`,t&&`Request body: ${be(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class Di extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ji(r)}`,`Request body: ${be(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class ra extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ji(n)}`,`Request body: ${be(t)}`],name:"TimeoutError"})}}const lp=-1;class Be extends S{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof Di?t.code:n??lp}}class Te extends Be{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Cn extends Be{constructor(t){super(t,{code:Cn.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class kn extends Be{constructor(t){super(t,{code:kn.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Rn extends Be{constructor(t,{method:n}={}){super(t,{code:Rn.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Rn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Fn extends Be{constructor(t){super(t,{code:Fn.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Fn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ot extends Be{constructor(t){super(t,{code:Ot.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Nt extends Be{constructor(t){super(t,{code:Nt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class On extends Be{constructor(t){super(t,{code:On.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(On,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Nn extends Be{constructor(t){super(t,{code:Nn.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class _n extends Be{constructor(t){super(t,{code:_n.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(_n,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class St extends Be{constructor(t,{method:n}={}){super(t,{code:St.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class cn extends Be{constructor(t){super(t,{code:cn.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(cn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Mn extends Be{constructor(t){super(t,{code:Mn.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class en extends Te{constructor(t){super(t,{code:en.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(en,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zn extends Te{constructor(t){super(t,{code:zn.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Un extends Te{constructor(t,{method:n}={}){super(t,{code:Un.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Un,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Ln extends Te{constructor(t){super(t,{code:Ln.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Ln,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class jn extends Te{constructor(t){super(t,{code:jn.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(jn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Dn extends Te{constructor(t){super(t,{code:Dn.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Dn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Hn extends Te{constructor(t){super(t,{code:Hn.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Gn extends Te{constructor(t){super(t,{code:Gn.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Vn extends Te{constructor(t){super(t,{code:Vn.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class qn extends Te{constructor(t){super(t,{code:qn.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(qn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Wn extends Te{constructor(t){super(t,{code:Wn.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Kn extends Te{constructor(t){super(t,{code:Kn.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Zn extends Te{constructor(t){super(t,{code:Zn.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Zn,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class hp extends Be{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const pp=3;function un(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof jr?e:e instanceof S?e.walk(g=>"data"in g)||e.walk():{},{code:c,data:d,details:l,message:h,shortMessage:b}=a,m=e instanceof tr?new fp({functionName:i}):[pp,Ot.code].includes(c)&&(d||l||h||b)?new js({abi:t,data:typeof d=="object"?d.data:d,functionName:i,message:a instanceof Di?l:b??h}):e;return new uu(m,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function bp(e){const t=pe(`0x${e.substring(4)}`).substring(26);return zr(`0x${t}`)}const mp="modulepreload",yp=function(e){return"/"+e},sa={},fu=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=yp(c),c in sa)return;sa[c]=!0;const d=c.endsWith(".css"),l=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":mp,d||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),d)return new Promise((b,m)=>{h.addEventListener("load",b),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};async function gp({hash:e,signature:t}){const n=tt(e)?e:$e(e),{secp256k1:r}=await fu(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Jm);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:d,s:l,v:h,yParity:b}=t,m=Number(b??h),g=ia(m);return new r.Signature(ye(d),ye(l)).addRecoveryBit(g)}const o=tt(t)?t:$e(t);if(ne(o)!==65)throw new Error("invalid signature length");const a=nt(`0x${o.slice(130)}`),c=ia(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function ia(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function du({hash:e,signature:t}){return bp(await gp({hash:e,signature:t}))}function At(e,t="hex"){const n=lu(e),r=Li(new Uint8Array(n.length));return n.encode(r),t==="hex"?oe(r.bytes):r.bytes}function lu(e){return Array.isArray(e)?wp(e.map(t=>lu(t))):xp(e)}function wp(e){const t=e.reduce((s,i)=>s+i.length,0),n=hu(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function xp(e){const t=typeof e=="string"?rt(e):e,n=hu(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function hu(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new S("Length is too large.")}function vp(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=pe(Ve(["0x05",At([t?_(t):"0x",s,n?_(n):"0x"])]));return r==="bytes"?rt(i):i}async function pu(e){const{authorization:t,signature:n}=e;return du({hash:vp(t),signature:n??t})}class Ep extends S{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:d,nonce:l,to:h,value:b}){var g;const m=Lr({from:n==null?void 0:n.address,to:h,value:typeof b<"u"&&`${iu(b)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Ue(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Ue(c)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${Ue(d)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Zt extends S{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(Zt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Zt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class _t extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ue(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(_t,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Ds extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Ue(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Hs extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Gs extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Gs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Vs extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Vs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class qs extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(qs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Ws extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Ws,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ks extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ks,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Zs extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Zs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Yn extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Ue(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Ue(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Dr extends S{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Hi(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof S?e.walk(s=>(s==null?void 0:s.code)===Zt.code):e;return r instanceof S?new Zt({cause:e,message:r.details}):Zt.nodeMessage.test(n)?new Zt({cause:e,message:e.details}):_t.nodeMessage.test(n)?new _t({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ds.nodeMessage.test(n)?new Ds({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Hs.nodeMessage.test(n)?new Hs({cause:e,nonce:t==null?void 0:t.nonce}):Gs.nodeMessage.test(n)?new Gs({cause:e,nonce:t==null?void 0:t.nonce}):Vs.nodeMessage.test(n)?new Vs({cause:e,nonce:t==null?void 0:t.nonce}):qs.nodeMessage.test(n)?new qs({cause:e}):Ws.nodeMessage.test(n)?new Ws({cause:e,gas:t==null?void 0:t.gas}):Ks.nodeMessage.test(n)?new Ks({cause:e,gas:t==null?void 0:t.gas}):Zs.nodeMessage.test(n)?new Zs({cause:e}):Yn.nodeMessage.test(n)?new Yn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Dr({cause:e})}function Pp(e,{docsPath:t,...n}){const r=(()=>{const s=Hi(e,n);return s instanceof Dr?e:s})();return new Ep(r,{docsPath:t,...n})}function Gi(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function Vi(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const o=t(s,i);if(n)for(const a of n)delete o[a];return{...o,...r(s,i)}},type:e})}const Ap={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Hr(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Bp(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>oe(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=_(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=_(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=_(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=_(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=_(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=_(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Ap[e.type]),typeof e.value<"u"&&(n.value=_(e.value)),n}function Bp(e){return e.map(t=>({address:t.address,r:t.r?_(BigInt(t.r)):t.r,s:t.s?_(BigInt(t.s)):t.s,chainId:_(t.chainId),nonce:_(t.nonce),...typeof t.yParity<"u"?{yParity:_(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:_(t.v)}:{}}))}function oa(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new Zo({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new Zo({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Ip(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=_(t)),n!==void 0&&(o.nonce=_(n)),r!==void 0&&(o.state=oa(r)),s!==void 0){if(o.state)throw new tp;o.stateDiff=oa(s)}return o}function qi(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ce(n,{strict:!1}))throw new we({address:n});if(t[n])throw new ep({address:n});t[n]=Ip(r)}return t}const Gr=2n**256n-1n;function sr(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?qe(t):void 0;if(o&&!ce(o.address))throw new we({address:o.address});if(i&&!ce(i))throw new we({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new rp;if(r&&r>Gr)throw new _t({maxFeePerGas:r});if(s&&r&&s>r)throw new Yn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class $p extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Wi extends S{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Sp extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Ue(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class bu extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const mu={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Vr(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?nt(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?nt(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?mu[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=Cp(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const Tp=Vi("transaction",Vr);function Cp(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function Ki(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Vr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const kp=Vi("block",Ki);async function Qe(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var d,l,h;const i=s??!1,o=n!==void 0?_(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new bu({blockHash:t,blockNumber:n});return(((h=(l=(d=e.chain)==null?void 0:d.formatters)==null?void 0:l.block)==null?void 0:h.format)||Ki)(a,"getBlock")}async function Zi(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Rp(e,t){return yu(e,t)}async function yu(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const d=n||await W(e,Qe,"getBlock")({}),l=await a({block:d,client:e,request:s});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return ye(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):W(e,Qe,"getBlock")({}),W(e,Zi,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new Wi;const d=c-a.baseFeePerGas;return d<0n?0n:d}}async function Fp(e,t){return Ys(e,t)}async function Ys(e,t){var b,m;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var g,w;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)??1.2})();if(o<1)throw new $p;const c=10**(((b=o.toString().split(".")[1])==null?void 0:b.length)??0),d=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),l=n||await W(e,Qe,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:s,type:i});if(g!==null)return g}if(i==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new Wi;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await yu(e,{block:l,chain:r,request:s}),w=d(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??w+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??d(await W(e,Zi,"getGasPrice")({}))}}async function gu(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?_(r):n]},{dedupe:!!r});return nt(s)}function Yi(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>rt(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>oe(i))}function Ji(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>rt(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>rt(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>oe(o))}function Op(e,t){return Ff(tt(e,{strict:!1})?hn(e):e)}function Np(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=Op(t);return s.set([n],0),r==="bytes"?s:oe(s)}function wu(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(Np({commitment:i,to:r,version:n}));return s}const aa=6,xu=32,Xi=4096,vu=xu*Xi,ca=vu*aa-1-1*Xi*aa,Eu=1;class _p extends S{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Pu extends S{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Mp extends S{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class zp extends S{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${Eu}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Up(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?rt(e.data):e.data,r=ne(n);if(!r)throw new Pu;if(r>ca)throw new _p({maxSize:ca,size:r});const s=[];let i=!0,o=0;for(;i;){const a=Li(new Uint8Array(vu));let c=0;for(;c<Xi;){const d=n.slice(o,o+(xu-1));if(a.pushByte(0),a.pushBytes(d),d.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>oe(a.bytes))}function Au(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??Up({data:t,to:r}),i=e.commitments??Yi({blobs:s,kzg:n,to:r}),o=e.proofs??Ji({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function Bu(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new ip({transaction:e})}async function Iu(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return nt(t)}const Lp=["blobVersionedHashes","chainId","fees","gas","nonce","type"],ua=new Map;async function $u(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:d=Lp,type:l}=t,h=n&&qe(n),b={...t,...h?{from:h==null?void 0:h.address}:{}};let m;async function g(){return m||(m=await W(e,Qe,"getBlock")({blockTag:"latest"}),m)}let w;async function I(){return w||(s?s.id:typeof t.chainId<"u"?t.chainId:(w=await W(e,Iu,"getChainId")({}),w))}if(d.includes("nonce")&&typeof a>"u"&&h)if(c){const P=await I();b.nonce=await c.consume({address:h.address,chainId:P,client:e})}else b.nonce=await W(e,gu,"getTransactionCount")({address:h.address,blockTag:"pending"});if((d.includes("blobVersionedHashes")||d.includes("sidecars"))&&r&&o){const P=Yi({blobs:r,kzg:o});if(d.includes("blobVersionedHashes")){const T=wu({commitments:P,to:"hex"});b.blobVersionedHashes=T}if(d.includes("sidecars")){const T=Ji({blobs:r,commitments:P,kzg:o}),A=Au({blobs:r,commitments:P,proofs:T,to:"hex"});b.sidecars=A}}if(d.includes("chainId")&&(b.chainId=await I()),(d.includes("fees")||d.includes("type"))&&typeof l>"u")try{b.type=Bu(b)}catch{let P=ua.get(e.uid);if(typeof P>"u"){const T=await g();P=typeof(T==null?void 0:T.baseFeePerGas)=="bigint",ua.set(e.uid,P)}b.type=P?"eip1559":"legacy"}if(d.includes("fees"))if(b.type!=="legacy"&&b.type!=="eip2930"){if(typeof b.maxFeePerGas>"u"||typeof b.maxPriorityFeePerGas>"u"){const P=await g(),{maxFeePerGas:T,maxPriorityFeePerGas:A}=await Ys(e,{block:P,chain:s,request:b});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<A)throw new Sp({maxPriorityFeePerGas:A});b.maxPriorityFeePerGas=A,b.maxFeePerGas=T}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Wi;if(typeof t.gasPrice>"u"){const P=await g(),{gasPrice:T}=await Ys(e,{block:P,chain:s,request:b,type:"legacy"});b.gasPrice=T}}return d.includes("gas")&&typeof i>"u"&&(b.gas=await W(e,Qi,"estimateGas")({...b,account:h,prepare:(h==null?void 0:h.type)==="local"?[]:["blobVersionedHashes"]})),sr(b),delete b.parameters,b}async function Qi(e,t){var o,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?qe(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:d,authorizationList:l,blobs:h,blobVersionedHashes:b,blockNumber:m,blockTag:g,data:w,gas:I,gasPrice:P,maxFeePerBlobGas:T,maxFeePerGas:A,maxPriorityFeePerGas:v,nonce:B,value:k,stateOverride:C,...O}=r?await $u(e,{...t,parameters:i}):t,H=(typeof m=="bigint"?_(m):void 0)||g,M=qi(C),L=await(async()=>{if(O.to)return O.to;if(l&&l.length>0)return await pu({authorization:l[0]}).catch(()=>{throw new S("`to` is required. Could not infer from `authorizationList`")})})();sr(t);const z=(c=(a=(o=e.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,F=(z||Hr)({...Gi(O,{format:z}),account:s,accessList:d,authorizationList:l,blobs:h,blobVersionedHashes:b,data:w,gas:I,gasPrice:P,maxFeePerBlobGas:T,maxFeePerGas:A,maxPriorityFeePerGas:v,nonce:B,to:L,value:k},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:M?[F,H??e.experimental_blockTag??"latest",M]:H?[F,H]:[F]}))}catch(d){throw Pp(d,{...t,account:s,chain:e.chain})}}async function jp(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=We({abi:n,args:s,functionName:i});try{return await W(e,Qi,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(d){const l=a.account?qe(a.account):void 0;throw un(d,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:l==null?void 0:l.address})}}function qr(e,t){if(!ce(e,{strict:!1}))throw new we({address:e});if(!ce(t,{strict:!1}))throw new we({address:t});return e.toLowerCase()===t.toLowerCase()}const fa="/docs/contract/decodeEventLog";function eo(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new nh({docsPath:fa});const c=t.find(w=>w.type==="event"&&o===Mr(Le(w)));if(!(c&&"name"in c)||c.type!=="event")throw new Lc(o,{docsPath:fa});const{name:d,inputs:l}=c,h=l==null?void 0:l.some(w=>!("name"in w&&w.name)),b=h?[]:{},m=l.map((w,I)=>[w,I]).filter(([w])=>"indexed"in w&&w.indexed);for(let w=0;w<m.length;w++){const[I,P]=m[w],T=a[w];if(!T)throw new _r({abiItem:c,param:I});b[h?P:I.name||P]=Dp({param:I,value:T})}const g=l.filter(w=>!("indexed"in w&&w.indexed));if(g.length>0){if(n&&n!=="0x")try{const w=pn(g,n);if(w)if(h)for(let I=0;I<l.length;I++)b[I]=b[I]??w.shift();else for(let I=0;I<g.length;I++)b[g[I].name]=w[I]}catch(w){if(i)throw w instanceof zc||w instanceof nu?new $n({abiItem:c,data:n,params:g,size:ne(n)}):w}else if(i)throw new $n({abiItem:c,data:"0x",params:g,size:0})}return{eventName:d,args:Object.values(b).length>0?b:void 0}}function Dp({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(pn([e],t)||[])[0]}function to(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var a;try{const c=t.find(l=>l.type==="event"&&o.topics[0]===Mr(l));if(!c)return null;const d=eo({...o,abi:[c],strict:s});return i&&!i.includes(d.eventName)||!Hp({args:d.args,inputs:c.inputs,matchArgs:n})?null:{...d,...o}}catch(c){let d,l;if(c instanceof Lc)return null;if(c instanceof $n||c instanceof _r){if(s)return null;d=c.abiItem.name,l=(a=c.abiItem.inputs)==null?void 0:a.some(h=>!("name"in h&&h.name))}return{...o,args:l?[]:{},eventName:d}}}).filter(Boolean)}function Hp(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?qr(o,a):i.type==="string"||i.type==="bytes"?pe(hn(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(d=>s(a,d,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(d=>d.name===i);return a?(Array.isArray(o)?o:[o]).some(d=>s(a,d,t[i])):!1}):!1}function mt(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function no(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const d=c??!1,l=o??(i?[i]:void 0);let h=[];l&&(h=[l.flatMap(w=>rr({abi:[w],eventName:w.name,args:o?void 0:a}))],i&&(h=h[0]));let b;n?b=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,blockHash:n}]}):b=await e.request({method:"eth_getLogs",params:[{address:t,topics:h,fromBlock:typeof r=="bigint"?_(r):r,toBlock:typeof s=="bigint"?_(s):s}]});const m=b.map(g=>mt(g));return l?to({abi:l,args:a,logs:m,strict:d}):m}async function Su(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:d}=t,l=o?Lt({abi:n,name:o}):void 0,h=l?void 0:n.filter(b=>b.type==="event");return W(e,no,"getLogs")({address:r,args:s,blockHash:i,event:l,events:h,fromBlock:a,toBlock:c,strict:d})}const bs="/docs/contract/decodeFunctionResult";function jt(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Lt({abi:t,args:n,name:r});if(!a)throw new an(r,{docsPath:bs});i=a}if(i.type!=="function")throw new an(void 0,{docsPath:bs});if(!i.outputs)throw new jc(i.name,{docsPath:bs});const o=pn(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ro=BigInt(0),Js=BigInt(1);function ir(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function so(e){if(!ir(e))throw new Error("Uint8Array expected")}function Jn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function yr(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Tu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?ro:BigInt("0x"+e)}const Cu=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Gp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Xn(e){if(so(e),Cu)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Gp[e[n]];return t}const ct={_0:48,_9:57,A:65,F:70,a:97,f:102};function da(e){if(e>=ct._0&&e<=ct._9)return e-ct._0;if(e>=ct.A&&e<=ct.F)return e-(ct.A-10);if(e>=ct.a&&e<=ct.f)return e-(ct.a-10)}function Ar(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Cu)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=da(e.charCodeAt(i)),a=da(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function kt(e){return Tu(Xn(e))}function ku(e){return so(e),Tu(Xn(Uint8Array.from(e).reverse()))}function or(e,t){return Ar(e.toString(16).padStart(t*2,"0"))}function Ru(e,t){return or(e,t).reverse()}function Oe(e,t,n){let r;if(typeof t=="string")try{r=Ar(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(ir(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Br(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];so(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const ms=e=>typeof e=="bigint"&&ro<=e;function io(e,t,n){return ms(e)&&ms(t)&&ms(n)&&t<=e&&e<n}function tn(e,t,n,r){if(!io(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Vp(e){let t;for(t=0;e>ro;e>>=Js,t+=1);return t}const Wr=e=>(Js<<BigInt(e))-Js,ys=e=>new Uint8Array(e),la=e=>Uint8Array.from(e);function qp(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ys(e),s=ys(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...h)=>n(s,r,...h),c=(h=ys(0))=>{s=a(la([0]),h),r=a(),h.length!==0&&(s=a(la([1]),h),r=a())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const b=[];for(;h<t;){r=a();const m=r.slice();b.push(m),h+=r.length}return Br(...b)};return(h,b)=>{o(),c(h);let m;for(;!(m=b(d()));)c();return o(),m}}const Wp={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ir(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Kr(e,t,n={}){const r=(s,i,o)=>{const a=Wp[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function ha(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const Kp="0.1.1";function Zp(){return Kp}class Z extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof Z){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof Z&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Zp()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return Fu(this,t)}}function Fu(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Fu(e.cause,t):t?null:e}function ar(e,t){if(Yt(e)>t)throw new l1({givenSize:Yt(e),maxSize:t})}const ut={zero:48,nine:57,A:65,F:70,a:97,f:102};function pa(e){if(e>=ut.zero&&e<=ut.nine)return e-ut.zero;if(e>=ut.A&&e<=ut.F)return e-(ut.A-10);if(e>=ut.a&&e<=ut.f)return e-(ut.a-10)}function Yp(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new h1({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function Ou(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function Zr(e,t){if(Se(e)>t)throw new w1({givenSize:Se(e),maxSize:t})}function Jp(e,t){if(typeof t=="number"&&t>0&&t>Se(e)-1)throw new Hu({offset:t,position:"start",size:Se(e)})}function Xp(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Se(e)!==n-t)throw new Hu({offset:n,position:"end",size:Se(e)})}function Nu(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new x1({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Qp="#__bigint";function _u(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Qp:s,n)}const e1=new TextDecoder,t1=new TextEncoder;function n1(e){return e instanceof Uint8Array?e:typeof e=="string"?Mu(e):r1(e)}function r1(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Mu(e,t={}){const{size:n}=t;let r=e;n&&(Zr(e,n),r=zt(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const d=pa(s.charCodeAt(c++)),l=pa(s.charCodeAt(c++));if(d===void 0||l===void 0)throw new Z(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=d*16+l}return o}function s1(e,t={}){const{size:n}=t,r=t1.encode(e);return typeof n=="number"?(ar(r,n),i1(r,n)):r}function i1(e,t){return Yp(e,{dir:"right",size:t})}function Yt(e){return e.length}function o1(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function a1(e,t={}){const{size:n}=t;typeof n<"u"&&ar(e,n);const r=De(e,t);return Lu(r,t)}function c1(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(ar(r,n),r=zu(r)),r.length>1||r[0]>1)throw new d1(r);return!!r[0]}function pt(e,t={}){const{size:n}=t;typeof n<"u"&&ar(e,n);const r=De(e,t);return ju(r,t)}function u1(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(ar(r,n),r=f1(r)),e1.decode(r)}function zu(e){return Ou(e,{dir:"left"})}function f1(e){return Ou(e,{dir:"right"})}class d1 extends Z{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let l1=class extends Z{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},h1=class extends Z{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const p1=new TextEncoder,b1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function m1(e,t={}){const{strict:n=!1}=t;if(!e)throw new ba(e);if(typeof e!="string")throw new ba(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new ma(e);if(!e.startsWith("0x"))throw new ma(e)}function je(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function y1(e){return e instanceof Uint8Array?De(e):Array.isArray(e)?De(new Uint8Array(e)):e}function Uu(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Zr(n,t.size),Mt(n,t.size)):n}function De(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=b1[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Zr(r,t.size),zt(r,t.size)):r}function me(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const d=typeof e=="bigint"?"n":"";throw new Du({max:i?`${i}${d}`:void 0,min:`${o}${d}`,signed:n,size:r,value:`${e}${d}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Mt(c,r):c}function oo(e,t={}){return De(p1.encode(e),t)}function Mt(e,t){return Nu(e,{dir:"left",size:t})}function zt(e,t){return Nu(e,{dir:"right",size:t})}function et(e,t,n,r={}){const{strict:s}=r;Jp(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Xp(i,t,n),i}function Se(e){return Math.ceil((e.length-2)/2)}function Lu(e,t={}){const{signed:n}=t;t.size&&Zr(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function ju(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Lu(e,t))}function g1(e,t={}){const{strict:n=!1}=t;try{return m1(e,{strict:n}),!0}catch{return!1}}class Du extends Z{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class ba extends Z{constructor(t){super(`Value \`${typeof t=="object"?_u(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class ma extends Z{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class w1 extends Z{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Hu extends Z{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class x1 extends Z{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function v1(e){return{address:e.address,amount:me(e.amount),index:me(e.index),validatorIndex:me(e.validatorIndex)}}function Gu(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:me(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:me(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:me(e.gasLimit)},...typeof e.number=="bigint"&&{number:me(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:me(e.prevRandao)},...typeof e.time=="bigint"&&{time:me(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(v1)}}}const Ir=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Xs=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Vu=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],qu=[...Vu,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],E1=[...Vu,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],ya=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],ga=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Wu=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],wa=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],P1="0x82ad56cb",Ku="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",A1="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",B1="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",ao="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class Qs extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Zu extends S{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Yr extends S{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const gs="/docs/contract/encodeDeployData";function co(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new Jl({docsPath:gs});if(!("inputs"in s))throw new qo({docsPath:gs});if(!s.inputs||s.inputs.length===0)throw new qo({docsPath:gs});const i=It(s.inputs,n);return Ve([r,i])}function bn({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Qs({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Qs({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Yu(e,{docsPath:t,...n}){const r=(()=>{const s=Hi(e,n);return s instanceof Dr?e:s})();return new cu(r,{docsPath:t,...n})}function Ju(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const ws=new Map;function Xu({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const l=c();o();const h=l.map(({args:b})=>b);h.length!==0&&e(h).then(b=>{s&&Array.isArray(b)&&b.sort(s);for(let m=0;m<l.length;m++){const{resolve:g}=l[m];g==null||g([b[m],b])}}).catch(b=>{for(let m=0;m<l.length;m++){const{reject:g}=l[m];g==null||g(b)}})},o=()=>ws.delete(t),a=()=>c().map(({args:l})=>l),c=()=>ws.get(t)||[],d=l=>ws.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:h,resolve:b,reject:m}=Ju();return(n==null?void 0:n([...a(),l]))&&i(),c().length>0?(d({args:l,resolve:b,reject:m}),h):(d({args:l,resolve:b,reject:m}),setTimeout(i,r),h)}}}async function Jr(e,t){var z,X,F,N;const{account:n=e.account,authorizationList:r,batch:s=!!((z=e.batch)!=null&&z.multicall),blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:d,code:l,data:h,factory:b,factoryData:m,gas:g,gasPrice:w,maxFeePerBlobGas:I,maxFeePerGas:P,maxPriorityFeePerGas:T,nonce:A,to:v,value:B,stateOverride:k,...C}=t,O=n?qe(n):void 0;if(l&&(b||m))throw new S("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&v)throw new S("Cannot provide both `code` & `to` as parameters.");const U=l&&h,H=b&&m&&v&&h,M=U||H,L=U?Qu({code:l,data:h}):H?S1({data:h,factory:b,factoryData:m,to:v}):h;try{sr(t);const R=(typeof i=="bigint"?_(i):void 0)||o,j=d?Gu(d):void 0,V=qi(k),q=(N=(F=(X=e.chain)==null?void 0:X.formatters)==null?void 0:F.transactionRequest)==null?void 0:N.format,ue=(q||Hr)({...Gi(C,{format:q}),accessList:a,account:O,authorizationList:r,blobs:c,data:L,gas:g,gasPrice:w,maxFeePerBlobGas:I,maxFeePerGas:P,maxPriorityFeePerGas:T,nonce:A,to:M?void 0:v,value:B},"call");if(s&&I1({request:ue})&&!V&&!j)try{return await $1(e,{...ue,blockNumber:i,blockTag:o})}catch(fe){if(!(fe instanceof Zu)&&!(fe instanceof Qs))throw fe}const ae=(()=>{const fe=[ue,R];return V&&j?[...fe,V,j]:V?[...fe,V]:j?[...fe,{},j]:fe})(),re=await e.request({method:"eth_call",params:ae});return re==="0x"?{data:void 0}:{data:re}}catch(G){const R=T1(G),{offchainLookup:j,offchainLookupSignature:V}=await fu(async()=>{const{offchainLookup:q,offchainLookupSignature:J}=await import("./ccip-BWI4Wowm.js");return{offchainLookup:q,offchainLookupSignature:J}},[]);if(e.ccipRead!==!1&&(R==null?void 0:R.slice(0,10))===V&&v)return{data:await j(e,{data:R,to:v})};throw M&&(R==null?void 0:R.slice(0,10))==="0x101bb98d"?new dp({factory:b}):Yu(G,{...t,account:O,chain:e.chain})}}function I1({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(P1)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function $1(e,t){var w;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((w=e.batch)==null?void 0:w.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,d=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return bn({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Zu})(),h=(typeof i=="bigint"?_(i):void 0)||o,{schedule:b}=Xu({id:`${e.uid}.${h}`,wait:s,shouldSplitBatch(I){return I.reduce((T,{data:A})=>T+(A.length-2),0)>n*2},fn:async I=>{const P=I.map(v=>({allowFailure:!0,callData:v.data,target:v.to})),T=We({abi:Ir,args:[P],functionName:"aggregate3"}),A=await e.request({method:"eth_call",params:[{...d===null?{data:Qu({code:ao,data:T})}:{to:d,data:T}},h]});return jt({abi:Ir,args:[P],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:m,success:g}]=await b({data:a,to:c});if(!g)throw new jr({data:m});return m==="0x"?{data:void 0}:{data:m}}function Qu(e){const{code:t,data:n}=e;return co({abi:Nc(["constructor(bytes, bytes)"]),bytecode:Ku,args:[t,n]})}function S1(e){const{data:t,factory:n,factoryData:r,to:s}=e;return co({abi:Nc(["constructor(address, bytes, address, bytes)"]),bytecode:A1,args:[s,t,n,r]})}function T1(e){var n;if(!(e instanceof S))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function He(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=We({abi:n,args:s,functionName:i});try{const{data:c}=await W(e,Jr,"call")({...o,data:a,to:r});return jt({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw un(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function C1(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?qe(a.account):e.account,d=We({abi:n,args:s,functionName:o});try{const{data:l}=await W(e,Jr,"call")({batch:!1,data:`${d}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),h=jt({abi:n,args:s,functionName:o,data:l||"0x"}),b=n.filter(m=>"name"in m&&m.name===t.functionName);return{result:h,request:{abi:b,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(l){throw un(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const xs=new Map,xa=new Map;let k1=0;function Bt(e,t,n){const r=++k1,s=()=>xs.get(e)||[],i=()=>{const l=s();xs.set(e,l.filter(h=>h.id!==r))},o=()=>{const l=s();if(!l.some(b=>b.id===r))return;const h=xa.get(e);if(l.length===1&&h){const b=h();b instanceof Promise&&b.catch(()=>{})}i()},a=s();if(xs.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=(...h)=>{var m,g;const b=s();if(b.length!==0)for(const w of b)(g=(m=w.fns)[l])==null||g.call(m,...h)};const d=n(c);return typeof d=="function"&&xa.set(e,d),o}async function ei(e){return new Promise(t=>setTimeout(t,e))}function cr(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await ei(c);const d=async()=>{s&&(await e({unpoll:i}),await ei(r),d())};d()})(),i}const R1=new Map,F1=new Map;function O1(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,R1),r=t(e,F1);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function N1(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=O1(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const _1=e=>`blockNumber.${e}`;async function ur(e,{cacheTime:t=e.cacheTime}={}){const n=await N1(()=>e.request({method:"eth_blockNumber"}),{cacheKey:_1(e.uid),cacheTime:t});return BigInt(n)}async function Xr(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>mt(i));return!("abi"in t)||!t.abi?s:to({abi:t.abi,logs:s,strict:n})}async function Qr(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function M1(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:d,poll:l,pollingInterval:h=e.pollingInterval,strict:b}=t;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const I=b??!1,P=be(["watchContractEvent",r,s,i,e.uid,o,h,I,a]);return Bt(P,{onLogs:d,onError:c},T=>{let A;a!==void 0&&(A=a-1n);let v,B=!1;const k=cr(async()=>{var C;if(!B){try{v=await W(e,eu,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:I,fromBlock:a})}catch{}B=!0;return}try{let O;if(v)O=await W(e,Xr,"getFilterChanges")({filter:v});else{const U=await W(e,ur,"getBlockNumber")({});A&&A<U?O=await W(e,Su,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:A+1n,toBlock:U,strict:I}):O=[],A=U}if(O.length===0)return;if(i)T.onLogs(O);else for(const U of O)T.onLogs([U])}catch(O){v&&O instanceof Nt&&(B=!1),(C=T.onError)==null||C.call(T,O)}},{emitOnBegin:!0,interval:h});return async()=>{v&&await W(e,Qr,"uninstallFilter")({filter:v}),k()}})})():(()=>{const I=b??!1,P=be(["watchContractEvent",r,s,i,e.uid,o,h,I]);let T=!0,A=()=>T=!1;return Bt(P,{onLogs:d,onError:c},v=>((async()=>{try{const B=(()=>{if(e.transport.type==="fallback"){const O=e.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return O?O.value:e.transport}return e.transport})(),k=o?rr({abi:n,eventName:o,args:s}):[],{unsubscribe:C}=await B.subscribe({params:["logs",{address:r,topics:k}],onData(O){var H;if(!T)return;const U=O.result;try{const{eventName:M,args:L}=eo({abi:n,data:U.data,topics:U.topics,strict:b}),z=mt(U,{args:L,eventName:M});v.onLogs([z])}catch(M){let L,z;if(M instanceof $n||M instanceof _r){if(b)return;L=M.abiItem.name,z=(H=M.abiItem.inputs)==null?void 0:H.some(F=>!("name"in F&&F.name))}const X=mt(U,{args:z?[]:{},eventName:L});v.onLogs([X])}},onError(O){var U;(U=v.onError)==null||U.call(v,O)}});A=C,T||A()}catch(B){c==null||c(B)}})(),()=>A()))})()}async function z1(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}function ti(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:d})=>{const l=typeof t=="function"?t({count:a,error:d}):t;l&&await ei(l),o({count:a+1})};try{const d=await e();s(d)}catch(d){if(a<n&&await r({count:a,error:d}))return c({error:d});i(d)}};o()})}const U1={"0x0":"reverted","0x1":"success"};function uo(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>mt(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?nt(e.transactionIndex):null,status:e.status?U1[e.status]:null,type:e.type?mu[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const L1=Vi("transactionReceipt",uo),ni=256;let gr=ni,wr;function e0(e=11){if(!wr||gr+e>ni*2){wr="",gr=0;for(let t=0;t<ni;t++)wr+=(256+Math.random()*256|0).toString(16).substring(1)}return wr.substring(gr,gr+++e)}function j1(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,d=Math.min(Math.max(Math.floor(c/2),500),4e3),l=e.pollingInterval??d,h=e.cacheTime??l,b=e.account?qe(e.account):void 0,{config:m,request:g,value:w}=e.transport({chain:n,pollingInterval:l}),I={...m,...w},P={account:b,batch:t,cacheTime:h,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:g,transport:I,type:o,uid:e0(),...a?{experimental_blockTag:a}:{}};function T(A){return v=>{const B=v(A);for(const C in P)delete B[C];const k={...A,...B};return Object.assign(k,{extend:T(k)})}}return Object.assign(P,{extend:T(P)})}function fo(e){var n,r,s,i,o,a;if(!(e instanceof S))return!1;const t=e.walk(c=>c instanceof js);return t instanceof js?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=t.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function D1(e){const{abi:t,data:n}=e,r=Ft(n,0,4),s=t.find(i=>i.type==="function"&&r===nr(Le(i)));if(!s)throw new rh(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?pn(s.inputs,Ft(n,4)):void 0}}const vs="/docs/contract/encodeErrorResult";function va(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Lt({abi:t,args:r,name:n});if(!c)throw new Wo(n,{docsPath:vs});s=c}if(s.type!=="error")throw new Wo(void 0,{docsPath:vs});const i=Le(s),o=nr(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new th(s.name,{docsPath:vs});a=It(s.inputs,r)}return Ve([o,a])}const Es="/docs/contract/encodeFunctionResult";function H1(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Lt({abi:t,name:n});if(!o)throw new an(n,{docsPath:Es});s=o}if(s.type!=="function")throw new an(void 0,{docsPath:Es});if(!s.outputs)throw new jc(s.name,{docsPath:Es});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Dc(r)})();return It(s.outputs,i)}const es="x-batch-gateway:true";async function G1(e){const{data:t,ccipRequest:n}=e,{args:[r]}=D1({abi:Xs,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(es)?await G1({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=V1(c)}})),H1({abi:Xs,functionName:"query",result:[s,i]})}function V1(e){return e.name==="HttpRequestError"&&e.status?va({abi:Xs,errorName:"HttpError",args:[e.status,e.shortMessage]}):va({abi:[tu],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function t0(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return tt(t)?t:null}function ri(e){let t=new Uint8Array(32).fill(0);if(!e)return oe(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=t0(n[r]),i=s?hn(s):pe(Ct(n[r]),"bytes");t=pe(st([t,i]),"bytes")}return oe(t)}function q1(e){return`[${e.slice(2)}]`}function W1(e){const t=new Uint8Array(32).fill(0);return e?t0(e)||pe(Ct(e)):oe(t)}function lo(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Ct(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=Ct(s[i]);o.byteLength>255&&(o=Ct(q1(W1(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function K1(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(b=>i.endsWith(b)))return null;const h=s!=null?[ri(i),BigInt(s)]:[ri(i)];try{const b=We({abi:ga,functionName:"addr",args:h}),m={address:d,abi:qu,functionName:"resolveWithGateways",args:[$e(lo(i)),b,o??[es]],blockNumber:n,blockTag:r},w=await W(e,He,"readContract")(m);if(w[0]==="0x")return null;const I=jt({abi:ga,args:h,functionName:"addr",data:w[0]});return I==="0x"||ze(I)==="0x00"?null:I}catch(b){if(a)throw b;if(fo(b))return null;throw b}}class Z1 extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class wn extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class ho extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Y1 extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const J1=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,X1=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Q1=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,eb=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function tb(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Ea(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function n0({uri:e,gatewayUrls:t}){const n=Q1.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Ea(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Ea(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(J1),{protocol:o,subpath:a,target:c,subtarget:d=""}=(i==null?void 0:i.groups)||{},l=o==="ipns:/"||a==="ipns/",h=o==="ipfs:/"||a==="ipfs/"||X1.test(e);if(e.startsWith("http")&&!l&&!h){let m=e;return t!=null&&t.arweave&&(m=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((l||h)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${d}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${d||""}`,isOnChain:!1,isEncoded:!1};let b=e.replace(eb,"");if(b.startsWith("<svg")&&(b=`data:image/svg+xml;base64,${btoa(b)}`),b.startsWith("data:")||b.startsWith("{"))return{uri:b,isOnChain:!0,isEncoded:!1};throw new ho({uri:e})}function r0(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Z1({data:e});return e.image||e.image_url||e.image_data}async function nb({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await po({gatewayUrls:e,uri:r0(n)})}catch{throw new ho({uri:t})}}async function po({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=n0({uri:t,gatewayUrls:e});if(r||await tb(n))return n;throw new ho({uri:t})}function rb(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new wn({reason:"Only EIP-155 supported"});if(!o)throw new wn({reason:"Chain ID not found"});if(!c)throw new wn({reason:"Contract address not found"});if(!s)throw new wn({reason:"Token ID not found"});if(!a)throw new wn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function sb(e,{nft:t}){if(t.namespace==="erc721")return He(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return He(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Y1({namespace:t.namespace})}async function ib(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?ob(e,{gatewayUrls:t,record:n}):po({uri:n,gatewayUrls:t})}async function ob(e,{gatewayUrls:t,record:n}){const r=rb(n),s=await sb(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=n0({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const d=a?atob(i.replace("data:application/json;base64,","")):i,l=JSON.parse(d);return po({uri:r0(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),nb({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function s0(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(h=>i.endsWith(h)))return null;try{const h={address:d,abi:qu,args:[$e(lo(i)),We({abi:ya,functionName:"text",args:[ri(i),s]}),o??[es]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},m=await W(e,He,"readContract")(h);if(m[0]==="0x")return null;const g=jt({abi:ya,functionName:"text",data:m[0]});return g===""?null:g}catch(h){if(a)throw h;if(fo(h))return null;throw h}}async function ab(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await W(e,s0,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await ib(e,{record:c,gatewayUrls:r})}catch{return null}}async function cb(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,d=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const l={address:d,abi:E1,args:[n,i,o??[es]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},h=W(e,He,"readContract"),[b]=await h(l);return b||null}catch(l){if(a)throw l;if(fo(l))return null;throw l}}async function ub(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return bn({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(d=>s.endsWith(d)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await W(e,He,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[$e(lo(s))],blockNumber:n,blockTag:r});return c}async function i0(e,t){var I,P,T;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,to:b,value:m,...g}=t,w=n?qe(n):void 0;try{sr(t);const v=(typeof r=="bigint"?_(r):void 0)||s,B=(T=(P=(I=e.chain)==null?void 0:I.formatters)==null?void 0:P.transactionRequest)==null?void 0:T.format,C=(B||Hr)({...Gi(g,{format:B}),account:w,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:d,maxFeePerGas:l,maxPriorityFeePerGas:h,to:b,value:m},"createAccessList"),O=await e.request({method:"eth_createAccessList",params:[C,v]});return{accessList:O.accessList,gasUsed:BigInt(O.gasUsed)}}catch(A){throw Yu(A,{...t,account:w,chain:e.chain})}}async function fb(e){const t=Ur(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function o0(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),d=Ur(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(m=>rr({abi:[m],eventName:m.name,args:n}))],r&&(l=l[0]));const h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?_(i):i,toBlock:typeof a=="bigint"?_(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:h,request:d(h),strict:!!o,toBlock:a,type:"event"}}async function a0(e){const t=Ur(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function db(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?_(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function lb(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function hb(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?_(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),nt(i)}async function si(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?_(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}class pb extends S{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function bb(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,d,l,h]=await W(e,He,"readContract")({abi:mb,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:d,salt:l},extensions:h,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new pb({address:n}):o}}const mb=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function yb(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function gb(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?_(n):void 0,o=await e.request({method:"eth_feeHistory",params:[_(t),i||r,s]},{dedupe:!!i});return yb(o)}async function wb(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>mt(i));return t.abi?to({abi:t.abi,logs:s,strict:n}):s}function xb(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!ce(s))throw new we({address:s});if(r<0)throw new Yr({chainId:r})}bo(e)}function vb(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Pu;for(const n of t){const r=ne(n),s=nt(Ft(n,0,1));if(r!==32)throw new Mp({hash:n,size:r});if(s!==Eu)throw new zp({hash:n,version:s})}}bo(e)}function bo(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new Yr({chainId:t});if(s&&!ce(s))throw new we({address:s});if(r&&r>Gr)throw new _t({maxFeePerGas:r});if(n&&r&&n>r)throw new Yn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Eb(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new Yr({chainId:t});if(i&&!ce(i))throw new we({address:i});if(n||s)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Gr)throw new _t({maxFeePerGas:r})}function Pb(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!ce(i))throw new we({address:i});if(typeof t<"u"&&t<=0)throw new Yr({chainId:t});if(n||s)throw new S("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Gr)throw new _t({maxFeePerGas:r})}function ts(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new op({storageKey:s[i]});if(!ce(r,{strict:!1}))throw new we({address:r});t.push([r,s])}return t}function Ab(e,t){const n=Bu(e);return n==="eip1559"?$b(e,t):n==="eip2930"?Sb(e,t):n==="eip4844"?Ib(e,t):n==="eip7702"?Bb(e,t):Tb(e,t)}function Bb(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:l,data:h}=e;xb(e);const b=ts(l),m=Cb(n);return Ve(["0x04",At([_(r),i?_(i):"0x",d?_(d):"0x",c?_(c):"0x",s?_(s):"0x",o??"0x",a?_(a):"0x",h??"0x",b,m,...fr(e,t)])])}function Ib(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:d,accessList:l,data:h}=e;vb(e);let b=e.blobVersionedHashes,m=e.sidecars;if(e.blobs&&(typeof b>"u"||typeof m>"u")){const A=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(k=>oe(k)),v=e.kzg,B=Yi({blobs:A,kzg:v});if(typeof b>"u"&&(b=wu({commitments:B})),typeof m>"u"){const k=Ji({blobs:A,commitments:B,kzg:v});m=Au({blobs:A,commitments:B,proofs:k})}}const g=ts(l),w=[_(n),s?_(s):"0x",d?_(d):"0x",c?_(c):"0x",r?_(r):"0x",i??"0x",o?_(o):"0x",h??"0x",g,a?_(a):"0x",b??[],...fr(e,t)],I=[],P=[],T=[];if(m)for(let A=0;A<m.length;A++){const{blob:v,commitment:B,proof:k}=m[A];I.push(v),P.push(B),T.push(k)}return Ve(["0x03",At(m?[w,I,P,T]:w)])}function $b(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:d,data:l}=e;bo(e);const h=ts(d),b=[_(n),s?_(s):"0x",c?_(c):"0x",a?_(a):"0x",r?_(r):"0x",i??"0x",o?_(o):"0x",l??"0x",h,...fr(e,t)];return Ve(["0x02",At(b)])}function Sb(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:d}=e;Eb(e);const l=ts(c),h=[_(n),i?_(i):"0x",d?_(d):"0x",r?_(r):"0x",o??"0x",a?_(a):"0x",s??"0x",l,...fr(e,t)];return Ve(["0x01",At(h)])}function Tb(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;Pb(e);let d=[i?_(i):"0x",c?_(c):"0x",r?_(r):"0x",o??"0x",a?_(a):"0x",s??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const m=27n+(t.v===27n?0n:1n);if(t.v!==m)throw new sp({v:t.v});return m})(),h=ze(t.r),b=ze(t.s);d=[...d,_(l),h==="0x00"?"0x":h,b==="0x00"?"0x":b]}else n>0&&(d=[...d,_(n),"0x","0x"]);return At(d)}function fr(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=ze(n.r),o=ze(n.s);return[typeof s=="number"?s?_(1):"0x":r===0n?"0x":r===1n?_(1):r===27n?"0x":_(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function Cb(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...i}=n,o=n.address;t.push([r?$e(r):"0x",o,s?$e(s):"0x",...fr({},i)])}return t}async function kb({address:e,authorization:t,signature:n}){return qr(Kc(e),await pu({authorization:t,signature:n}))}const xr=new _i(8192);function Rb(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(xr.get(n))return xr.get(n);const r=e().finally(()=>xr.delete(n));return xr.set(n,r),r}function Fb(e,t={}){return async(n,r={})=>{var h;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:d}=n;if((h=i==null?void 0:i.exclude)!=null&&h.includes(d))throw new St(new Error("method not supported"),{method:d});if(i!=null&&i.include&&!i.include.includes(d))throw new St(new Error("method not supported"),{method:d});const l=s?Sn(`${c}.${be(n)}`):void 0;return Rb(()=>ti(async()=>{try{return await e(n)}catch(b){const m=b;switch(m.code){case Cn.code:throw new Cn(m);case kn.code:throw new kn(m);case Rn.code:throw new Rn(m,{method:n.method});case Fn.code:throw new Fn(m);case Ot.code:throw new Ot(m);case Nt.code:throw new Nt(m);case On.code:throw new On(m);case Nn.code:throw new Nn(m);case _n.code:throw new _n(m);case St.code:throw new St(m,{method:n.method});case cn.code:throw new cn(m);case Mn.code:throw new Mn(m);case en.code:throw new en(m);case zn.code:throw new zn(m);case Un.code:throw new Un(m);case Ln.code:throw new Ln(m);case jn.code:throw new jn(m);case Dn.code:throw new Dn(m);case Hn.code:throw new Hn(m);case Gn.code:throw new Gn(m);case Vn.code:throw new Vn(m);case qn.code:throw new qn(m);case Wn.code:throw new Wn(m);case Kn.code:throw new Kn(m);case Zn.code:throw new Zn(m);case 5e3:throw new en(m);default:throw b instanceof S?b:new hp(m)}}},{delay:({count:b,error:m})=>{var g;if(m&&m instanceof En){const w=(g=m==null?void 0:m.headers)==null?void 0:g.get("Retry-After");if(w!=null&&w.match(/\d/))return Number.parseInt(w,10)*1e3}return~~(1<<b)*o},retryCount:a,shouldRetry:({error:b})=>Ob(b)}),{enabled:s,id:l})}}function Ob(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===cn.code||e.code===Ot.code:e instanceof En&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Nb(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function _b(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function Mb(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Pa=Mb();function zb(e,t={}){return{async request(n){var b;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:d,method:l,signal:h}=c;try{const m=await _b(async({signal:w})=>{const I={...c,body:Array.isArray(r)?be(r.map(v=>({jsonrpc:"2.0",id:v.id??Pa.take(),...v}))):be({jsonrpc:"2.0",id:r.id??Pa.take(),...r}),headers:{"Content-Type":"application/json",...d},method:l||"POST",signal:h||(a>0?w:null)},P=new Request(e,I),T=await(i==null?void 0:i(P,I))??{...I,url:e};return await s(T.url??e,T)},{errorInstance:new ra({body:r,url:e}),timeout:a,signal:!0});o&&await o(m);let g;if((b=m.headers.get("Content-Type"))!=null&&b.startsWith("application/json"))g=await m.json();else{g=await m.text();try{g=JSON.parse(g||"{}")}catch(w){if(m.ok)throw w;g={error:g}}}if(!m.ok)throw new En({body:r,details:be(g.error)||m.statusText,headers:m.headers,status:m.status,url:e});return g}catch(m){throw m instanceof En||m instanceof ra?m:new En({body:r,cause:m,url:e})}}}}const Ub=`Ethereum Signed Message:
`;function Lb(e){const t=typeof e=="string"?Sn(e):typeof e.raw=="string"?e.raw:oe(e.raw),n=Sn(`${Ub}${ne(t)}`);return st([n,t])}function c0(e,t){return pe(Lb(e),t)}class jb extends S{constructor({domain:t}){super(`Invalid domain "${be(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Db extends S{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Hb extends S{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Gb(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:d,type:l}=c,h=a[d],b=l.match(Xc);if(b&&(typeof h=="number"||typeof h=="bigint")){const[w,I,P]=b;_(h,{signed:I==="int",size:Number.parseInt(P,10)/8})}if(l==="address"&&typeof h=="string"&&!ce(h))throw new we({address:h});const m=l.match($h);if(m){const[w,I]=m;if(I&&ne(h)!==Number.parseInt(I,10))throw new ih({expectedSize:Number.parseInt(I,10),givenSize:ne(h)})}const g=s[l];g&&(qb(l),i(g,h))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new jb({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new Db({primaryType:r,types:s})}function Vb({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function qb(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Hb({type:e})}function Wb(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:Vb({domain:t}),...e.types};Gb({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(Kb({domain:t,types:s})),r!=="EIP712Domain"&&i.push(u0({data:n,primaryType:r,types:s})),pe(st(i))}function Kb({domain:e,types:t}){return u0({data:e,primaryType:"EIP712Domain",types:t})}function u0({data:e,primaryType:t,types:n}){const r=f0({data:e,primaryType:t,types:n});return pe(r)}function f0({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Zb({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=l0({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return It(r,s)}function Zb({primaryType:e,types:t}){const n=$e(Yb({primaryType:e,types:t}));return pe(n)}function Yb({primaryType:e,types:t}){let n="";const r=d0({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function d0({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])d0({primaryType:i.type,types:t},n);return n}function l0({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},pe(f0({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},pe(r)];if(n==="string")return[{type:"bytes32"},pe($e(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>l0({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},pe(It(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}class Jb extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Xb={checksum:new Jb(8192)},Ps=Xb.checksum;function h0(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=xi(n1(e));return n==="Bytes"?r:De(r)}const Qb=/^0x[a-fA-F0-9]{40}$/;function ns(e,t={}){const{strict:n=!0}=t;if(!Qb.test(e))throw new Aa({address:e,cause:new em});if(n){if(e.toLowerCase()===e)return;if(p0(e)!==e)throw new Aa({address:e,cause:new tm})}}function p0(e){if(Ps.has(e))return Ps.get(e);ns(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=h0(s1(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return Ps.set(e,s),s}function ii(e,t={}){const{strict:n=!0}=t??{};try{return ns(e,{strict:n}),!0}catch{return!1}}class Aa extends Z{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class em extends Z{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tm extends Z{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const nm=/^(.*)\[([0-9]*)\]$/,rm=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,b0=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Ba=2n**256n-1n;function nn(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=go(t.type);if(i){const[o,a]=i;return im(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return um(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return sm(e,{checksum:r});if(t.type==="bool")return om(e);if(t.type.startsWith("bytes"))return am(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return cm(e,t);if(t.type==="string")return fm(e,{staticPosition:s});throw new xo(t.type)}const Ia=32,oi=32;function sm(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?p0(i):i)(De(o1(r,-20))),32]}function im(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=pt(e.readBytes(oi)),d=i+c,l=d+Ia;e.setPosition(d);const h=pt(e.readBytes(Ia)),b=Qn(t);let m=0;const g=[];for(let w=0;w<h;++w){e.setPosition(l+(b?w*32:m));const[I,P]=nn(e,t,{checksumAddress:r,staticPosition:l});m+=P,g.push(I)}return e.setPosition(i+32),[g,32]}if(Qn(t)){const c=pt(e.readBytes(oi)),d=i+c,l=[];for(let h=0;h<s;++h){e.setPosition(d+h*32);const[b]=nn(e,t,{checksumAddress:r,staticPosition:d});l.push(b)}return e.setPosition(i+32),[l,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[d,l]=nn(e,t,{checksumAddress:r,staticPosition:i+o});o+=l,a.push(d)}return[a,o]}function om(e){return[c1(e.readBytes(32),{size:32}),32]}function am(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=pt(e.readBytes(32));e.setPosition(n+o);const a=pt(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[De(c),32]}return[De(e.readBytes(Number.parseInt(s,10),32)),32]}function cm(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?a1(s,{signed:n}):pt(s,{signed:n}),32]}function um(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(Qn(t)){const c=pt(e.readBytes(oi)),d=s+c;for(let l=0;l<t.components.length;++l){const h=t.components[l];e.setPosition(d+a);const[b,m]=nn(e,h,{checksumAddress:r,staticPosition:d});a+=m,o[i?l:h==null?void 0:h.name]=b}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const d=t.components[c],[l,h]=nn(e,d,{checksumAddress:r,staticPosition:s});o[i?c:d==null?void 0:d.name]=l,a+=h}return[o,a]}function fm(e,{staticPosition:t}){const n=pt(e.readBytes(32)),r=t+n;e.setPosition(r);const s=pt(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=u1(zu(i));return e.setPosition(t+32),[o,32]}function dm({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(mo({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function mo({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=go(r.type);if(s){const[i,o]=s;return hm(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return gm(n,{checksumAddress:e,parameter:r});if(r.type==="address")return lm(n,{checksum:e});if(r.type==="bool")return bm(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=b0.exec(r.type)??[];return mm(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return pm(n,{type:r.type});if(r.type==="string")return ym(n);throw new xo(r.type)}function yo(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Se(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(me(t+s,{size:32})),r.push(a),s+=Se(a)):n.push(a)}return je(...n,...r)}function lm(e,t){const{checksum:n=!1}=t;return ns(e,{strict:n}),{dynamic:!1,encoded:Mt(e.toLowerCase())}}function hm(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new $m(e);if(!i&&e.length!==r)throw new Im({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const d=mo({checksumAddress:n,parameter:s,value:e[c]});d.dynamic&&(o=!0),a.push(d)}if(i||o){const c=yo(a);if(i){const d=me(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?je(d,c):d}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:je(...a.map(({encoded:c})=>c))}}function pm(e,{type:t}){const[,n]=t.split("bytes"),r=Se(e);if(!n){let s=e;return r%32!==0&&(s=zt(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:je(Mt(me(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new y0({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:zt(e)}}function bm(e){if(typeof e!="boolean")throw new Z(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Mt(Uu(e))}}function mm(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Du({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:me(e,{size:32,signed:t})}}function ym(e){const t=oo(e),n=Math.ceil(Se(t)/32),r=[];for(let s=0;s<n;s++)r.push(zt(et(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:je(zt(me(Se(t),{size:32})),...r)}}function gm(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,d=mo({checksumAddress:n,parameter:a,value:e[c]});i.push(d),d.dynamic&&(s=!0)}return{dynamic:s,encoded:s?yo(i):je(...i.map(({encoded:o})=>o))}}function go(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Qn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Qn);const n=go(e.type);return!!(n&&Qn({...e,type:n[1]}))}const wm={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Em({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new vm({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new $a({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new $a({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function xm(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(wm);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class $a extends Z{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class vm extends Z{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Em extends Z{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Pm(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?Mu(t):t,o=xm(i);if(Yt(i)===0&&e.length>0)throw new Bm;if(Yt(i)&&Yt(i)<32)throw new Am({data:typeof t=="string"?t:De(t),parameters:e,size:Yt(i)});let a=0;const c=r==="Array"?[]:{};for(let d=0;d<e.length;++d){const l=e[d];o.setPosition(a);const[h,b]=nn(o,l,{checksumAddress:s,staticPosition:0});a+=b,r==="Array"?c.push(h):c[l.name??d]=h}return c}function wo(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new g0({expectedLength:e.length,givenLength:t.length});const s=dm({checksumAddress:r,parameters:e,values:t}),i=yo(s);return i.length===0?"0x":i}function ai(e,t){if(e.length!==t.length)throw new g0({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(ai.encode(s,i))}return je(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return ns(c),Mt(c.toLowerCase(),s?32:0)}if(n==="string")return oo(r);if(n==="bytes")return r;if(n==="bool")return Mt(Uu(r),s?32:1);const i=n.match(b0);if(i){const[c,d,l="256"]=i,h=Number.parseInt(l,10)/8;return me(r,{size:s?32:h,signed:d==="int"})}const o=n.match(rm);if(o){const[c,d]=o;if(Number.parseInt(d,10)!==(r.length-2)/2)throw new y0({expectedSize:Number.parseInt(d,10),value:r});return zt(r,s?32:0)}const a=n.match(nm);if(a&&Array.isArray(r)){const[c,d]=a,l=[];for(let h=0;h<r.length;h++)l.push(t(d,r[h],!0));return l.length===0?"0x":je(...l)}throw new xo(n)}e.encode=t})(ai||(ai={}));function m0(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Vo(e):e}class Am extends Z{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${Wt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Bm extends Z{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Im extends Z{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class y0 extends Z{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Se(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class g0 extends Z{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class $m extends Z{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class xo extends Z{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Pe=BigInt(0),ge=BigInt(1),Tt=BigInt(2),Sm=BigInt(3),w0=BigInt(4),x0=BigInt(5),v0=BigInt(8);function Ee(e,t){const n=e%t;return n>=Pe?n:t+n}function Ce(e,t,n){let r=e;for(;t-- >Pe;)r*=r,r%=n;return r}function ci(e,t){if(e===Pe)throw new Error("invert: expected non-zero number");if(t<=Pe)throw new Error("invert: expected positive modulus, got "+t);let n=Ee(e,t),r=t,s=Pe,i=ge;for(;n!==Pe;){const a=r/n,c=r%n,d=s-i*a;r=n,n=c,s=i,i=d}if(r!==ge)throw new Error("invert: does not exist");return Ee(s,t)}function E0(e,t){const n=(e.ORDER+ge)/w0,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Tm(e,t){const n=(e.ORDER-x0)/v0,r=e.mul(t,Tt),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,Tt),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Cm(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ge,n=0;for(;t%Tt===Pe;)t/=Tt,n++;let r=Tt;const s=vo(e);for(;Sa(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return E0;let i=s.pow(r,t);const o=(t+ge)/Tt;return function(c,d){if(c.is0(d))return d;if(Sa(c,d)!==1)throw new Error("Cannot find square root");let l=n,h=c.mul(c.ONE,i),b=c.pow(d,t),m=c.pow(d,o);for(;!c.eql(b,c.ONE);){if(c.is0(b))return c.ZERO;let g=1,w=c.sqr(b);for(;!c.eql(w,c.ONE);)if(g++,w=c.sqr(w),g===l)throw new Error("Cannot find square root");const I=ge<<BigInt(l-g-1),P=c.pow(h,I);l=g,h=c.sqr(P),b=c.mul(b,h),m=c.mul(m,P)}return m}}function km(e){return e%w0===Sm?E0:e%v0===x0?Tm:Cm(e)}const Rm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fm(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Rm.reduce((r,s)=>(r[s]="function",r),t);return Kr(e,n)}function Om(e,t,n){if(n<Pe)throw new Error("invalid exponent, negatives unsupported");if(n===Pe)return e.ONE;if(n===ge)return t;let r=e.ONE,s=t;for(;n>Pe;)n&ge&&(r=e.mul(r,s)),s=e.sqr(s),n>>=ge;return r}function P0(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function Sa(e,t){const n=(e.ORDER-ge)/Tt,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function A0(e,t){t!==void 0&&An(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function vo(e,t,n=!1,r={}){if(e<=Pe)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=A0(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:Wr(s),ZERO:Pe,ONE:ge,create:c=>Ee(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Pe<=c&&c<e},is0:c=>c===Pe,isOdd:c=>(c&ge)===ge,neg:c=>Ee(-c,e),eql:(c,d)=>c===d,sqr:c=>Ee(c*c,e),add:(c,d)=>Ee(c+d,e),sub:(c,d)=>Ee(c-d,e),mul:(c,d)=>Ee(c*d,e),pow:(c,d)=>Om(a,c,d),div:(c,d)=>Ee(c*ci(d,e),e),sqrN:c=>c*c,addN:(c,d)=>c+d,subN:(c,d)=>c-d,mulN:(c,d)=>c*d,inv:c=>ci(c,e),sqrt:r.sqrt||(c=>(o||(o=km(e)),o(a,c))),toBytes:c=>n?Ru(c,i):or(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?ku(c):kt(c)},invertBatch:c=>P0(a,c),cmov:(c,d,l)=>l?d:c});return Object.freeze(a)}function B0(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function I0(e){const t=B0(e);return t+Math.ceil(t/2)}function Nm(e,t,n=!1){const r=e.length,s=B0(t),i=I0(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?ku(e):kt(e),a=Ee(o,t-ge)+ge;return n?Ru(a,s):or(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ta=BigInt(0),ui=BigInt(1);function As(e,t){const n=t.negate();return e?n:t}function $0(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Bs(e,t){$0(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Wr(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Ca(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=ui);const d=t*r,l=d+Math.abs(a)-1,h=a===0,b=a<0,m=t%2!==0;return{nextN:c,offset:l,isZero:h,isNeg:b,isNegF:m,offsetF:d}}function _m(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Mm(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Is=new WeakMap,S0=new WeakMap;function $s(e){return S0.get(e)||1}function zm(e,t){return{constTimeNegate:As,hasPrecomputes(n){return $s(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>Ta;)r&ui&&(s=s.add(i)),i=i.double(),r>>=ui;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=Bs(r,t),o=[];let a=n,c=a;for(let d=0;d<s;d++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=Bs(n,t);for(let c=0;c<a.windows;c++){const{nextN:d,offset:l,isZero:h,isNeg:b,isNegF:m,offsetF:g}=Ca(s,c,a);s=d,h?o=o.add(As(m,r[g])):i=i.add(As(b,r[l]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=Bs(n,t);for(let a=0;a<o.windows&&s!==Ta;a++){const{nextN:c,offset:d,isZero:l,isNeg:h}=Ca(s,a,o);if(s=c,!l){const b=r[d];i=i.add(h?b.negate():b)}}return i},getPrecomputes(n,r,s){let i=Is.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&Is.set(r,s(i))),i},wNAFCached(n,r,s){const i=$s(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=$s(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){$0(r,t),S0.set(n,r),Is.delete(n)}}}function Um(e,t,n,r){_m(n,e),Mm(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Vp(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const d=Wr(c),l=new Array(Number(d)+1).fill(o),h=Math.floor((t.BITS-1)/c)*c;let b=o;for(let m=h;m>=0;m-=c){l.fill(o);for(let w=0;w<i;w++){const I=r[w],P=Number(I>>BigInt(m)&d);l[P]=l[P].add(n[w])}let g=o;for(let w=l.length-1,I=o;w>0;w--)I=I.add(l[w]),g=g.add(I);if(b=b.add(g),m!==0)for(let w=0;w<c;w++)b=b.double()}return b}function T0(e){return Fm(e.Fp),Kr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...A0(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ka(e){e.lowS!==void 0&&Jn("lowS",e.lowS),e.prehash!==void 0&&Jn("prehash",e.prehash)}function Lm(e){const t=T0(e);Kr(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class jm extends Error{constructor(t=""){super(t)}}const dt={Err:jm,_tlv:{encode:(e,t)=>{const{Err:n}=dt;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=yr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?yr(s.length/2|128):"";return yr(e)+i+s+t},decode(e,t){const{Err:n}=dt;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const d=t.subarray(r,r+c);if(d.length!==c)throw new n("tlv.decode: length bytes not complete");if(d[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of d)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=dt;if(e<lt)throw new t("integer: negative integers are not allowed");let n=yr(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=dt;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return kt(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=dt,s=Oe("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:d,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(d)}},hexFromSig(e){const{_tlv:t,_int:n}=dt,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function Ss(e,t){return Xn(or(e,t))}const lt=BigInt(0),le=BigInt(1);BigInt(2);const Ts=BigInt(3),Dm=BigInt(4);function Hm(e){const t=Lm(e),{Fp:n}=t,r=vo(t.n,t.nBitLength),s=t.toBytes||((A,v,B)=>{const k=v.toAffine();return Br(Uint8Array.from([4]),n.toBytes(k.x),n.toBytes(k.y))}),i=t.fromBytes||(A=>{const v=A.subarray(1),B=n.fromBytes(v.subarray(0,n.BYTES)),k=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:B,y:k}});function o(A){const{a:v,b:B}=t,k=n.sqr(A),C=n.mul(k,A);return n.add(n.add(C,n.mul(A,v)),B)}function a(A,v){const B=n.sqr(v),k=o(A);return n.eql(B,k)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,Ts),Dm),d=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,d)))throw new Error("bad curve params: a or b");function l(A){return io(A,le,t.n)}function h(A){const{allowedPrivateKeyLengths:v,nByteLength:B,wrapPrivateKey:k,n:C}=t;if(v&&typeof A!="bigint"){if(ir(A)&&(A=Xn(A)),typeof A!="string"||!v.includes(A.length))throw new Error("invalid private key");A=A.padStart(B*2,"0")}let O;try{O=typeof A=="bigint"?A:kt(Oe("private key",A,B))}catch{throw new Error("invalid private key, expected hex or "+B+" bytes, got "+typeof A)}return k&&(O=Ee(O,C)),tn("private key",O,le,C),O}function b(A){if(!(A instanceof w))throw new Error("ProjectivePoint expected")}const m=ha((A,v)=>{const{px:B,py:k,pz:C}=A;if(n.eql(C,n.ONE))return{x:B,y:k};const O=A.is0();v==null&&(v=O?n.ONE:n.inv(C));const U=n.mul(B,v),H=n.mul(k,v),M=n.mul(C,v);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(M,n.ONE))throw new Error("invZ was invalid");return{x:U,y:H}}),g=ha(A=>{if(A.is0()){if(t.allowInfinityPoint&&!n.is0(A.py))return;throw new Error("bad point: ZERO")}const{x:v,y:B}=A.toAffine();if(!n.isValid(v)||!n.isValid(B))throw new Error("bad point: x or y not FE");if(!a(v,B))throw new Error("bad point: equation left != right");if(!A.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(v,B,k){if(v==null||!n.isValid(v))throw new Error("x required");if(B==null||!n.isValid(B)||n.is0(B))throw new Error("y required");if(k==null||!n.isValid(k))throw new Error("z required");this.px=v,this.py=B,this.pz=k,Object.freeze(this)}static fromAffine(v){const{x:B,y:k}=v||{};if(!v||!n.isValid(B)||!n.isValid(k))throw new Error("invalid affine point");if(v instanceof w)throw new Error("projective point not allowed");const C=O=>n.eql(O,n.ZERO);return C(B)&&C(k)?w.ZERO:new w(B,k,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const B=P0(n,v.map(k=>k.pz));return v.map((k,C)=>k.toAffine(B[C])).map(w.fromAffine)}static fromHex(v){const B=w.fromAffine(i(Oe("pointHex",v)));return B.assertValidity(),B}static fromPrivateKey(v){return w.BASE.multiply(h(v))}static msm(v,B){return Um(w,r,v,B)}_setWindowSize(v){T.setWindowSize(this,v)}assertValidity(){g(this)}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){b(v);const{px:B,py:k,pz:C}=this,{px:O,py:U,pz:H}=v,M=n.eql(n.mul(B,H),n.mul(O,C)),L=n.eql(n.mul(k,H),n.mul(U,C));return M&&L}negate(){return new w(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:B}=t,k=n.mul(B,Ts),{px:C,py:O,pz:U}=this;let H=n.ZERO,M=n.ZERO,L=n.ZERO,z=n.mul(C,C),X=n.mul(O,O),F=n.mul(U,U),N=n.mul(C,O);return N=n.add(N,N),L=n.mul(C,U),L=n.add(L,L),H=n.mul(v,L),M=n.mul(k,F),M=n.add(H,M),H=n.sub(X,M),M=n.add(X,M),M=n.mul(H,M),H=n.mul(N,H),L=n.mul(k,L),F=n.mul(v,F),N=n.sub(z,F),N=n.mul(v,N),N=n.add(N,L),L=n.add(z,z),z=n.add(L,z),z=n.add(z,F),z=n.mul(z,N),M=n.add(M,z),F=n.mul(O,U),F=n.add(F,F),z=n.mul(F,N),H=n.sub(H,z),L=n.mul(F,X),L=n.add(L,L),L=n.add(L,L),new w(H,M,L)}add(v){b(v);const{px:B,py:k,pz:C}=this,{px:O,py:U,pz:H}=v;let M=n.ZERO,L=n.ZERO,z=n.ZERO;const X=t.a,F=n.mul(t.b,Ts);let N=n.mul(B,O),G=n.mul(k,U),R=n.mul(C,H),j=n.add(B,k),V=n.add(O,U);j=n.mul(j,V),V=n.add(N,G),j=n.sub(j,V),V=n.add(B,C);let q=n.add(O,H);return V=n.mul(V,q),q=n.add(N,R),V=n.sub(V,q),q=n.add(k,C),M=n.add(U,H),q=n.mul(q,M),M=n.add(G,R),q=n.sub(q,M),z=n.mul(X,V),M=n.mul(F,R),z=n.add(M,z),M=n.sub(G,z),z=n.add(G,z),L=n.mul(M,z),G=n.add(N,N),G=n.add(G,N),R=n.mul(X,R),V=n.mul(F,V),G=n.add(G,R),R=n.sub(N,R),R=n.mul(X,R),V=n.add(V,R),N=n.mul(G,V),L=n.add(L,N),N=n.mul(q,V),M=n.mul(j,M),M=n.sub(M,N),N=n.mul(j,G),z=n.mul(q,z),z=n.add(z,N),new w(M,L,z)}subtract(v){return this.add(v.negate())}is0(){return this.equals(w.ZERO)}wNAF(v){return T.wNAFCached(this,v,w.normalizeZ)}multiplyUnsafe(v){const{endo:B,n:k}=t;tn("scalar",v,lt,k);const C=w.ZERO;if(v===lt)return C;if(this.is0()||v===le)return this;if(!B||T.hasPrecomputes(this))return T.wNAFCachedUnsafe(this,v,w.normalizeZ);let{k1neg:O,k1:U,k2neg:H,k2:M}=B.splitScalar(v),L=C,z=C,X=this;for(;U>lt||M>lt;)U&le&&(L=L.add(X)),M&le&&(z=z.add(X)),X=X.double(),U>>=le,M>>=le;return O&&(L=L.negate()),H&&(z=z.negate()),z=new w(n.mul(z.px,B.beta),z.py,z.pz),L.add(z)}multiply(v){const{endo:B,n:k}=t;tn("scalar",v,le,k);let C,O;if(B){const{k1neg:U,k1:H,k2neg:M,k2:L}=B.splitScalar(v);let{p:z,f:X}=this.wNAF(H),{p:F,f:N}=this.wNAF(L);z=T.constTimeNegate(U,z),F=T.constTimeNegate(M,F),F=new w(n.mul(F.px,B.beta),F.py,F.pz),C=z.add(F),O=X.add(N)}else{const{p:U,f:H}=this.wNAF(v);C=U,O=H}return w.normalizeZ([C,O])[0]}multiplyAndAddUnsafe(v,B,k){const C=w.BASE,O=(H,M)=>M===lt||M===le||!H.equals(C)?H.multiplyUnsafe(M):H.multiply(M),U=O(this,B).add(O(v,k));return U.is0()?void 0:U}toAffine(v){return m(this,v)}isTorsionFree(){const{h:v,isTorsionFree:B}=t;if(v===le)return!0;if(B)return B(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:B}=t;return v===le?this:B?B(w,this):this.multiplyUnsafe(t.h)}toRawBytes(v=!0){return Jn("isCompressed",v),this.assertValidity(),s(w,this,v)}toHex(v=!0){return Jn("isCompressed",v),Xn(this.toRawBytes(v))}}w.BASE=new w(t.Gx,t.Gy,n.ONE),w.ZERO=new w(n.ZERO,n.ONE,n.ZERO);const{endo:I,nBitLength:P}=t,T=zm(w,I?Math.ceil(P/2):P);return{CURVE:t,ProjectivePoint:w,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:l}}function Gm(e){const t=T0(e);return Kr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Vm(e){const t=Gm(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(F){return Ee(F,r)}function d(F){return ci(F,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:h,weierstrassEquation:b,isWithinCurveOrder:m}=Hm({...t,toBytes(F,N,G){const R=N.toAffine(),j=n.toBytes(R.x),V=Br;return Jn("isCompressed",G),G?V(Uint8Array.from([N.hasEvenY()?2:3]),j):V(Uint8Array.from([4]),j,n.toBytes(R.y))},fromBytes(F){const N=F.length,G=F[0],R=F.subarray(1);if(N===o&&(G===2||G===3)){const j=kt(R);if(!io(j,le,n.ORDER))throw new Error("Point is not on curve");const V=b(j);let q;try{q=n.sqrt(V)}catch(ae){const re=ae instanceof Error?": "+ae.message:"";throw new Error("Point is not on curve"+re)}const J=(q&le)===le;return(G&1)===1!==J&&(q=n.neg(q)),{x:j,y:q}}else if(N===a&&G===4){const j=n.fromBytes(R.subarray(0,n.BYTES)),V=n.fromBytes(R.subarray(n.BYTES,2*n.BYTES));return{x:j,y:V}}else{const j=o,V=a;throw new Error("invalid Point, expected length of "+j+", or uncompressed "+V+", got "+N)}}});function g(F){const N=r>>le;return F>N}function w(F){return g(F)?c(-F):F}const I=(F,N,G)=>kt(F.slice(N,G));class P{constructor(N,G,R){tn("r",N,le,r),tn("s",G,le,r),this.r=N,this.s=G,R!=null&&(this.recovery=R),Object.freeze(this)}static fromCompact(N){const G=s;return N=Oe("compactSignature",N,G*2),new P(I(N,0,G),I(N,G,2*G))}static fromDER(N){const{r:G,s:R}=dt.toSig(Oe("DER",N));return new P(G,R)}assertValidity(){}addRecoveryBit(N){return new P(this.r,this.s,N)}recoverPublicKey(N){const{r:G,s:R,recovery:j}=this,V=C(Oe("msgHash",N));if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");const q=j===2||j===3?G+t.n:G;if(q>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const J=j&1?"03":"02",ue=l.fromHex(J+Ss(q,n.BYTES)),ae=d(q),re=c(-V*ae),fe=c(R*ae),Ne=l.BASE.multiplyAndAddUnsafe(ue,re,fe);if(!Ne)throw new Error("point at infinify");return Ne.assertValidity(),Ne}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Ar(this.toDERHex())}toDERHex(){return dt.hexFromSig(this)}toCompactRawBytes(){return Ar(this.toCompactHex())}toCompactHex(){const N=s;return Ss(this.r,N)+Ss(this.s,N)}}const T={isValidPrivateKey(F){try{return h(F),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const F=I0(t.n);return Nm(t.randomBytes(F),t.n)},precompute(F=8,N=l.BASE){return N._setWindowSize(F),N.multiply(BigInt(3)),N}};function A(F,N=!0){return l.fromPrivateKey(F).toRawBytes(N)}function v(F){if(typeof F=="bigint")return!1;if(F instanceof l)return!0;const G=Oe("key",F).length,R=n.BYTES,j=R+1,V=2*R+1;if(!(t.allowedPrivateKeyLengths||s===j))return G===j||G===V}function B(F,N,G=!0){if(v(F)===!0)throw new Error("first arg must be private key");if(v(N)===!1)throw new Error("second arg must be public key");return l.fromHex(N).multiply(h(F)).toRawBytes(G)}const k=t.bits2int||function(F){if(F.length>8192)throw new Error("input is too large");const N=kt(F),G=F.length*8-i;return G>0?N>>BigInt(G):N},C=t.bits2int_modN||function(F){return c(k(F))},O=Wr(i);function U(F){return tn("num < 2^"+i,F,lt,O),or(F,s)}function H(F,N,G=M){if(["recovered","canonical"].some(_e=>_e in G))throw new Error("sign() legacy options not supported");const{hash:R,randomBytes:j}=t;let{lowS:V,prehash:q,extraEntropy:J}=G;V==null&&(V=!0),F=Oe("msgHash",F),ka(G),q&&(F=Oe("prehashed msgHash",R(F)));const ue=C(F),ae=h(N),re=[U(ae),U(ue)];if(J!=null&&J!==!1){const _e=J===!0?j(n.BYTES):J;re.push(Oe("extraEntropy",_e))}const fe=Br(...re),Ne=ue;function Ke(_e){const it=k(_e);if(!m(it))return;const mn=d(it),gt=l.BASE.multiply(it).toAffine(),ve=c(gt.x);if(ve===lt)return;const Me=c(mn*c(Ne+ve*ae));if(Me===lt)return;let $t=(gt.x===ve?0:2)|Number(gt.y&le),wt=Me;return V&&g(Me)&&(wt=w(Me),$t^=1),new P(ve,wt,$t)}return{seed:fe,k2sig:Ke}}const M={lowS:t.lowS,prehash:!1},L={lowS:t.lowS,prehash:!1};function z(F,N,G=M){const{seed:R,k2sig:j}=H(F,N,G),V=t;return qp(V.hash.outputLen,V.nByteLength,V.hmac)(R,j)}l.BASE._setWindowSize(8);function X(F,N,G,R=L){var $t;const j=F;N=Oe("msgHash",N),G=Oe("publicKey",G);const{lowS:V,prehash:q,format:J}=R;if(ka(R),"strict"in R)throw new Error("options.strict was renamed to lowS");if(J!==void 0&&J!=="compact"&&J!=="der")throw new Error("format must be compact or der");const ue=typeof j=="string"||ir(j),ae=!ue&&!J&&typeof j=="object"&&j!==null&&typeof j.r=="bigint"&&typeof j.s=="bigint";if(!ue&&!ae)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let re,fe;try{if(ae&&(re=new P(j.r,j.s)),ue){try{J!=="compact"&&(re=P.fromDER(j))}catch(wt){if(!(wt instanceof dt.Err))throw wt}!re&&J!=="der"&&(re=P.fromCompact(j))}fe=l.fromHex(G)}catch{return!1}if(!re||V&&re.hasHighS())return!1;q&&(N=t.hash(N));const{r:Ne,s:Ke}=re,_e=C(N),it=d(Ke),mn=c(_e*it),gt=c(Ne*it),ve=($t=l.BASE.multiplyAndAddUnsafe(fe,mn,gt))==null?void 0:$t.toAffine();return ve?c(ve.x)===Ne:!1}return{CURVE:t,getPublicKey:A,getSharedSecret:B,sign:z,verify:X,ProjectivePoint:l,Signature:P,utils:T}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qm(e){return{hash:e,hmac:(t,...n)=>uc(e,t,ff(...n)),randomBytes:df}}function Wm(e,t){const n=r=>Vm({...e,...qm(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ra=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Km=BigInt(0),Zm=BigInt(1),fi=BigInt(2),Fa=(e,t)=>(e+t/fi)/t;function Ym(e){const t=C0,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),d=e*e*e%t,l=d*d*e%t,h=Ce(l,n,t)*l%t,b=Ce(h,n,t)*l%t,m=Ce(b,fi,t)*d%t,g=Ce(m,s,t)*m%t,w=Ce(g,i,t)*g%t,I=Ce(w,a,t)*w%t,P=Ce(I,c,t)*I%t,T=Ce(P,a,t)*w%t,A=Ce(T,n,t)*l%t,v=Ce(A,o,t)*g%t,B=Ce(v,r,t)*d%t,k=Ce(B,fi,t);if(!di.eql(di.sqr(k),e))throw new Error("Cannot find square root");return k}const di=vo(C0,void 0,void 0,{sqrt:Ym}),k0=Wm({a:Km,b:BigInt(7),Fp:di,n:Ra,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ra,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Zm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=Fa(i*e,t),c=Fa(-r*e,t);let d=Ee(e-a*n-c*s,t),l=Ee(-a*r-c*i,t);const h=d>o,b=l>o;if(h&&(d=t-d),b&&(l=t-l),d>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:d,k2neg:b,k2:l}}}},Wa),Jm=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:k0},Symbol.toStringTag,{value:"Module"}));function R0(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Cs({signature:e});if(typeof e.s>"u")throw new Cs({signature:e});if(n&&typeof e.yParity>"u")throw new Cs({signature:e});if(e.r<0n||e.r>Ba)throw new sy({value:e.r});if(e.s<0n||e.s>Ba)throw new iy({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Po({value:e.yParity})}function Xm(e){return F0(De(e))}function F0(e){if(e.length!==130&&e.length!==132)throw new ry({signature:e});const t=BigInt(et(e,0,32)),n=BigInt(et(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Eo(s)}catch{throw new Po({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function Qm(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return ey(e)}function ey(e){const t=typeof e=="string"?F0(e):e instanceof Uint8Array?Xm(e):typeof e.r=="string"?ny(e):e.v?ty(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return R0(t),t}function ty(e){return{r:e.r,s:e.s,yParity:Eo(e.v)}}function ny(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Eo(n)),typeof r!="number")throw new Po({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Eo(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new oy({value:e})}class ry extends Z{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Se(y1(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Cs extends Z{constructor({signature:t}){super(`Signature \`${_u(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class sy extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class iy extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Po extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class oy extends Z{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function ay(e,t={}){return typeof e.chainId=="string"?cy(e):{...e,...t.signature}}function cy(e){const{address:t,chainId:n,nonce:r}=e,s=Qm(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const uy="0x8010801080108010801080108010801080108010801080108010801080108010",fy=m0("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function O0(e){if(typeof e=="string"){if(et(e,-32)!==uy)throw new hy(e)}else R0(e.authorization)}function dy(e){O0(e);const t=ju(et(e,-64,-32)),n=et(e,-t-64,-64),r=et(e,0,-t-64),[s,i,o]=Pm(fy,n);return{authorization:ay({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function ly(e){try{return O0(e),!0}catch{return!1}}let hy=class extends Z{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function py(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function by(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?nt(e.nonce):void 0,storageProof:e.storageProof?py(e.storageProof):void 0}}async function my(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?_(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return by(a)}async function yy(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?_(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function Ao(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i,sender:o,nonce:a}){var b,m,g;const c=r||"latest",d=n!==void 0?_(n):void 0;let l=null;if(s?l=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,_(i)]},{dedupe:!0}):typeof i=="number"?l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[d||c,_(i)]},{dedupe:!!d}):o&&typeof a=="number"&&(l=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[o,_(a)]},{dedupe:!0})),!l)throw new ou({blockHash:t,blockNumber:n,blockTag:c,hash:s,index:i});return(((g=(m=(b=e.chain)==null?void 0:b.formatters)==null?void 0:m.transaction)==null?void 0:g.format)||Vr)(l,"getTransaction")}async function gy(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([W(e,ur,"getBlockNumber")({}),t?W(e,Ao,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function vr(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new au({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||uo)(n,"getTransactionReceipt")}async function wy(e,t){var T;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,d=t.contracts,{batchSize:l=t.batchSize??1024,deployless:h=t.deployless??!1}=typeof((T=e.batch)==null?void 0:T.multicall)=="object"?e.batch.multicall:{},b=(()=>{if(t.multicallAddress)return t.multicallAddress;if(h)return null;if(e.chain)return bn({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),m=[[]];let g=0,w=0;for(let A=0;A<d.length;A++){const{abi:v,address:B,args:k,functionName:C}=d[A];try{const O=We({abi:v,args:k,functionName:C});w+=(O.length-2)/2,l>0&&w>l&&m[g].length>0&&(g++,w=(O.length-2)/2,m[g]=[]),m[g]=[...m[g],{allowFailure:!0,callData:O,target:B}]}catch(O){const U=un(O,{abi:v,address:B,args:k,docsPath:"/docs/contract/multicall",functionName:C,sender:n});if(!s)throw U;m[g]=[...m[g],{allowFailure:!0,callData:"0x",target:B}]}}const I=await Promise.allSettled(m.map(A=>W(e,He,"readContract")({...b===null?{code:ao}:{address:b},abi:Ir,account:n,args:[A],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),P=[];for(let A=0;A<I.length;A++){const v=I[A];if(v.status==="rejected"){if(!s)throw v.reason;for(let k=0;k<m[A].length;k++)P.push({status:"failure",error:v.reason,result:void 0});continue}const B=v.value;for(let k=0;k<B.length;k++){const{returnData:C,success:O}=B[k],{callData:U}=m[A][k],{abi:H,address:M,functionName:L,args:z}=d[P.length];try{if(U==="0x")throw new tr;if(!O)throw new jr({data:C});const X=jt({abi:H,args:z,data:C,functionName:L});P.push(s?{result:X,status:"success"}:X)}catch(X){const F=un(X,{abi:H,address:M,args:z,docsPath:"/docs/contract/multicall",functionName:L});if(!s)throw F;P.push({error:F,result:void 0,status:"failure"})}}}if(P.length!==d.length)throw new S("multicall results mismatch");return P}async function li(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const b of s){const m=b.blockOverrides?Gu(b.blockOverrides):void 0,g=b.calls.map(I=>{const P=I,T=P.account?qe(P.account):void 0,A=P.abi?We(P):P.data,v={...P,account:T,data:P.dataSuffix?st([A||"0x",P.dataSuffix]):A,from:P.from??(T==null?void 0:T.address)};return sr(v),Hr(v)}),w=b.stateOverrides?qi(b.stateOverrides):void 0;c.push({blockOverrides:m,calls:g,stateOverrides:w})}const l=(typeof n=="bigint"?_(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},l]})).map((b,m)=>({...Ki(b),calls:b.calls.map((g,w)=>{var H,M;const{abi:I,args:P,functionName:T,to:A}=s[m].calls[w],v=((H=g.error)==null?void 0:H.data)??g.returnData,B=BigInt(g.gasUsed),k=(M=g.logs)==null?void 0:M.map(L=>mt(L)),C=g.status==="0x1"?"success":"failure",O=I&&C==="success"&&v!=="0x"?jt({abi:I,data:v,functionName:T}):null,U=(()=>{var z;if(C==="success")return;let L;if(((z=g.error)==null?void 0:z.data)==="0x"?L=new tr:g.error&&(L=new jr(g.error)),!!L)return un(L,{abi:I??[],address:A??"0x",args:P,functionName:T??"<unknown>"})})();return{data:v,gasUsed:B,logs:k,status:C,...C==="success"?{result:O}:{error:U}}})}))}catch(c){const d=c,l=Hi(d,{});throw l instanceof Dr?d:l}}function hi(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new Z("Unable to normalize signature.");return s}function pi(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ii(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>pi(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>pi(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function N0(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return N0(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ii(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ii(n[r],{strict:!1}):!1)return o}}function _0(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Go(e):e;return{...r,...n?{hash:Jt(r)}:{}}}function rs(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=g1(t,{strict:!1}),o=e.filter(d=>i?d.type==="function"||d.type==="error"?M0(d)===et(t,0,4):d.type==="event"?Jt(d)===t:!1:"name"in d&&d.name===t);if(o.length===0)throw new $r({name:t});if(o.length===1)return{...o[0],...s?{hash:Jt(o[0])}:{}};let a;for(const d of o){if(!("inputs"in d))continue;if(!r||r.length===0){if(!d.inputs||d.inputs.length===0)return{...d,...s?{hash:Jt(d)}:{}};continue}if(!d.inputs||d.inputs.length===0||d.inputs.length!==r.length)continue;if(r.every((h,b)=>{const m="inputs"in d&&d.inputs[b];return m?pi(h,m):!1})){if(a&&"inputs"in a&&a.inputs){const h=N0(d.inputs,a.inputs,r);if(h)throw new vy({abiItem:d,type:h[0]},{abiItem:a,type:h[1]})}a=d}}const c=(()=>{if(a)return a;const[d,...l]=o;return{...d,overloads:l}})();if(!c)throw new $r({name:t});return{...c,...s?{hash:Jt(c)}:{}}}function M0(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return rs(n,r)}return e[0]})();return et(Jt(t),0,4)}function xy(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return rs(r,s)}return e[0]})(),n=typeof t=="string"?t:Pr(t);return hi(n)}function Jt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return rs(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:h0(oo(xy(t)))}class vy extends Z{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${hi(Pr(t.abiItem))}\`, and`,`\`${n.type}\` in \`${hi(Pr(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class $r extends Z{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Ey(...e){var i;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[Ay(o),a]}return e})(),{bytecode:r,args:s}=n;return je(r,(i=t.inputs)!=null&&i.length&&(s!=null&&s.length)?wo(t.inputs,s):"0x")}function Py(e){return _0(e)}function Ay(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new $r({name:"constructor"});return t}function By(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[d,l,h]=e;return[Oa(d,l,{args:h}),h]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?Oa([t,...r],t.name,{args:n}):t,i=Iy(s),o=n.length>0?wo(s.inputs,n):void 0;return o?je(i,o):i}function Vt(e,t={}){return _0(e,t)}function Oa(e,t,n){const r=rs(e,t,n);if(r.type!=="function")throw new $r({name:t,type:"function"});return r}function Iy(e){return M0(e)}const $y="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Je="0x0000000000000000000000000000000000000000",Sy="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Ty(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,d=t.account?qe(t.account):void 0;if(o&&!d)throw new S("`account` is required when `traceAssetChanges` is true");const l=d?Ey(Py("constructor(bytes, bytes)"),{bytecode:Ku,args:[Sy,By(Vt("function getBalance(address)"),[d.address])]}):void 0,h=o?await Promise.all(t.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:j}=await i0(e,{account:d.address,...R,data:R.abi?We(R):R.data});return j.map(({address:V,storageKeys:q})=>q.length>0?V:null)})).then(R=>R.flat().filter(Boolean)):[],b=await li(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:l}],stateOverrides:i},{calls:h.map((R,j)=>({abi:[Vt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:R,from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]}]:[],{calls:[...s,{}].map(R=>({...R,from:d==null?void 0:d.address})),stateOverrides:i},...o?[{calls:[{data:l}]},{calls:h.map((R,j)=>({abi:[Vt("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[d.address],to:R,from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]},{calls:h.map((R,j)=>({to:R,abi:[Vt("function decimals() returns (uint256)")],functionName:"decimals",from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]},{calls:h.map((R,j)=>({to:R,abi:[Vt("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]},{calls:h.map((R,j)=>({to:R,abi:[Vt("function symbol() returns (string)")],functionName:"symbol",from:Je,nonce:j})),stateOverrides:[{address:Je,nonce:0}]}]:[]],traceTransfers:a,validation:c}),m=o?b[2]:b[0],[g,w,,I,P,T,A,v]=o?b:[],{calls:B,...k}=m,C=B.slice(0,-1)??[],O=(g==null?void 0:g.calls)??[],U=(w==null?void 0:w.calls)??[],H=[...O,...U].map(R=>R.status==="success"?ye(R.data):null),M=(I==null?void 0:I.calls)??[],L=(P==null?void 0:P.calls)??[],z=[...M,...L].map(R=>R.status==="success"?ye(R.data):null),X=((T==null?void 0:T.calls)??[]).map(R=>R.status==="success"?R.result:null),F=((v==null?void 0:v.calls)??[]).map(R=>R.status==="success"?R.result:null),N=((A==null?void 0:A.calls)??[]).map(R=>R.status==="success"?R.result:null),G=[];for(const[R,j]of z.entries()){const V=H[R];if(typeof j!="bigint"||typeof V!="bigint")continue;const q=X[R-1],J=F[R-1],ue=N[R-1],ae=R===0?{address:$y,decimals:18,symbol:"ETH"}:{address:h[R-1],decimals:ue||q?Number(q??1):void 0,symbol:J??void 0};G.some(re=>re.token.address===ae.address)||G.push({token:ae,value:{pre:V,post:j,diff:j-V}})}return{assetChanges:G,block:k,results:C}}const z0="0x6492649264926492649264926492649264926492649264926492649264926492";function Cy(e){if(et(e,-32)!==z0)throw new Fy(e)}function ky(e){const{data:t,signature:n,to:r}=e;return je(wo(m0("address, bytes, bytes"),[r,t,n]),z0)}function Ry(e){try{return Cy(e),!0}catch{return!1}}class Fy extends Z{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Oy({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new k0.Signature(ye(e),ye(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:rt(o)}async function ss(e,t){var a,c,d,l,h,b;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((d=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:d.address),multicallAddress:i=t.multicallAddress??((b=(h=(l=e.chain)==null?void 0:l.contracts)==null?void 0:h.multicall3)==null?void 0:b.address)}=t,o=(()=>{const m=t.signature;return tt(m)?m:typeof m=="object"&&"r"in m&&"s"in m?Oy(m):oe(m)})();try{return ly(o)?await Ny(e,{...t,multicallAddress:i,signature:o}):await _y(e,{...t,verifierAddress:s,signature:o})}catch(m){try{if(qr(Kc(n),await du({hash:r,signature:o})))return!0}catch{}if(m instanceof Ut)return!1;throw m}}async function Ny(e,t){var I;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:d,to:l}=dy(t.signature);if(await si(e,{address:n,blockNumber:r,blockTag:s})===Ve(["0xef0100",a.address]))return await My(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:d});const b={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:_(a.r,{size:32}),s:_(a.s,{size:32}),yParity:a.yParity};if(!await kb({address:n,authorization:b}))throw new Ut;const g=await W(e,He,"readContract")({...o?{address:o}:{code:ao},authorizationList:[b],abi:Ir,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:l??n,callData:c}]:[],{allowFailure:!0,target:n,callData:We({abi:Wu,functionName:"isValidSignature",args:[i,d]})}]]}),w=(I=g[g.length-1])==null?void 0:I.returnData;if(w!=null&&w.startsWith("0x1626ba7e"))return!0;throw new Ut}async function _y(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,d=await(async()=>!r&&!s||Ry(o)?o:ky({data:s,signature:o,to:r}))(),l=a?{to:a,data:We({abi:wa,functionName:"isValidSig",args:[n,i,d]}),...c}:{data:co({abi:wa,args:[n,i,d],bytecode:B1}),...c},{data:h}=await W(e,Jr,"call")(l).catch(b=>{throw b instanceof cu?new Ut:b});if(ph(h??"0x0"))return!0;throw new Ut}async function My(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await W(e,He,"readContract")({address:n,abi:Wu,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof uu?new Ut:c})).startsWith("0x1626ba7e"))return!0;throw new Ut}class Ut extends Error{}async function zy(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=c0(n);return ss(e,{address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function Uy(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:d,...l}=t,h=Wb({message:o,primaryType:a,types:c,domain:d});return ss(e,{address:n,factory:r,factoryData:s,hash:h,signature:i,...l})}function U0(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const h=be(["watchBlockNumber",e.uid,t,n,o]);return Bt(h,{onBlockNumber:r,onError:s},b=>cr(async()=>{var m;try{const g=await W(e,ur,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(g===c)return;if(g-c>1&&n)for(let w=c+1n;w<g;w++)b.onBlockNumber(w,c),c=w}(c===void 0||g>c)&&(b.onBlockNumber(g,c),c=g)}catch(g){(m=b.onError)==null||m.call(b,g)}},{emitOnBegin:t,interval:o}))})():(()=>{const h=be(["watchBlockNumber",e.uid,t,n]);return Bt(h,{onBlockNumber:r,onError:s},b=>{let m=!0,g=()=>m=!1;return(async()=>{try{const w=(()=>{if(e.transport.type==="fallback"){const P=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return P?P.value:e.transport}return e.transport})(),{unsubscribe:I}=await w.subscribe({params:["newHeads"],onData(P){var A;if(!m)return;const T=ye((A=P.result)==null?void 0:A.number);b.onBlockNumber(T,c),c=T},onError(P){var T;(T=b.onError)==null||T.call(b,P)}});g=I,m||g()}catch(w){s==null||s(w)}})(),()=>g()})})()}async function Ly(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:B})=>~~(1<<B)*200,timeout:c=18e4}=t,d=be(["waitForTransactionReceipt",e.uid,s]),l=(()=>{var B;return t.pollingInterval?t.pollingInterval:(B=e.chain)!=null&&B.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let h,b,m,g=!1,w,I;const{promise:P,resolve:T,reject:A}=Ju(),v=c?setTimeout(()=>{I==null||I(),w==null||w(),A(new cp({hash:s}))},c):void 0;return w=Bt(d,{onReplaced:i,resolve:T,reject:A},async B=>{if(m=await W(e,vr,"getTransactionReceipt")({hash:s}).catch(()=>{}),m&&r<=1){clearTimeout(v),B.resolve(m),w==null||w();return}I=W(e,U0,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber(k){const C=U=>{clearTimeout(v),I==null||I(),U(),w==null||w()};let O=k;if(!g)try{if(m){if(r>1&&(!m.blockNumber||O-m.blockNumber+1n<r))return;C(()=>B.resolve(m));return}if(n&&!h&&(g=!0,await ti(async()=>{h=await W(e,Ao,"getTransaction")({hash:s}),h.blockNumber&&(O=h.blockNumber)},{delay:a,retryCount:o}),g=!1),m=await W(e,vr,"getTransactionReceipt")({hash:s}),r>1&&(!m.blockNumber||O-m.blockNumber+1n<r))return;C(()=>B.resolve(m))}catch(U){if(U instanceof ou||U instanceof au){if(!h){g=!1;return}try{b=h,g=!0;const H=await ti(()=>W(e,Qe,"getBlock")({blockNumber:O,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:z})=>z instanceof bu});g=!1;const M=H.transactions.find(({from:z,nonce:X})=>z===b.from&&X===b.nonce);if(!M||(m=await W(e,vr,"getTransactionReceipt")({hash:M.hash}),r>1&&(!m.blockNumber||O-m.blockNumber+1n<r)))return;let L="replaced";M.to===b.to&&M.value===b.value&&M.input===b.input?L="repriced":M.from===M.to&&M.value===0n&&(L="cancelled"),C(()=>{var z;(z=B.onReplaced)==null||z.call(B,{reason:L,replacedTransaction:b,transaction:M,transactionReceipt:m}),B.resolve(m)})}catch(H){C(()=>B.reject(H))}}else C(()=>B.reject(U))}}})}),P}function jy(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const d=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),l=o??!1;let h;return d?(()=>{const g=be(["watchBlocks",e.uid,t,n,r,l,c]);return Bt(g,{onBlock:s,onError:i},w=>cr(async()=>{var I;try{const P=await W(e,Qe,"getBlock")({blockTag:t,includeTransactions:l});if(P.number!==null&&(h==null?void 0:h.number)!=null){if(P.number===h.number)return;if(P.number-h.number>1&&n)for(let T=(h==null?void 0:h.number)+1n;T<P.number;T++){const A=await W(e,Qe,"getBlock")({blockNumber:T,includeTransactions:l});w.onBlock(A,h),h=A}}((h==null?void 0:h.number)==null||t==="pending"&&(P==null?void 0:P.number)==null||P.number!==null&&P.number>h.number)&&(w.onBlock(P,h),h=P)}catch(P){(I=w.onError)==null||I.call(w,P)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,w=!0,I=()=>g=!1;return(async()=>{try{r&&W(e,Qe,"getBlock")({blockTag:t,includeTransactions:l}).then(A=>{g&&w&&(s(A,void 0),w=!1)}).catch(i);const P=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(v=>v.config.type==="webSocket"||v.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),{unsubscribe:T}=await P.subscribe({params:["newHeads"],async onData(A){var B;if(!g)return;const v=await W(e,Qe,"getBlock")({blockNumber:(B=A.result)==null?void 0:B.number,includeTransactions:l}).catch(()=>{});g&&(s(v,h),w=!1,h=v)},onError(A){i==null||i(A)}});I=T,g||I()}catch(P){i==null||i(P)}})(),()=>I()})()}function Dy(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:d,pollingInterval:l=e.pollingInterval,strict:h}){const b=typeof d<"u"?d:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),m=h??!1;return b?(()=>{const I=be(["watchEvent",t,n,r,e.uid,s,l,o]);return Bt(I,{onLogs:c,onError:a},P=>{let T;o!==void 0&&(T=o-1n);let A,v=!1;const B=cr(async()=>{var k;if(!v){try{A=await W(e,o0,"createEventFilter")({address:t,args:n,event:s,events:i,strict:m,fromBlock:o})}catch{}v=!0;return}try{let C;if(A)C=await W(e,Xr,"getFilterChanges")({filter:A});else{const O=await W(e,ur,"getBlockNumber")({});T&&T!==O?C=await W(e,no,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:T+1n,toBlock:O}):C=[],T=O}if(C.length===0)return;if(r)P.onLogs(C);else for(const O of C)P.onLogs([O])}catch(C){A&&C instanceof Nt&&(v=!1),(k=P.onError)==null||k.call(P,C)}},{emitOnBegin:!0,interval:l});return async()=>{A&&await W(e,Qr,"uninstallFilter")({filter:A}),B()}})})():(()=>{let I=!0,P=()=>I=!1;return(async()=>{try{const T=(()=>{if(e.transport.type==="fallback"){const k=e.transport.transports.find(C=>C.config.type==="webSocket"||C.config.type==="ipc");return k?k.value:e.transport}return e.transport})(),A=i??(s?[s]:void 0);let v=[];A&&(v=[A.flatMap(C=>rr({abi:[C],eventName:C.name,args:n}))],s&&(v=v[0]));const{unsubscribe:B}=await T.subscribe({params:["logs",{address:t,topics:v}],onData(k){var O;if(!I)return;const C=k.result;try{const{eventName:U,args:H}=eo({abi:A??[],data:C.data,topics:C.topics,strict:m}),M=mt(C,{args:H,eventName:U});c([M])}catch(U){let H,M;if(U instanceof $n||U instanceof _r){if(h)return;H=U.abiItem.name,M=(O=U.abiItem.inputs)==null?void 0:O.some(z=>!("name"in z&&z.name))}const L=mt(C,{args:M?[]:{},eventName:H});c([L])}},onError(k){a==null||a(k)}});P=B,I||P()}catch(T){a==null||a(T)}})(),()=>P()})()}function Hy(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const d=be(["watchPendingTransactions",e.uid,t,i]);return Bt(d,{onTransactions:r,onError:n},l=>{let h;const b=cr(async()=>{var m;try{if(!h)try{h=await W(e,a0,"createPendingTransactionFilter")({});return}catch(w){throw b(),w}const g=await W(e,Xr,"getFilterChanges")({filter:h});if(g.length===0)return;if(t)l.onTransactions(g);else for(const w of g)l.onTransactions([w])}catch(g){(m=l.onError)==null||m.call(l,g)}},{emitOnBegin:!0,interval:i});return async()=>{h&&await W(e,Qr,"uninstallFilter")({filter:h}),b()}})})():(()=>{let d=!0,l=()=>d=!1;return(async()=>{try{const{unsubscribe:h}=await e.transport.subscribe({params:["newPendingTransactions"],onData(b){if(!d)return;const m=b.result;r([m])},onError(b){n==null||n(b)}});l=h,d||l()}catch(h){n==null||n(h)}})(),()=>l()})()}function Gy(e){var h,b,m;const{scheme:t,statement:n,...r}=((h=e.match(Vy))==null?void 0:h.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...d}=((b=e.match(qy))==null?void 0:b.groups)??{},l=(m=e.split("Resources:")[1])==null?void 0:m.split(`
- `).slice(1);return{...r,...d,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const Vy=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,qy=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Wy(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!ce(r.address,{strict:!1})||t&&!qr(r.address,t))return!1}catch{return!1}return!0}async function Ky(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...d}=t,l=Gy(s);if(!l.address||!Wy({address:n,domain:r,message:l,nonce:i,scheme:o,time:c}))return!1;const b=c0(s);return ss(e,{address:l.address,hash:b,signature:a,...d})}async function Zy(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,d;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,_(r)]:[t]},{retryCount:0}),o=(((d=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:d.format)||uo)(s);if(o.status==="reverted"&&n)throw new ap({receipt:o});return o}function Yy(e){return{call:t=>Jr(e,t),createAccessList:t=>i0(e,t),createBlockFilter:()=>fb(e),createContractEventFilter:t=>eu(e,t),createEventFilter:t=>o0(e,t),createPendingTransactionFilter:()=>a0(e),estimateContractGas:t=>jp(e,t),estimateGas:t=>Qi(e,t),getBalance:t=>db(e,t),getBlobBaseFee:()=>lb(e),getBlock:t=>Qe(e,t),getBlockNumber:t=>ur(e,t),getBlockTransactionCount:t=>hb(e,t),getBytecode:t=>si(e,t),getChainId:()=>Iu(e),getCode:t=>si(e,t),getContractEvents:t=>Su(e,t),getEip712Domain:t=>bb(e,t),getEnsAddress:t=>K1(e,t),getEnsAvatar:t=>ab(e,t),getEnsName:t=>cb(e,t),getEnsResolver:t=>ub(e,t),getEnsText:t=>s0(e,t),getFeeHistory:t=>gb(e,t),estimateFeesPerGas:t=>Fp(e,t),getFilterChanges:t=>Xr(e,t),getFilterLogs:t=>wb(e,t),getGasPrice:()=>Zi(e),getLogs:t=>no(e,t),getProof:t=>my(e,t),estimateMaxPriorityFeePerGas:t=>Rp(e,t),getStorageAt:t=>yy(e,t),getTransaction:t=>Ao(e,t),getTransactionConfirmations:t=>gy(e,t),getTransactionCount:t=>gu(e,t),getTransactionReceipt:t=>vr(e,t),multicall:t=>wy(e,t),prepareTransactionRequest:t=>$u(e,t),readContract:t=>He(e,t),sendRawTransaction:t=>z1(e,t),sendRawTransactionSync:t=>Zy(e,t),simulate:t=>li(e,t),simulateBlocks:t=>li(e,t),simulateCalls:t=>Ty(e,t),simulateContract:t=>C1(e,t),verifyHash:t=>ss(e,t),verifyMessage:t=>zy(e,t),verifySiweMessage:t=>Ky(e,t),verifyTypedData:t=>Uy(e,t),uninstallFilter:t=>Qr(e,t),waitForTransactionReceipt:t=>Ly(e,t),watchBlocks:t=>jy(e,t),watchBlockNumber:t=>U0(e,t),watchContractEvent:t=>M1(e,t),watchEvent:t=>Dy(e,t),watchPendingTransactions:t=>Hy(e,t)}}function Jy(e){const{key:t="public",name:n="Public Client"}=e;return j1({...e,key:t,name:n,type:"publicClient"}).extend(Yy)}function Xy({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const d=e0();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Fb(r,{methods:t,retryCount:s,retryDelay:i,uid:d}),value:c}}function Qy(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:d,retryDelay:l,raw:h}=t;return({chain:b,retryCount:m,timeout:g})=>{const{batchSize:w=1e3,wait:I=0}=typeof n=="object"?n:{},P=t.retryCount??m,T=g??t.timeout??1e4,A=e,v=zb(A,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:d,timeout:T});return Xy({key:i,methods:o,name:a,async request({method:B,params:k}){const C={method:B,params:k},{schedule:O}=Xu({id:A,wait:I,shouldSplitBatch(L){return L.length>w},fn:L=>v.request({body:L}),sort:(L,z)=>L.id-z.id}),U=async L=>n?O(L):[await v.request({body:L})],[{error:H,result:M}]=await U(C);if(h)return{error:H,result:M};if(H)throw new Di({body:C,error:H,url:A});return M},retryCount:P,retryDelay:l,timeout:T,type:"http"},{fetchOptions:s,url:A})}}const eg={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},tg={block:kp({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Vr(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?ye(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:Tp({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?ye(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:L1({format(e){return{l1GasPrice:e.l1GasPrice?ye(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?ye(e.l1GasUsed):null,l1Fee:e.l1Fee?ye(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function ng(e,t){return ig(e)?sg(e):Ab(e,t)}const rg={transaction:ng};function sg(e){og(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=e,d=[t,r,a??"0x",o?$e(o):"0x",c?$e(c):"0x",s?$e(s):"0x",i?"0x1":"0x",n??"0x"];return Ve(["0x7e",At(d)])}function ig(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function og(e){const{from:t,to:n}=e;if(t&&!ce(t))throw new we({address:t});if(n&&!ce(n))throw new we({address:n})}const Na={blockTime:2e3,contracts:eg,formatters:tg,serializers:rg},xn=1,ag=Nb({...Na,id:480,name:"World Chain",network:"worldchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan",url:"https://worldscan.org",apiUrl:"https://api.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-mainnet.explorer.alchemy.com",apiUrl:"https://worldchain-mainnet.explorer.alchemy.com/api"}},contracts:{...Na.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[xn]:{address:"0x069c4c579671f8c120b1327a73217D01Ea2EC5ea"}},l2OutputOracle:{[xn]:{address:"0x19A6d1E9034596196295CF148509796978343c5D"}},portal:{[xn]:{address:"0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C"}},l1StandardBridge:{[xn]:{address:"0x470458C91978D2d929704489Ad730DC3E3001113"}}},testnet:!1,sourceId:xn});Re.VerificationRejected+"",Re.MaxVerificationsReached+"",Re.CredentialUnavailable+"",Re.MalformedRequest+"",Re.InvalidNetwork+"",Re.InclusionProofFailed+"",Re.InclusionProofPending+"",Re.UnexpectedResponse+"",Re.FailedByHostApp+"",Re.GenericError+"",Re.ConnectionFailed+"";var vn={unknown:"Failed to install MiniKit.",already_installed:"MiniKit is already installed.",outside_of_worldapp:"MiniApp launched outside of WorldApp.",app_out_of_date:"WorldApp is out of date. Please update the app."},cg=e=>{if(e.tokens.some(t=>t.symbol=="USDCE"&&parseFloat(t.token_amount)<.1))return console.error("USDC amount should be greater than $0.1"),!1;if(e.reference.length>36)return console.error("Reference must not exceed 36 characters"),!1;if(typeof e.reference!="string")throw new Error("Reference must be a string");return!0},ug=e=>{let t="";return e.scheme?t+=`${e.scheme}://${e.domain} wants you to sign in with your Ethereum account:
`:t+=`${e.domain} wants you to sign in with your Ethereum account:
`,e.address?t+=`${e.address}
`:t+=`{address}
`,t+=`
`,e.statement&&(t+=`${e.statement}
`),t+=`
`,t+=`URI: ${e.uri}
`,t+=`Version: ${e.version}
`,t+=`Chain ID: ${e.chain_id}
`,t+=`Nonce: ${e.nonce}
`,t+=`Issued At: ${e.issued_at}
`,e.expiration_time&&(t+=`Expiration Time: ${e.expiration_time}
`),e.not_before&&(t+=`Not Before: ${e.not_before}
`),e.request_id&&(t+=`Request ID: ${e.request_id}
`),t},Pn=e=>{var t,n,r,s,i,o;window.webkit?(s=(r=(n=(t=window.webkit)==null?void 0:t.messageHandlers)==null?void 0:n.minikit)==null?void 0:r.postMessage)==null||s.call(r,e):window.Android&&((o=(i=window.Android).postMessage)==null||o.call(i,JSON.stringify(e)))},_a=!1,fg=()=>{var i;if(_a||typeof navigator<"u"&&!((i=navigator.mediaDevices)!=null&&i.getUserMedia))return;const e=MediaStreamTrack.prototype.stop;MediaStreamTrack.prototype.stop=function(){e.call(this),this.readyState==="ended"&&setTimeout(()=>this.dispatchEvent(new Event("ended")),0)};const t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices),n=new Set;async function r(o){const a=await t(o);return a.getAudioTracks().length>0&&(Pn({command:"microphone-stream-started",version:1,payload:{streamId:a.id}}),n.add(a),a.getAudioTracks().forEach(d=>{d.addEventListener("ended",()=>{a.getAudioTracks().every(h=>h.readyState==="ended")&&(Pn({command:"microphone-stream-ended",version:1,payload:{streamId:a.id}}),n.delete(a))})})),a}Object.defineProperty(navigator.mediaDevices,"getUserMedia",{value:r,writable:!1,configurable:!1,enumerable:!0}),Object.freeze(navigator.mediaDevices);const s=()=>{n.forEach(o=>{const a=o.getAudioTracks();a.length>0&&(a.forEach(c=>{c.stop()}),Pn({command:"microphone-stream-ended",version:1,payload:{streamId:o.id}}))}),n.clear()};Kt.subscribe("miniapp-microphone",o=>{o.status==="error"&&(o.error_code==="mini_app_permission_not_enabled"||o.error_code==="world_app_permission_not_enabled")&&(console.log("stopping all microphone streams",o),s())}),window.__stopAllMiniAppMicrophoneStreams=s,_a=!0},dg="0x79f46b94d134109EbcbbddBAeD0E88790409A0e4",lg=[{inputs:[{internalType:"uint256[8]",name:"proof",type:"uint256[8]"}],name:"compressProof",outputs:[{internalType:"uint256[4]",name:"compressed",type:"uint256[4]"}],stateMutability:"view",type:"function"}],L0=async(e,t)=>{try{const n=Jy({chain:ag,transport:Qy(t||"https://worldchain-mainnet.g.alchemy.com/public")}),r=pn([{type:"uint256[8]"}],e)[0],i=[...await n.readContract({address:dg,abi:lg,functionName:"compressProof",args:[r]}),0n,0n,0n,0n];return It([{type:"uint256[8]"}],[i])}catch{return e}},Ma=10,j0=50,hg=j0*1024*1024,pg=async e=>{const t=await e.arrayBuffer(),n=new Uint8Array(t);let r="";const s=32768;for(let o=0;o<n.length;o+=s){const a=n.subarray(o,Math.min(o+s,n.length));r+=String.fromCharCode.apply(null,Array.from(a))}const i=btoa(r);return{name:e.name,type:e.type,data:i}},bg=async e=>{if(!e.files)return{title:e.title,text:e.text,url:e.url};if(!Array.isArray(e.files))throw new Error('The "files" property must be an array.');if(e.files.length!==0){if(e.files.length>Ma)throw new Error(`Cannot share more than ${Ma} files.`);let r=0;for(const s of e.files){if(!(s instanceof File))throw new Error(`Each item in the 'files' array must be a File object. Received: ${typeof s}`);r+=s.size}if(r>hg)throw new Error(`Total file size cannot exceed ${j0}MB.`)}const t=e.files.map(r=>pg(r));return{files:await Promise.all(t),title:e.title,text:e.text,url:e.url}},mg=e=>e.nonce?e.nonce.length<8?{valid:!1,message:"'nonce' must be at least 8 characters"}:e.statement&&e.statement.includes(`
`)?{valid:!1,message:"'statement' must not contain newlines"}:e.expirationTime&&new Date(e.expirationTime)<new Date?{valid:!1,message:"'expirationTime' must be in the future"}:e.expirationTime&&new Date(e.expirationTime)>new Date(Date.now()+7*24*60*60*1e3)?{valid:!1,message:"'expirationTime' must be within 7 days"}:e.notBefore&&new Date(e.notBefore)>new Date(Date.now()+7*24*60*60*1e3)?{valid:!1,message:"'notBefore' must be within 7 days"}:{valid:!0}:{valid:!1,message:"'nonce' is required"},yg=e=>/^0x[0-9A-Fa-f]+$/.test(e),bi=e=>e===null||typeof e!="object"?e:Array.isArray(e)?e.map(n=>bi(n)):Object.values(e).map(n=>bi(n)),mi=e=>{if(typeof e=="boolean"||typeof e=="string"||e===null||e===void 0)return e;if(typeof e=="number"||typeof e=="bigint")return String(e);if(Array.isArray(e))return e.map(t=>mi(t));if(typeof e=="object"){const t={...e};if("value"in t&&t.value!==void 0&&(typeof t.value!="string"&&(t.value=String(t.value)),!yg(t.value)))throw console.error("Transaction value must be a valid hex string",t.value),new Error(`Transaction value must be a valid hex string: ${t.value}`);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=mi(t[n]));return t}return e},gg=e=>{if(e.formatPayload){const t=mi(e);return t.transaction=t.transaction.map(n=>{const r=bi(n.args);return{...n,args:r}}),t}return e},wg=async e=>{const n=await(await fetch("https://usernames.worldcoin.org/api/v1/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:[e]})})).json();return(n==null?void 0:n[0])??{username:null,profile_picture_url:null}},ke=e=>{Pn(e)},D=class he{static sendInit(){Pn({command:"init",payload:{version:this.MINIKIT_VERSION,minorVersion:this.MINIKIT_MINOR_VERSION}})}static subscribe(t,n){if(t==="miniapp-wallet-auth"){const r=n,s=async i=>{if(i.status==="success"){he.user.walletAddress=i.address;try{const o=await he.getUserByAddress(i.address);he.user={...he.user,...o}}catch(o){console.error("Failed to fetch user profile:",o)}}r(i)};this.listeners[t]=s}else if(t==="miniapp-verify-action"){const r=n,s=i=>{i.status==="success"&&i.verification_level===er.Orb?L0(i.proof).then(o=>{i.proof=o,r(i)}):r(i)};this.listeners[t]=s}else this.listeners[t]=n}static unsubscribe(t){delete this.listeners[t]}static trigger(t,n){if(!this.listeners[t]){console.error(`No handler for event ${t}, payload: ${JSON.stringify(n)}`);return}this.listeners[t](n)}static async awaitCommand(t,n,r){return new Promise(s=>{let i=null;const o=a=>{this.unsubscribe(t),s({commandPayload:i,finalPayload:a})};this.subscribe(t,o),i=r()})}static commandsValid(t){let n=!0;return Object.entries(this.miniKitCommandVersion).forEach(([r,s])=>{const i=t.find(a=>a.name===r);let o=!1;i?i.supported_versions.includes(s)?(he.isCommandAvailable[r]=!0,o=!0):(o=!0,console.warn(`Command ${r} version ${s} is not supported by the app. Supported versions: ${i.supported_versions.join(", ")}. This is not an error, but it is recommended to update the World App version.`),he.isCommandAvailable[r]=o):console.warn(`Command ${r} is not supported by the app. Try updating the app version`),o||(n=!1)}),n}static install(t){if(typeof window>"u"||window.MiniKit)return{success:!1,errorCode:"already_installed",errorMessage:vn.already_installed};if(t?he.appId=t:console.warn("App ID not provided during install"),!window.WorldApp)return{success:!1,errorCode:"outside_of_worldapp",errorMessage:vn.outside_of_worldapp};he.user.optedIntoOptionalAnalytics=window.WorldApp.is_optional_analytics,he.user.deviceOS=window.WorldApp.device_os,he.user.worldAppVersion=window.WorldApp.world_app_version,he.deviceProperties.safeAreaInsets=window.WorldApp.safe_area_insets,he.deviceProperties.deviceOS=window.WorldApp.device_os,he.deviceProperties.worldAppVersion=window.WorldApp.world_app_version;try{window.MiniKit=he,this.sendInit()}catch(n){return console.error(vn.unknown,n),{success:!1,errorCode:"unknown",errorMessage:vn.unknown}}return he.isReady=!0,fg(),this.commandsValid(window.WorldApp.supported_commands)?{success:!0}:{success:!1,errorCode:"app_out_of_date",errorMessage:vn.app_out_of_date}}static isInstalled(t){const n=he.isReady&&!!window.MiniKit;return n||console.error("MiniKit is not installed. Make sure you're running the application inside of World App"),t&&n&&console.log("MiniKit is alive!"),n}};D.MINIKIT_VERSION=1;D.MINIKIT_MINOR_VERSION=96;D.miniKitCommandVersion={verify:1,pay:1,"wallet-auth":2,"send-transaction":1,"sign-message":1,"sign-typed-data":1,"share-contacts":1,"request-permission":1,"get-permissions":1,"send-haptic-feedback":1,share:1};D.isCommandAvailable={verify:!1,pay:!1,"wallet-auth":!1,"send-transaction":!1,"sign-message":!1,"sign-typed-data":!1,"share-contacts":!1,"request-permission":!1,"get-permissions":!1,"send-haptic-feedback":!1,share:!1};D.listeners={"miniapp-verify-action":()=>{},"miniapp-payment":()=>{},"miniapp-wallet-auth":()=>{},"miniapp-send-transaction":()=>{},"miniapp-sign-message":()=>{},"miniapp-sign-typed-data":()=>{},"miniapp-share-contacts":()=>{},"miniapp-request-permission":()=>{},"miniapp-get-permissions":()=>{},"miniapp-send-haptic-feedback":()=>{},"miniapp-share":()=>{},"miniapp-microphone":()=>{}};D.appId=null;D.user={};D.deviceProperties={};D.isReady=!1;D.getUserByAddress=async e=>{const t=await wg(e??D.user.walletAddress);return{walletAddress:e??D.user.walletAddress,username:t.username,profilePictureUrl:t.profile_picture_url}};D.getUserByUsername=async e=>{const n=await(await fetch(`https://usernames.worldcoin.org/api/v1/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}})).json();return{walletAddress:n.address,username:n.username,profilePictureUrl:n.profile_picture_url}};D.getUserInfo=D.getUserByAddress;D.commands={verify:e=>{if(typeof window>"u"||!D.isCommandAvailable.verify)return console.error("'verify' command is unavailable. Check MiniKit.install() or update the app version"),null;const t=new Date().toISOString(),n={action:dc(e.action),signal:fc(e.signal).digest,verification_level:e.verification_level||er.Orb,timestamp:t};return ke({command:"verify",version:D.miniKitCommandVersion.verify,payload:n}),n},pay:e=>{if(typeof window>"u"||!D.isCommandAvailable.pay)return console.error("'pay' command is unavailable. Check MiniKit.install() or update the app version"),null;if(!cg(e))return null;const t={...e,network:"worldchain"};return ke({command:"pay",version:D.miniKitCommandVersion.pay,payload:t}),t},walletAuth:e=>{var o,a;if(typeof window>"u"||!D.isCommandAvailable["wallet-auth"])return console.error("'walletAuth' command is unavailable. Check MiniKit.install() or update the app version"),null;const t=mg(e);if(!t.valid)return console.error(`Failed to validate wallet auth input:

 -->`,t.message),null;let n=null;try{n=new URL(window.location.href).protocol.split(":")[0]}catch(c){return console.error("Failed to get current URL",c),null}const s={siweMessage:ug({scheme:n,domain:window.location.host,statement:e.statement??void 0,uri:window.location.href,version:"1",chain_id:480,nonce:e.nonce,issued_at:new Date().toISOString(),expiration_time:((o=e.expirationTime)==null?void 0:o.toISOString())??void 0,not_before:((a=e.notBefore)==null?void 0:a.toISOString())??void 0,request_id:e.requestId??void 0})},i=D.user.worldAppVersion&&D.user.worldAppVersion>2087900?D.miniKitCommandVersion["wallet-auth"]:1;return ke({command:"wallet-auth",version:i,payload:s}),s},sendTransaction:e=>{if(typeof window>"u"||!D.isCommandAvailable["send-transaction"])return console.error("'sendTransaction' command is unavailable. Check MiniKit.install() or update the app version"),null;e.formatPayload=e.formatPayload!==!1;const t=gg(e);return ke({command:"send-transaction",version:D.miniKitCommandVersion["send-transaction"],payload:t}),t},signMessage:e=>typeof window>"u"||!D.isCommandAvailable["sign-message"]?(console.error("'signMessage' command is unavailable. Check MiniKit.install() or update the app version"),null):(ke({command:"sign-message",version:D.miniKitCommandVersion["sign-message"],payload:e}),e),signTypedData:e=>typeof window>"u"||!D.isCommandAvailable["sign-typed-data"]?(console.error("'signTypedData' command is unavailable. Check MiniKit.install() or update the app version"),null):(e.chainId||(e.chainId=480),ke({command:"sign-typed-data",version:D.miniKitCommandVersion["sign-typed-data"],payload:e}),e),shareContacts:e=>typeof window>"u"||!D.isCommandAvailable["share-contacts"]?(console.error("'shareContacts' command is unavailable. Check MiniKit.install() or update the app version"),null):(ke({command:"share-contacts",version:D.miniKitCommandVersion["share-contacts"],payload:e}),e),requestPermission:e=>typeof window>"u"||!D.isCommandAvailable["request-permission"]?(console.error("'requestPermission' command is unavailable. Check MiniKit.install() or update the app version"),null):(ke({command:"request-permission",version:D.miniKitCommandVersion["request-permission"],payload:e}),e),getPermissions:()=>typeof window>"u"||!D.isCommandAvailable["get-permissions"]?(console.error("'getPermissions' command is unavailable. Check MiniKit.install() or update the app version"),null):(ke({command:"get-permissions",version:D.miniKitCommandVersion["get-permissions"],payload:{}}),{status:"sent"}),sendHapticFeedback:e=>typeof window>"u"||!D.isCommandAvailable["send-haptic-feedback"]?(console.error("'sendHapticFeedback' command is unavailable. Check MiniKit.install() or update the app version"),null):(ke({command:"send-haptic-feedback",version:D.miniKitCommandVersion["send-haptic-feedback"],payload:e}),e),share:e=>typeof window>"u"||!D.isCommandAvailable.share?(console.error("'share' command is unavailable. Check MiniKit.install() or update the app version"),null):(D.deviceProperties.deviceOS==="ios"&&typeof navigator<"u"?(ke({command:"share",version:D.miniKitCommandVersion.share,payload:e}),navigator.share(e)):(bg(e).then(t=>{ke({command:"share",version:D.miniKitCommandVersion.share,payload:t})}).catch(t=>{console.error("Failed to format share input",t)}),D.subscribe("miniapp-share",t=>{console.log("Share Response",t)})),e)};D.commandsAsync={verify:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-verify-action","verify",()=>D.commands.verify(e));r.finalPayload.status==="success"&&r.finalPayload.verification_level===er.Orb&&(r.finalPayload.proof=await L0(r.finalPayload.proof)),t(r)}catch(r){n(r)}}),pay:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-payment","pay",()=>D.commands.pay(e));t(r)}catch(r){n(r)}}),walletAuth:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-wallet-auth","wallet-auth",()=>D.commands.walletAuth(e));return t(r)}catch(r){n(r)}}),sendTransaction:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-send-transaction","send-transaction",()=>D.commands.sendTransaction(e));return t(r)}catch(r){n(r)}}),signMessage:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-sign-message","sign-message",()=>D.commands.signMessage(e));return t(r)}catch(r){n(r)}}),signTypedData:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-sign-typed-data","sign-typed-data",()=>D.commands.signTypedData(e));return t(r)}catch(r){n(r)}}),shareContacts:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-share-contacts","share-contacts",()=>D.commands.shareContacts(e));return t(r)}catch(r){n(r)}}),requestPermission:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-request-permission","request-permission",()=>D.commands.requestPermission(e));t(r)}catch(r){n(r)}}),getPermissions:async()=>new Promise(async(e,t)=>{try{const n=await D.awaitCommand("miniapp-get-permissions","get-permissions",()=>D.commands.getPermissions());e(n)}catch(n){t(n)}}),sendHapticFeedback:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-send-haptic-feedback","send-haptic-feedback",()=>D.commands.sendHapticFeedback(e));t(r)}catch(r){n(r)}}),share:async e=>new Promise(async(t,n)=>{try{const r=await D.awaitCommand("miniapp-share","share",()=>D.commands.share(e));t({commandPayload:r.commandPayload,finalPayload:r.finalPayload})}catch(r){n(r)}})};var Kt=D;class de{static show(t,n="info"){const r=document.createElement("div");r.className=`toast toast-${n}`,r.textContent=t,r.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 20px;
      background: ${n==="error"?"#ef4444":n==="success"?"#10b981":"#3b82f6"};
      color: white;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      z-index: 10000;
      animation: slideIn 0.3s ease-out;
    `,document.body.appendChild(r),setTimeout(()=>{r.style.animation="slideOut 0.3s ease-in",setTimeout(()=>r.remove(),300)},3e3)}static success(t){this.show(t,"success")}static error(t){this.show(t,"error")}static info(t){this.show(t,"info")}static warning(t){this.show(t,"warning")}}const ft="https://elite-connect-backend-ktv9.onrender.com/api";class xg{constructor(){this.token=localStorage.getItem("token"),this.user=null,this.currentScreen="auth",this.init()}async init(){Kt.isInstalled()?(console.log(" MiniKit is installed"),await Kt.install(),console.log(" MiniKit installed successfully")):console.warn(" MiniKit not installed - running outside World App"),this.token?await this.loadUser():this.showAuth(),this.setupEventListeners()}setupEventListeners(){const t=document.getElementById("signInBtn");t&&t.addEventListener("click",()=>this.verifyWithWorldID());const n=document.getElementById("profileForm");n&&n.addEventListener("submit",g=>this.saveProfile(g));const r=document.getElementById("editProfileBtn");r&&r.addEventListener("click",()=>this.showProfileSetup());const s=document.getElementById("logoutBtn");s&&s.addEventListener("click",()=>this.logout());const i=document.getElementById("viewProfileBtn");i&&i.addEventListener("click",()=>this.showProfile());const o=document.getElementById("exploreBtn");o&&o.addEventListener("click",()=>this.showExplore());const a=document.getElementById("backToHomeBtn");a&&a.addEventListener("click",()=>this.showHome());const c=document.getElementById("chatBackBtn");c&&c.addEventListener("click",()=>this.showExplore());const d=document.getElementById("sendMessageBtn");d&&d.addEventListener("click",()=>this.sendMessage());const l=document.getElementById("messageInput");l&&l.addEventListener("keypress",g=>{g.key==="Enter"&&this.sendMessage()});const h=document.getElementById("subscriptionBackBtn");h&&h.addEventListener("click",()=>this.showProfile());const b=document.getElementById("subscribeBtn");b&&b.addEventListener("click",()=>this.subscribe());const m=document.getElementById("transactionBackBtn");m&&m.addEventListener("click",()=>this.showProfile())}async verifyWithWorldID(){var t;try{if(console.log(" [1] Starting verification..."),!Kt.isInstalled()){console.error(" [1.1] MiniKit not installed"),de.error("Please open this app in World App");return}console.log(" [1.2] MiniKit installed"),de.info("Opening World ID verification..."),console.log(" [2] Calling MiniKit.commandsAsync.verify...");const{finalPayload:n}=await Kt.commandsAsync.verify({action:"signin",signal:"",verification_level:er.Orb});if(console.log(" [3] World ID response:",JSON.stringify(n)),n.status==="success"){console.log(" [3.1] Verification successful"),de.info("Verifying your World ID..."),console.log(" [4] Sending to backend..."),console.log(" [4.1] API URL:",ft),console.log(" [4.2] Payload:",JSON.stringify(n));const r=await fetch(`${ft}/auth/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});console.log(" [5] Backend response status:",r.status);const s=await r.json();if(console.log(" [6] Backend data:",JSON.stringify(s)),s.success){console.log(" [6.1] Authentication successful"),this.token=s.token,this.user=s.user,localStorage.setItem("token",this.token),console.log(" [7] Token stored"),console.log(" [8] User:",JSON.stringify(this.user)),de.success("Welcome to Elite Connect!"),console.log(" [9] Profile completed?",(t=this.user)==null?void 0:t.profile_completed),console.log(" [10] Closing World ID modal...");try{await Kt.commandsAsync.closeModal(),console.log(" World ID modal closed")}catch(i){console.warn(" Could not close modal:",i)}setTimeout(()=>{console.log(" [11] Starting navigation...");const i=document.getElementById("auth");i&&(i.classList.add("hidden"),console.log(" Auth screen hidden")),this.user&&this.user.profile_completed?(console.log(" [12] Navigating to home"),this.showHome()):(console.log(" [12] Navigating to profile setup"),this.showProfileSetup()),console.log(" [13] Navigation complete")},300)}else console.error(" [6.2] Backend returned error:",s.error),de.error(s.error||"Verification failed")}else n.status==="error"?(console.error(" [3.2] World ID error:",n),de.error("Verification failed")):(console.log(" [3.3] Verification cancelled"),de.warning("Verification cancelled"))}catch(n){console.error(" [ERROR] Caught exception:",n),console.error(" [ERROR] Stack:",n.stack),console.error(" [ERROR] Message:",n.message),de.error("Verification failed. Please try again.")}}async loadUser(){try{const t=await fetch(`${ft}/auth/me`,{headers:{Authorization:`Bearer ${this.token}`}});if(t.ok){const n=await t.json();this.user=n.user,this.user.profile_completed?this.showHome():this.showProfileSetup()}else localStorage.removeItem("token"),this.token=null,this.showAuth()}catch(t){console.error("Error loading user:",t),localStorage.removeItem("token"),this.token=null,this.showAuth()}}async saveProfile(t){t.preventDefault();const n=t.target,r=new FormData(n),s={name:r.get("name"),age:parseInt(r.get("age")),gender:r.get("gender"),bio:r.get("bio"),interests:r.get("interests").split(",").map(i=>i.trim())};try{const o=await(await fetch(`${ft}/profile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify(s)})).json();o.success?(this.user=o.user,de.success("Profile saved successfully!"),this.showHome()):de.error(o.error||"Failed to save profile")}catch(i){console.error("Error saving profile:",i),de.error("Failed to save profile")}}async loadExploreProfiles(){try{const n=await(await fetch(`${ft}/explore`,{headers:{Authorization:`Bearer ${this.token}`}})).json();n.success?this.displayProfiles(n.profiles):de.error("Failed to load profiles")}catch(t){console.error("Error loading profiles:",t),de.error("Failed to load profiles")}}displayProfiles(t){const n=document.getElementById("profilesList");if(n){if(t.length===0){n.innerHTML='<p class="text-gray-500 text-center py-8">No profiles found</p>';return}n.innerHTML=t.map(r=>`
      <div class="bg-white rounded-lg p-4 shadow cursor-pointer hover:shadow-lg transition" 
           onclick="app.openChat('${r._id}')">
        <h3 class="font-bold text-lg">${r.name}</h3>
        <p class="text-gray-600">${r.age} years old</p>
        <p class="text-sm text-gray-500 mt-2">${r.bio}</p>
        <div class="mt-2 flex flex-wrap gap-2">
          ${r.interests.map(s=>`
            <span class="bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded">
              ${s}
            </span>
          `).join("")}
        </div>
      </div>
    `).join("")}}async openChat(t){this.currentChatUser=t,this.showChat(),await this.loadMessages(t)}async loadMessages(t){try{const r=await(await fetch(`${ft}/chat/${t}`,{headers:{Authorization:`Bearer ${this.token}`}})).json();r.success&&this.displayMessages(r.messages)}catch(n){console.error("Error loading messages:",n)}}displayMessages(t){const n=document.getElementById("messagesList");n&&(n.innerHTML=t.map(r=>`
      <div class="${r.sender===this.user._id?"text-right":"text-left"} mb-4">
        <div class="inline-block ${r.sender===this.user._id?"bg-purple-600 text-white":"bg-gray-200"} 
                    rounded-lg px-4 py-2 max-w-xs">
          ${r.content}
        </div>
        <div class="text-xs text-gray-500 mt-1">
          ${new Date(r.timestamp).toLocaleTimeString()}
        </div>
      </div>
    `).join(""),n.scrollTop=n.scrollHeight)}async sendMessage(){const t=document.getElementById("messageInput"),n=t.value.trim();if(n)try{(await(await fetch(`${ft}/chat/${this.currentChatUser}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.token}`},body:JSON.stringify({content:n})})).json()).success&&(t.value="",await this.loadMessages(this.currentChatUser))}catch(r){console.error("Error sending message:",r),de.error("Failed to send message")}}async subscribe(){try{const n=await(await fetch(`${ft}/subscription`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`}})).json();n.success?(this.user.subscription=n.subscription,de.success("Subscribed successfully!"),this.showProfile()):de.error(n.error||"Failed to subscribe")}catch(t){console.error("Error subscribing:",t),de.error("Failed to subscribe")}}logout(){localStorage.removeItem("token"),this.token=null,this.user=null,this.showAuth(),de.info("Logged out successfully")}showAuth(){this.hideAllScreens(),document.getElementById("auth").classList.remove("hidden"),this.currentScreen="auth"}showProfileSetup(){var n;console.log(" showProfileSetup() called"),this.hideAllScreens();const t=document.getElementById("profile-setup");t?(t.classList.remove("hidden"),console.log(" Profile setup screen shown"),this.user&&this.user.name&&(document.getElementById("name").value=this.user.name||"",document.getElementById("age").value=this.user.age||"",document.getElementById("gender").value=this.user.gender||"",document.getElementById("bio").value=this.user.bio||"",document.getElementById("interests").value=((n=this.user.interests)==null?void 0:n.join(", "))||"")):console.error(" Profile setup screen not found!"),this.currentScreen="profile-setup"}showHome(){console.log(" showHome() called"),this.hideAllScreens();const t=document.getElementById("home");if(t){t.classList.remove("hidden"),console.log(" Home screen shown");const n=document.getElementById("welcomeMessage");n&&this.user&&(n.textContent=`Welcome, ${this.user.name}!`)}else console.error(" Home screen not found!");this.currentScreen="home"}showProfile(){if(this.hideAllScreens(),document.getElementById("profile").classList.remove("hidden"),this.user){document.getElementById("profileName").textContent=this.user.name,document.getElementById("profileAge").textContent=`${this.user.age} years old`,document.getElementById("profileBio").textContent=this.user.bio;const t=document.getElementById("profileInterests");t.innerHTML=this.user.interests.map(r=>`
        <span class="bg-purple-100 text-purple-800 text-sm px-3 py-1 rounded-full">
          ${r}
        </span>
      `).join("");const n=document.getElementById("subscriptionStatus");this.user.subscription&&this.user.subscription.active?(n.textContent=`Premium - Expires ${new Date(this.user.subscription.end_date).toLocaleDateString()}`,n.classList.add("text-green-600")):(n.textContent="Free Plan",n.classList.add("text-gray-600"))}this.currentScreen="profile"}showExplore(){this.hideAllScreens(),document.getElementById("explore").classList.remove("hidden"),this.currentScreen="explore",this.loadExploreProfiles()}showChat(){this.hideAllScreens(),document.getElementById("chat").classList.remove("hidden"),this.currentScreen="chat"}showSubscription(){this.hideAllScreens(),document.getElementById("subscription").classList.remove("hidden"),this.currentScreen="subscription"}showTransactions(){this.hideAllScreens(),document.getElementById("transactions").classList.remove("hidden"),this.currentScreen="transactions",this.loadTransactions()}async loadTransactions(){try{const n=await(await fetch(`${ft}/transactions`,{headers:{Authorization:`Bearer ${this.token}`}})).json();n.success&&this.displayTransactions(n.transactions)}catch(t){console.error("Error loading transactions:",t)}}displayTransactions(t){const n=document.getElementById("transactionsList");if(n){if(t.length===0){n.innerHTML='<p class="text-gray-500 text-center py-8">No transactions yet</p>';return}n.innerHTML=t.map(r=>`
      <div class="bg-white rounded-lg p-4 shadow mb-4">
        <div class="flex justify-between items-center">
          <div>
            <p class="font-semibold">${r.type}</p>
            <p class="text-sm text-gray-600">${new Date(r.timestamp).toLocaleString()}</p>
          </div>
          <div class="text-right">
            <p class="font-bold ${r.amount>0?"text-green-600":"text-red-600"}">
              ${r.amount>0?"+":""}$${Math.abs(r.amount).toFixed(2)}
            </p>
            <p class="text-xs text-gray-500">${r.status}</p>
          </div>
        </div>
      </div>
    `).join("")}}hideAllScreens(){["auth","profile-setup","home","profile","explore","chat","subscription","transactions"].forEach(n=>{const r=document.getElementById(n);r&&r.classList.add("hidden")})}}const vg=new xg;window.app=vg;export{S as B,En as H,G1 as a,st as b,Jr as c,Jh as d,It as e,tt as f,ji as g,qr as i,es as l,be as s};
